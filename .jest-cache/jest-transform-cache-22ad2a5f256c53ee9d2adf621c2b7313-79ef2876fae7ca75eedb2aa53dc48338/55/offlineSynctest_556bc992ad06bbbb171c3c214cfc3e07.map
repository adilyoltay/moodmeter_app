{"version":3,"names":["_getJestObj","mock","store","Map","__esModule","default","getItem","jest","fn","_ref","_asyncToGenerator2","key","has","get","_x","apply","arguments","setItem","_ref2","value","set","_x2","_x3","removeItem","_ref3","delete","_x4","clear","getAllKeys","Array","from","keys","_interopRequireDefault","require","_asyncStorage","_require","describe","it","AsyncStorage","JSON","stringify","entity","count","at","Date","toISOString","conflicts","raw","expect","toBeTruthy"],"sources":["offlineSync.test.ts"],"sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\n\njest.mock('@react-native-async-storage/async-storage', () => {\n  const store = new Map<string, string>();\n  return {\n    __esModule: true,\n    default: {\n      getItem: jest.fn(async (key: string) => (store.has(key) ? store.get(key)! : null)),\n      setItem: jest.fn(async (key: string, value: string) => { store.set(key, value); }),\n      removeItem: jest.fn(async (key: string) => { store.delete(key); }),\n      clear: jest.fn(async () => { store.clear(); }),\n      getAllKeys: jest.fn(async () => Array.from(store.keys())),\n    }\n  };\n});\n\ndescribe('sync conflicts log', () => {\n  it('can write and read sync_conflicts', async () => {\n    await AsyncStorage.setItem('sync_conflicts', JSON.stringify([{ entity: 'compulsion', count: 1, at: new Date().toISOString(), conflicts: [] }]));\n    const raw = await AsyncStorage.getItem('sync_conflicts');\n    expect(raw).toBeTruthy();\n  });\n});\n\n\n"],"mappings":"AAEAA,WAAA,GAAKC,IAAI,CAAC,2CAA2C,EAAE,YAAM;EAC3D,IAAMC,KAAK,GAAG,IAAIC,GAAG,CAAiB,CAAC;EACvC,OAAO;IACLC,UAAU,EAAE,IAAI;IAChBC,OAAO,EAAE;MACPC,OAAO,EAAEC,IAAI,CAACC,EAAE;QAAA,IAAAC,IAAA,OAAAC,kBAAA,CAAAL,OAAA,EAAC,WAAOM,GAAW;UAAA,OAAMT,KAAK,CAACU,GAAG,CAACD,GAAG,CAAC,GAAGT,KAAK,CAACW,GAAG,CAACF,GAAG,CAAC,GAAI,IAAI;QAAA,CAAC;QAAA,iBAAAG,EAAA;UAAA,OAAAL,IAAA,CAAAM,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC;MAClFC,OAAO,EAAEV,IAAI,CAACC,EAAE;QAAA,IAAAU,KAAA,OAAAR,kBAAA,CAAAL,OAAA,EAAC,WAAOM,GAAW,EAAEQ,KAAa,EAAK;UAAEjB,KAAK,CAACkB,GAAG,CAACT,GAAG,EAAEQ,KAAK,CAAC;QAAE,CAAC;QAAA,iBAAAE,GAAA,EAAAC,GAAA;UAAA,OAAAJ,KAAA,CAAAH,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC;MAClFO,UAAU,EAAEhB,IAAI,CAACC,EAAE;QAAA,IAAAgB,KAAA,OAAAd,kBAAA,CAAAL,OAAA,EAAC,WAAOM,GAAW,EAAK;UAAET,KAAK,CAACuB,MAAM,CAACd,GAAG,CAAC;QAAE,CAAC;QAAA,iBAAAe,GAAA;UAAA,OAAAF,KAAA,CAAAT,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC;MAClEW,KAAK,EAAEpB,IAAI,CAACC,EAAE,KAAAE,kBAAA,CAAAL,OAAA,EAAC,aAAY;QAAEH,KAAK,CAACyB,KAAK,CAAC,CAAC;MAAE,CAAC,EAAC;MAC9CC,UAAU,EAAErB,IAAI,CAACC,EAAE,KAAAE,kBAAA,CAAAL,OAAA,EAAC;QAAA,OAAYwB,KAAK,CAACC,IAAI,CAAC5B,KAAK,CAAC6B,IAAI,CAAC,CAAC,CAAC;MAAA;IAC1D;EACF,CAAC;AACH,CAAC,CAAC;AAAC,IAAAC,sBAAA,GAAAC,OAAA;AAAA,IAAAvB,kBAAA,GAAAsB,sBAAA,CAAAC,OAAA;AAdH,IAAAC,aAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAqE,SAAAjC,YAAA;EAAA,IAAAmC,QAAA,GAAAF,OAAA;IAAA1B,IAAA,GAAA4B,QAAA,CAAA5B,IAAA;EAAAP,WAAA,YAAAA,YAAA;IAAA,OAAAO,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAgBrE6B,QAAQ,CAAC,oBAAoB,EAAE,YAAM;EACnCC,EAAE,CAAC,mCAAmC,MAAA3B,kBAAA,CAAAL,OAAA,EAAE,aAAY;IAClD,MAAMiC,qBAAY,CAACrB,OAAO,CAAC,gBAAgB,EAAEsB,IAAI,CAACC,SAAS,CAAC,CAAC;MAAEC,MAAM,EAAE,YAAY;MAAEC,KAAK,EAAE,CAAC;MAAEC,EAAE,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;MAAEC,SAAS,EAAE;IAAG,CAAC,CAAC,CAAC,CAAC;IAC/I,IAAMC,GAAG,SAAST,qBAAY,CAAChC,OAAO,CAAC,gBAAgB,CAAC;IACxD0C,MAAM,CAACD,GAAG,CAAC,CAACE,UAAU,CAAC,CAAC;EAC1B,CAAC,EAAC;AACJ,CAAC,CAAC","ignoreList":[]}