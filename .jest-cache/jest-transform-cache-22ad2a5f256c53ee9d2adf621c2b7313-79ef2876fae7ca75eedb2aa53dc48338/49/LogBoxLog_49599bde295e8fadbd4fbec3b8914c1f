a7aa0be1862f0a784c98039cba86f66d
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var LogBoxSymbolication = _interopRequireWildcard(require("./LogBoxSymbolication"));
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function convertComponentStateToStack(componentStack) {
  return componentStack.map(function (frame) {
    var _frame$location, _frame$location2;
    return {
      column: frame == null || (_frame$location = frame.location) == null ? void 0 : _frame$location.column,
      file: frame.fileName,
      lineNumber: frame == null || (_frame$location2 = frame.location) == null ? void 0 : _frame$location2.row,
      methodName: frame.content,
      collapse: false
    };
  });
}
function convertStackToComponentStack(stack) {
  var componentStack = [];
  for (var i = 0; i < stack.length; i++) {
    var frame = stack[i];
    if (frame.lineNumber != null && frame.column != null) {
      componentStack.push({
        fileName: (frame == null ? void 0 : frame.file) || '',
        location: {
          row: frame.lineNumber,
          column: frame.column
        },
        content: frame.methodName,
        collapse: false
      });
    }
  }
  return componentStack;
}
var LogBoxLog = function () {
  function LogBoxLog(data) {
    (0, _classCallCheck2.default)(this, LogBoxLog);
    this.symbolicated = {
      error: null,
      stack: null,
      status: 'NONE'
    };
    this.symbolicatedComponentStack = {
      error: null,
      componentStack: null,
      status: 'NONE'
    };
    this.level = data.level;
    this.type = data.type;
    this.message = data.message;
    this.stack = data.stack;
    this.category = data.category;
    this.componentStack = data.componentStack;
    this.componentStackType = data.componentStackType || 'legacy';
    this.codeFrame = data.codeFrame;
    this.isComponentError = data.isComponentError;
    this.extraData = data.extraData;
    this.count = 1;
    this.onNotificationPress = data.onNotificationPress;
  }
  return (0, _createClass2.default)(LogBoxLog, [{
    key: "incrementCount",
    value: function incrementCount() {
      this.count += 1;
    }
  }, {
    key: "getAvailableStack",
    value: function getAvailableStack() {
      return this.symbolicated.status === 'COMPLETE' ? this.symbolicated.stack : this.stack;
    }
  }, {
    key: "getAvailableComponentStack",
    value: function getAvailableComponentStack() {
      if (this.componentStackType === 'legacy') {
        return this.componentStack;
      }
      return this.symbolicatedComponentStack.status === 'COMPLETE' ? this.symbolicatedComponentStack.componentStack : this.componentStack;
    }
  }, {
    key: "retrySymbolicate",
    value: function retrySymbolicate(callback) {
      var retry = false;
      if (this.symbolicated.status !== 'COMPLETE') {
        LogBoxSymbolication.deleteStack(this.stack);
        retry = true;
      }
      if (this.symbolicatedComponentStack.status !== 'COMPLETE') {
        LogBoxSymbolication.deleteStack(convertComponentStateToStack(this.componentStack));
        retry = true;
      }
      if (retry) {
        this.handleSymbolicate(callback);
      }
    }
  }, {
    key: "symbolicate",
    value: function symbolicate(callback) {
      if (this.symbolicated.status === 'NONE') {
        this.handleSymbolicate(callback);
      }
    }
  }, {
    key: "handleSymbolicate",
    value: function handleSymbolicate(callback) {
      var _this = this;
      if (this.symbolicated.status !== 'PENDING' && this.symbolicated.status !== 'COMPLETE') {
        this.updateStatus(null, null, null, callback);
        LogBoxSymbolication.symbolicate(this.stack, this.extraData).then(function (data) {
          _this.updateStatus(null, data == null ? void 0 : data.stack, data == null ? void 0 : data.codeFrame, callback);
        }, function (error) {
          _this.updateStatus(error, null, null, callback);
        });
      }
      if (this.componentStack != null && this.componentStackType === 'stack' && this.symbolicatedComponentStack.status !== 'PENDING' && this.symbolicatedComponentStack.status !== 'COMPLETE') {
        this.updateComponentStackStatus(null, null, null, callback);
        var componentStackFrames = convertComponentStateToStack(this.componentStack);
        LogBoxSymbolication.symbolicate(componentStackFrames, []).then(function (data) {
          _this.updateComponentStackStatus(null, convertStackToComponentStack(data.stack), data == null ? void 0 : data.codeFrame, callback);
        }, function (error) {
          _this.updateComponentStackStatus(error, null, null, callback);
        });
      }
    }
  }, {
    key: "updateStatus",
    value: function updateStatus(error, stack, codeFrame, callback) {
      var lastStatus = this.symbolicated.status;
      if (error != null) {
        this.symbolicated = {
          error: error,
          stack: null,
          status: 'FAILED'
        };
      } else if (stack != null) {
        if (codeFrame) {
          this.codeFrame = codeFrame;
        }
        this.symbolicated = {
          error: null,
          stack: stack,
          status: 'COMPLETE'
        };
      } else {
        this.symbolicated = {
          error: null,
          stack: null,
          status: 'PENDING'
        };
      }
      if (callback && lastStatus !== this.symbolicated.status) {
        callback(this.symbolicated.status);
      }
    }
  }, {
    key: "updateComponentStackStatus",
    value: function updateComponentStackStatus(error, componentStack, codeFrame, callback) {
      var lastStatus = this.symbolicatedComponentStack.status;
      if (error != null) {
        this.symbolicatedComponentStack = {
          error: error,
          componentStack: null,
          status: 'FAILED'
        };
      } else if (componentStack != null) {
        if (codeFrame) {
          this.componentCodeFrame = codeFrame;
        }
        this.symbolicatedComponentStack = {
          error: null,
          componentStack: componentStack,
          status: 'COMPLETE'
        };
      } else {
        this.symbolicatedComponentStack = {
          error: null,
          componentStack: null,
          status: 'PENDING'
        };
      }
      if (callback && lastStatus !== this.symbolicatedComponentStack.status) {
        callback(this.symbolicatedComponentStack.status);
      }
    }
  }]);
}();
var _default = exports.default = LogBoxLog;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJMb2dCb3hTeW1ib2xpY2F0aW9uIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJyZXF1aXJlIiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsIl90IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJjb252ZXJ0Q29tcG9uZW50U3RhdGVUb1N0YWNrIiwiY29tcG9uZW50U3RhY2siLCJtYXAiLCJmcmFtZSIsIl9mcmFtZSRsb2NhdGlvbiIsIl9mcmFtZSRsb2NhdGlvbjIiLCJjb2x1bW4iLCJsb2NhdGlvbiIsImZpbGUiLCJmaWxlTmFtZSIsImxpbmVOdW1iZXIiLCJyb3ciLCJtZXRob2ROYW1lIiwiY29udGVudCIsImNvbGxhcHNlIiwiY29udmVydFN0YWNrVG9Db21wb25lbnRTdGFjayIsInN0YWNrIiwibGVuZ3RoIiwicHVzaCIsIkxvZ0JveExvZyIsImRhdGEiLCJfY2xhc3NDYWxsQ2hlY2syIiwic3ltYm9saWNhdGVkIiwiZXJyb3IiLCJzdGF0dXMiLCJzeW1ib2xpY2F0ZWRDb21wb25lbnRTdGFjayIsImxldmVsIiwidHlwZSIsIm1lc3NhZ2UiLCJjYXRlZ29yeSIsImNvbXBvbmVudFN0YWNrVHlwZSIsImNvZGVGcmFtZSIsImlzQ29tcG9uZW50RXJyb3IiLCJleHRyYURhdGEiLCJjb3VudCIsIm9uTm90aWZpY2F0aW9uUHJlc3MiLCJfY3JlYXRlQ2xhc3MyIiwia2V5IiwidmFsdWUiLCJpbmNyZW1lbnRDb3VudCIsImdldEF2YWlsYWJsZVN0YWNrIiwiZ2V0QXZhaWxhYmxlQ29tcG9uZW50U3RhY2siLCJyZXRyeVN5bWJvbGljYXRlIiwiY2FsbGJhY2siLCJyZXRyeSIsImRlbGV0ZVN0YWNrIiwiaGFuZGxlU3ltYm9saWNhdGUiLCJzeW1ib2xpY2F0ZSIsIl90aGlzIiwidXBkYXRlU3RhdHVzIiwidGhlbiIsInVwZGF0ZUNvbXBvbmVudFN0YWNrU3RhdHVzIiwiY29tcG9uZW50U3RhY2tGcmFtZXMiLCJsYXN0U3RhdHVzIiwiY29tcG9uZW50Q29kZUZyYW1lIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiTG9nQm94TG9nLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvdyBzdHJpY3RcbiAqIEBmb3JtYXRcbiAqL1xuXG5pbXBvcnQgdHlwZSB7U3RhY2t9IGZyb20gJy4vTG9nQm94U3ltYm9saWNhdGlvbic7XG5pbXBvcnQgdHlwZSB7XG4gIENhdGVnb3J5LFxuICBDb2RlRnJhbWUsXG4gIENvbXBvbmVudFN0YWNrLFxuICBDb21wb25lbnRTdGFja1R5cGUsXG4gIE1lc3NhZ2UsXG59IGZyb20gJy4vcGFyc2VMb2dCb3hMb2cnO1xuXG5pbXBvcnQgKiBhcyBMb2dCb3hTeW1ib2xpY2F0aW9uIGZyb20gJy4vTG9nQm94U3ltYm9saWNhdGlvbic7XG5cbnR5cGUgU3ltYm9saWNhdGlvblN0YXR1cyA9ICdOT05FJyB8ICdQRU5ESU5HJyB8ICdDT01QTEVURScgfCAnRkFJTEVEJztcblxuZXhwb3J0IHR5cGUgTG9nTGV2ZWwgPSAnd2FybicgfCAnZXJyb3InIHwgJ2ZhdGFsJyB8ICdzeW50YXgnO1xuXG4vLyBUT0RPOiBvbmNlIGNvbXBvbmVudCBzdGFja3MgYXJlIGZ1bGx5IHN1cHBvcnRlZCwgd2UgY2FuIHJlZmFjdG9yXG4vLyBDb21wb25lbnRTdGFjayB0byBqdXN0IGJlIFN0YWNrIGFuZCByZW1vdmUgdGhlc2UgY29udmVyc2lvbnMgZm5zLlxuZnVuY3Rpb24gY29udmVydENvbXBvbmVudFN0YXRlVG9TdGFjayhjb21wb25lbnRTdGFjazogQ29tcG9uZW50U3RhY2spOiBTdGFjayB7XG4gIHJldHVybiBjb21wb25lbnRTdGFjay5tYXAoZnJhbWUgPT4gKHtcbiAgICBjb2x1bW46IGZyYW1lPy5sb2NhdGlvbj8uY29sdW1uLFxuICAgIGZpbGU6IGZyYW1lLmZpbGVOYW1lLFxuICAgIGxpbmVOdW1iZXI6IGZyYW1lPy5sb2NhdGlvbj8ucm93LFxuICAgIG1ldGhvZE5hbWU6IGZyYW1lLmNvbnRlbnQsXG4gICAgY29sbGFwc2U6IGZhbHNlLFxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRTdGFja1RvQ29tcG9uZW50U3RhY2soc3RhY2s6IFN0YWNrKTogQ29tcG9uZW50U3RhY2sge1xuICBjb25zdCBjb21wb25lbnRTdGFjayA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZnJhbWUgPSBzdGFja1tpXTtcbiAgICAvLyBOT1RFOiBTa2lwIHN0YWNrIGZyYW1lcyBtaXNzaW5nIGxvY2F0aW9uLlxuICAgIGlmIChmcmFtZS5saW5lTnVtYmVyICE9IG51bGwgJiYgZnJhbWUuY29sdW1uICE9IG51bGwpIHtcbiAgICAgIGNvbXBvbmVudFN0YWNrLnB1c2goe1xuICAgICAgICBmaWxlTmFtZTogZnJhbWU/LmZpbGUgfHwgJycsXG4gICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgcm93OiBmcmFtZS5saW5lTnVtYmVyLFxuICAgICAgICAgIGNvbHVtbjogZnJhbWUuY29sdW1uLFxuICAgICAgICB9LFxuICAgICAgICBjb250ZW50OiBmcmFtZS5tZXRob2ROYW1lLFxuICAgICAgICBjb2xsYXBzZTogZmFsc2UsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbXBvbmVudFN0YWNrO1xufVxuXG5leHBvcnQgdHlwZSBMb2dCb3hMb2dEYXRhID0gJFJlYWRPbmx5PHtcbiAgbGV2ZWw6IExvZ0xldmVsLFxuICB0eXBlPzogP3N0cmluZyxcbiAgbWVzc2FnZTogTWVzc2FnZSxcbiAgc3RhY2s6IFN0YWNrLFxuICBjYXRlZ29yeTogc3RyaW5nLFxuICBjb21wb25lbnRTdGFja1R5cGU/OiBDb21wb25lbnRTdGFja1R5cGUsXG4gIGNvbXBvbmVudFN0YWNrOiBDb21wb25lbnRTdGFjayxcbiAgY29kZUZyYW1lPzogP0NvZGVGcmFtZSxcbiAgaXNDb21wb25lbnRFcnJvcjogYm9vbGVhbixcbiAgZXh0cmFEYXRhPzogbWl4ZWQsXG4gIG9uTm90aWZpY2F0aW9uUHJlc3M/OiA/KCkgPT4gdm9pZCxcbn0+O1xuXG5jbGFzcyBMb2dCb3hMb2cge1xuICBtZXNzYWdlOiBNZXNzYWdlO1xuICB0eXBlOiA/c3RyaW5nO1xuICBjYXRlZ29yeTogQ2F0ZWdvcnk7XG4gIGNvbXBvbmVudFN0YWNrOiBDb21wb25lbnRTdGFjaztcbiAgY29tcG9uZW50U3RhY2tUeXBlOiBDb21wb25lbnRTdGFja1R5cGU7XG4gIHN0YWNrOiBTdGFjaztcbiAgY291bnQ6IG51bWJlcjtcbiAgbGV2ZWw6IExvZ0xldmVsO1xuICBjb2RlRnJhbWU6ID9Db2RlRnJhbWU7XG4gIGNvbXBvbmVudENvZGVGcmFtZTogP0NvZGVGcmFtZTtcbiAgaXNDb21wb25lbnRFcnJvcjogYm9vbGVhbjtcbiAgZXh0cmFEYXRhOiBtaXhlZCB8IHZvaWQ7XG4gIHN5bWJvbGljYXRlZDpcbiAgICB8ICRSZWFkT25seTx7ZXJyb3I6IG51bGwsIHN0YWNrOiBudWxsLCBzdGF0dXM6ICdOT05FJ30+XG4gICAgfCAkUmVhZE9ubHk8e2Vycm9yOiBudWxsLCBzdGFjazogbnVsbCwgc3RhdHVzOiAnUEVORElORyd9PlxuICAgIHwgJFJlYWRPbmx5PHtlcnJvcjogbnVsbCwgc3RhY2s6IFN0YWNrLCBzdGF0dXM6ICdDT01QTEVURSd9PlxuICAgIHwgJFJlYWRPbmx5PHtlcnJvcjogRXJyb3IsIHN0YWNrOiBudWxsLCBzdGF0dXM6ICdGQUlMRUQnfT4gPSB7XG4gICAgZXJyb3I6IG51bGwsXG4gICAgc3RhY2s6IG51bGwsXG4gICAgc3RhdHVzOiAnTk9ORScsXG4gIH07XG4gIHN5bWJvbGljYXRlZENvbXBvbmVudFN0YWNrOlxuICAgIHwgJFJlYWRPbmx5PHtlcnJvcjogbnVsbCwgY29tcG9uZW50U3RhY2s6IG51bGwsIHN0YXR1czogJ05PTkUnfT5cbiAgICB8ICRSZWFkT25seTx7ZXJyb3I6IG51bGwsIGNvbXBvbmVudFN0YWNrOiBudWxsLCBzdGF0dXM6ICdQRU5ESU5HJ30+XG4gICAgfCAkUmVhZE9ubHk8e1xuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgY29tcG9uZW50U3RhY2s6IENvbXBvbmVudFN0YWNrLFxuICAgICAgICBzdGF0dXM6ICdDT01QTEVURScsXG4gICAgICB9PlxuICAgIHwgJFJlYWRPbmx5PHtlcnJvcjogRXJyb3IsIGNvbXBvbmVudFN0YWNrOiBudWxsLCBzdGF0dXM6ICdGQUlMRUQnfT4gPSB7XG4gICAgZXJyb3I6IG51bGwsXG4gICAgY29tcG9uZW50U3RhY2s6IG51bGwsXG4gICAgc3RhdHVzOiAnTk9ORScsXG4gIH07XG4gIG9uTm90aWZpY2F0aW9uUHJlc3M6ID8oKSA9PiB2b2lkO1xuXG4gIGNvbnN0cnVjdG9yKGRhdGE6IExvZ0JveExvZ0RhdGEpIHtcbiAgICB0aGlzLmxldmVsID0gZGF0YS5sZXZlbDtcbiAgICB0aGlzLnR5cGUgPSBkYXRhLnR5cGU7XG4gICAgdGhpcy5tZXNzYWdlID0gZGF0YS5tZXNzYWdlO1xuICAgIHRoaXMuc3RhY2sgPSBkYXRhLnN0YWNrO1xuICAgIHRoaXMuY2F0ZWdvcnkgPSBkYXRhLmNhdGVnb3J5O1xuICAgIHRoaXMuY29tcG9uZW50U3RhY2sgPSBkYXRhLmNvbXBvbmVudFN0YWNrO1xuICAgIHRoaXMuY29tcG9uZW50U3RhY2tUeXBlID0gZGF0YS5jb21wb25lbnRTdGFja1R5cGUgfHwgJ2xlZ2FjeSc7XG4gICAgdGhpcy5jb2RlRnJhbWUgPSBkYXRhLmNvZGVGcmFtZTtcbiAgICB0aGlzLmlzQ29tcG9uZW50RXJyb3IgPSBkYXRhLmlzQ29tcG9uZW50RXJyb3I7XG4gICAgdGhpcy5leHRyYURhdGEgPSBkYXRhLmV4dHJhRGF0YTtcbiAgICB0aGlzLmNvdW50ID0gMTtcbiAgICB0aGlzLm9uTm90aWZpY2F0aW9uUHJlc3MgPSBkYXRhLm9uTm90aWZpY2F0aW9uUHJlc3M7XG4gIH1cblxuICBpbmNyZW1lbnRDb3VudCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvdW50ICs9IDE7XG4gIH1cblxuICBnZXRBdmFpbGFibGVTdGFjaygpOiBTdGFjayB7XG4gICAgcmV0dXJuIHRoaXMuc3ltYm9saWNhdGVkLnN0YXR1cyA9PT0gJ0NPTVBMRVRFJ1xuICAgICAgPyB0aGlzLnN5bWJvbGljYXRlZC5zdGFja1xuICAgICAgOiB0aGlzLnN0YWNrO1xuICB9XG5cbiAgZ2V0QXZhaWxhYmxlQ29tcG9uZW50U3RhY2soKTogQ29tcG9uZW50U3RhY2sge1xuICAgIGlmICh0aGlzLmNvbXBvbmVudFN0YWNrVHlwZSA9PT0gJ2xlZ2FjeScpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudFN0YWNrO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zeW1ib2xpY2F0ZWRDb21wb25lbnRTdGFjay5zdGF0dXMgPT09ICdDT01QTEVURSdcbiAgICAgID8gdGhpcy5zeW1ib2xpY2F0ZWRDb21wb25lbnRTdGFjay5jb21wb25lbnRTdGFja1xuICAgICAgOiB0aGlzLmNvbXBvbmVudFN0YWNrO1xuICB9XG5cbiAgcmV0cnlTeW1ib2xpY2F0ZShjYWxsYmFjaz86IChzdGF0dXM6IFN5bWJvbGljYXRpb25TdGF0dXMpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBsZXQgcmV0cnkgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5zeW1ib2xpY2F0ZWQuc3RhdHVzICE9PSAnQ09NUExFVEUnKSB7XG4gICAgICBMb2dCb3hTeW1ib2xpY2F0aW9uLmRlbGV0ZVN0YWNrKHRoaXMuc3RhY2spO1xuICAgICAgcmV0cnkgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodGhpcy5zeW1ib2xpY2F0ZWRDb21wb25lbnRTdGFjay5zdGF0dXMgIT09ICdDT01QTEVURScpIHtcbiAgICAgIExvZ0JveFN5bWJvbGljYXRpb24uZGVsZXRlU3RhY2soXG4gICAgICAgIGNvbnZlcnRDb21wb25lbnRTdGF0ZVRvU3RhY2sodGhpcy5jb21wb25lbnRTdGFjayksXG4gICAgICApO1xuICAgICAgcmV0cnkgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAocmV0cnkpIHtcbiAgICAgIHRoaXMuaGFuZGxlU3ltYm9saWNhdGUoY2FsbGJhY2spO1xuICAgIH1cbiAgfVxuXG4gIHN5bWJvbGljYXRlKGNhbGxiYWNrPzogKHN0YXR1czogU3ltYm9saWNhdGlvblN0YXR1cykgPT4gdm9pZCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnN5bWJvbGljYXRlZC5zdGF0dXMgPT09ICdOT05FJykge1xuICAgICAgdGhpcy5oYW5kbGVTeW1ib2xpY2F0ZShjYWxsYmFjayk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlU3ltYm9saWNhdGUoY2FsbGJhY2s/OiAoc3RhdHVzOiBTeW1ib2xpY2F0aW9uU3RhdHVzKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5zeW1ib2xpY2F0ZWQuc3RhdHVzICE9PSAnUEVORElORycgJiZcbiAgICAgIHRoaXMuc3ltYm9saWNhdGVkLnN0YXR1cyAhPT0gJ0NPTVBMRVRFJ1xuICAgICkge1xuICAgICAgdGhpcy51cGRhdGVTdGF0dXMobnVsbCwgbnVsbCwgbnVsbCwgY2FsbGJhY2spO1xuICAgICAgTG9nQm94U3ltYm9saWNhdGlvbi5zeW1ib2xpY2F0ZSh0aGlzLnN0YWNrLCB0aGlzLmV4dHJhRGF0YSkudGhlbihcbiAgICAgICAgZGF0YSA9PiB7XG4gICAgICAgICAgdGhpcy51cGRhdGVTdGF0dXMobnVsbCwgZGF0YT8uc3RhY2ssIGRhdGE/LmNvZGVGcmFtZSwgY2FsbGJhY2spO1xuICAgICAgICB9LFxuICAgICAgICBlcnJvciA9PiB7XG4gICAgICAgICAgdGhpcy51cGRhdGVTdGF0dXMoZXJyb3IsIG51bGwsIG51bGwsIGNhbGxiYWNrKTtcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHRoaXMuY29tcG9uZW50U3RhY2sgIT0gbnVsbCAmJlxuICAgICAgdGhpcy5jb21wb25lbnRTdGFja1R5cGUgPT09ICdzdGFjaycgJiZcbiAgICAgIHRoaXMuc3ltYm9saWNhdGVkQ29tcG9uZW50U3RhY2suc3RhdHVzICE9PSAnUEVORElORycgJiZcbiAgICAgIHRoaXMuc3ltYm9saWNhdGVkQ29tcG9uZW50U3RhY2suc3RhdHVzICE9PSAnQ09NUExFVEUnXG4gICAgKSB7XG4gICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudFN0YWNrU3RhdHVzKG51bGwsIG51bGwsIG51bGwsIGNhbGxiYWNrKTtcbiAgICAgIGNvbnN0IGNvbXBvbmVudFN0YWNrRnJhbWVzID0gY29udmVydENvbXBvbmVudFN0YXRlVG9TdGFjayhcbiAgICAgICAgdGhpcy5jb21wb25lbnRTdGFjayxcbiAgICAgICk7XG4gICAgICBMb2dCb3hTeW1ib2xpY2F0aW9uLnN5bWJvbGljYXRlKGNvbXBvbmVudFN0YWNrRnJhbWVzLCBbXSkudGhlbihcbiAgICAgICAgZGF0YSA9PiB7XG4gICAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnRTdGFja1N0YXR1cyhcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBjb252ZXJ0U3RhY2tUb0NvbXBvbmVudFN0YWNrKGRhdGEuc3RhY2spLFxuICAgICAgICAgICAgZGF0YT8uY29kZUZyYW1lLFxuICAgICAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3IgPT4ge1xuICAgICAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50U3RhY2tTdGF0dXMoZXJyb3IsIG51bGwsIG51bGwsIGNhbGxiYWNrKTtcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlU3RhdHVzKFxuICAgIGVycm9yOiA/RXJyb3IsXG4gICAgc3RhY2s6ID9TdGFjayxcbiAgICBjb2RlRnJhbWU6ID9Db2RlRnJhbWUsXG4gICAgY2FsbGJhY2s/OiAoc3RhdHVzOiBTeW1ib2xpY2F0aW9uU3RhdHVzKSA9PiB2b2lkLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBsYXN0U3RhdHVzID0gdGhpcy5zeW1ib2xpY2F0ZWQuc3RhdHVzO1xuICAgIGlmIChlcnJvciAhPSBudWxsKSB7XG4gICAgICB0aGlzLnN5bWJvbGljYXRlZCA9IHtcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIHN0YWNrOiBudWxsLFxuICAgICAgICBzdGF0dXM6ICdGQUlMRUQnLFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKHN0YWNrICE9IG51bGwpIHtcbiAgICAgIGlmIChjb2RlRnJhbWUpIHtcbiAgICAgICAgdGhpcy5jb2RlRnJhbWUgPSBjb2RlRnJhbWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3ltYm9saWNhdGVkID0ge1xuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgc3RhY2ssXG4gICAgICAgIHN0YXR1czogJ0NPTVBMRVRFJyxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3ltYm9saWNhdGVkID0ge1xuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgc3RhY2s6IG51bGwsXG4gICAgICAgIHN0YXR1czogJ1BFTkRJTkcnLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoY2FsbGJhY2sgJiYgbGFzdFN0YXR1cyAhPT0gdGhpcy5zeW1ib2xpY2F0ZWQuc3RhdHVzKSB7XG4gICAgICBjYWxsYmFjayh0aGlzLnN5bWJvbGljYXRlZC5zdGF0dXMpO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZUNvbXBvbmVudFN0YWNrU3RhdHVzKFxuICAgIGVycm9yOiA/RXJyb3IsXG4gICAgY29tcG9uZW50U3RhY2s6ID9Db21wb25lbnRTdGFjayxcbiAgICBjb2RlRnJhbWU6ID9Db2RlRnJhbWUsXG4gICAgY2FsbGJhY2s/OiAoc3RhdHVzOiBTeW1ib2xpY2F0aW9uU3RhdHVzKSA9PiB2b2lkLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBsYXN0U3RhdHVzID0gdGhpcy5zeW1ib2xpY2F0ZWRDb21wb25lbnRTdGFjay5zdGF0dXM7XG4gICAgaWYgKGVycm9yICE9IG51bGwpIHtcbiAgICAgIHRoaXMuc3ltYm9saWNhdGVkQ29tcG9uZW50U3RhY2sgPSB7XG4gICAgICAgIGVycm9yLFxuICAgICAgICBjb21wb25lbnRTdGFjazogbnVsbCxcbiAgICAgICAgc3RhdHVzOiAnRkFJTEVEJyxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChjb21wb25lbnRTdGFjayAhPSBudWxsKSB7XG4gICAgICBpZiAoY29kZUZyYW1lKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50Q29kZUZyYW1lID0gY29kZUZyYW1lO1xuICAgICAgfVxuICAgICAgdGhpcy5zeW1ib2xpY2F0ZWRDb21wb25lbnRTdGFjayA9IHtcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIGNvbXBvbmVudFN0YWNrLFxuICAgICAgICBzdGF0dXM6ICdDT01QTEVURScsXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN5bWJvbGljYXRlZENvbXBvbmVudFN0YWNrID0ge1xuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgY29tcG9uZW50U3RhY2s6IG51bGwsXG4gICAgICAgIHN0YXR1czogJ1BFTkRJTkcnLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoY2FsbGJhY2sgJiYgbGFzdFN0YXR1cyAhPT0gdGhpcy5zeW1ib2xpY2F0ZWRDb21wb25lbnRTdGFjay5zdGF0dXMpIHtcbiAgICAgIGNhbGxiYWNrKHRoaXMuc3ltYm9saWNhdGVkQ29tcG9uZW50U3Rh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