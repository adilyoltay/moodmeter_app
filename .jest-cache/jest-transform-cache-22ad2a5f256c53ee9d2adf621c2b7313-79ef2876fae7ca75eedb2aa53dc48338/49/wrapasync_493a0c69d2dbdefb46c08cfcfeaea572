685f71b362e1c1f3a0569c2163f0ea68
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.wrapAsync = wrapAsync;
var _act = require("../act");
var _flushMicroTasks = require("../flush-micro-tasks");
function wrapAsync(_x) {
  return _wrapAsync.apply(this, arguments);
}
function _wrapAsync() {
  _wrapAsync = (0, _asyncToGenerator2.default)(function* (callback) {
    var previousActEnvironment = (0, _act.getIsReactActEnvironment)();
    (0, _act.setReactActEnvironment)(false);
    try {
      var result = yield callback();
      yield (0, _flushMicroTasks.flushMicroTasks)();
      return result;
    } finally {
      (0, _act.setReactActEnvironment)(previousActEnvironment);
    }
  });
  return _wrapAsync.apply(this, arguments);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYWN0IiwicmVxdWlyZSIsIl9mbHVzaE1pY3JvVGFza3MiLCJ3cmFwQXN5bmMiLCJfeCIsIl93cmFwQXN5bmMiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9hc3luY1RvR2VuZXJhdG9yMiIsImRlZmF1bHQiLCJjYWxsYmFjayIsInByZXZpb3VzQWN0RW52aXJvbm1lbnQiLCJnZXRJc1JlYWN0QWN0RW52aXJvbm1lbnQiLCJzZXRSZWFjdEFjdEVudmlyb25tZW50IiwicmVzdWx0IiwiZmx1c2hNaWNyb1Rhc2tzIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2hlbHBlcnMvd3JhcC1hc3luYy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBpc3RhbmJ1bCBpZ25vcmUgZmlsZSAqL1xuXG5pbXBvcnQgeyBnZXRJc1JlYWN0QWN0RW52aXJvbm1lbnQsIHNldFJlYWN0QWN0RW52aXJvbm1lbnQgfSBmcm9tICcuLi9hY3QnO1xuaW1wb3J0IHsgZmx1c2hNaWNyb1Rhc2tzIH0gZnJvbSAnLi4vZmx1c2gtbWljcm8tdGFza3MnO1xuXG4vKipcbiAqIFJ1biBnaXZlbiBhc3luYyBjYWxsYmFjayB3aXRoIHRlbXBvcmFyaWx5IGRpc2FibGVkIGBhY3RgIGVudmlyb25tZW50IGFuZCBmbHVzaGVzIG1pY3JvdGFza3MgcXVldWUuXG4gKlxuICogQHBhcmFtIGNhbGxiYWNrIEFzeW5jIGNhbGxiYWNrIHRvIHJ1blxuICogQHJldHVybnMgUmVzdWx0IG9mIHRoZSBjYWxsYmFja1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd3JhcEFzeW5jPFJlc3VsdD4oY2FsbGJhY2s6ICgpID0+IFByb21pc2U8UmVzdWx0Pik6IFByb21pc2U8UmVzdWx0PiB7XG4gIGNvbnN0IHByZXZpb3VzQWN0RW52aXJvbm1lbnQgPSBnZXRJc1JlYWN0QWN0RW52aXJvbm1lbnQoKTtcbiAgc2V0UmVhY3RBY3RFbnZpcm9ubWVudChmYWxzZSk7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYWxsYmFjaygpO1xuICAgIC8vIEZsdXNoIHRoZSBtaWNyb3Rhc2sgcXVldWUgYmVmb3JlIHJlc3RvcmluZyB0aGUgYGFjdGAgZW52aXJvbm1lbnRcbiAgICBhd2FpdCBmbHVzaE1pY3JvVGFza3MoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9IGZpbmFsbHkge1xuICAgIHNldFJlYWN0QWN0RW52aXJvbm1lbnQocHJldmlvdXNBY3RFbnZpcm9ubWVudCk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFQSxJQUFBQSxJQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxnQkFBQSxHQUFBRCxPQUFBO0FBQUEsU0FRc0JFLFNBQVNBLENBQUFDLEVBQUE7RUFBQSxPQUFBQyxVQUFBLENBQUFDLEtBQUEsT0FBQUMsU0FBQTtBQUFBO0FBQUEsU0FBQUYsV0FBQTtFQUFBQSxVQUFBLE9BQUFHLGtCQUFBLENBQUFDLE9BQUEsRUFBeEIsV0FBaUNDLFFBQStCLEVBQW1CO0lBQ3hGLElBQU1DLHNCQUFzQixHQUFHLElBQUFYLElBQUEsQ0FBQVksd0JBQXdCLEVBQUMsQ0FBQztJQUN6RCxJQUFBWixJQUFBLENBQUFhLHNCQUFzQixFQUFDLEtBQUssQ0FBQztJQUU3QixJQUFJO01BQ0YsSUFBTUMsTUFBTSxTQUFTSixRQUFRLENBQUMsQ0FBQztNQUUvQixNQUFNLElBQUFSLGdCQUFBLENBQUFhLGVBQWUsRUFBQyxDQUFDO01BQ3ZCLE9BQU9ELE1BQU07SUFDZixDQUFDLFNBQVM7TUFDUixJQUFBZCxJQUFBLENBQUFhLHNCQUFzQixFQUFDRixzQkFBc0IsQ0FBQztJQUNoRDtFQUNGO0VBQUEsT0FBQU4sVUFBQSxDQUFBQyxLQUFBLE9BQUFDLFNBQUE7QUFBQSIsImlnbm9yZUxpc3QiOltdfQ==