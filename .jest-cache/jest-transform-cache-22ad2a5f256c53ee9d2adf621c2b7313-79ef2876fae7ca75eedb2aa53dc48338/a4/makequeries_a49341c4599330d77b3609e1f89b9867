14250801a91755d8e9db5aa28ce6220d
"use strict";

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");
var _objectWithoutProperties2 = _interopRequireDefault2(require("@babel/runtime/helpers/objectWithoutProperties"));
var _excluded = ["onTimeout"],
  _excluded2 = ["onTimeout"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.makeQueries = makeQueries;
var _errors = require("../helpers/errors");
var _formatElement = require("../helpers/format-element");
var _logger = require("../helpers/logger");
var _screen = require("../screen");
var _waitFor = _interopRequireDefault(require("../wait-for"));
function _interopRequireDefault(e) {
  return e && e.__esModule ? e : {
    default: e
  };
}
var deprecatedKeys = ['timeout', 'interval', 'stackTraceError'];
function extractDeprecatedWaitForOptions(options) {
  if (!options) {
    return undefined;
  }
  var waitForOptions = {
    timeout: options.timeout,
    interval: options.interval,
    stackTraceError: options.stackTraceError
  };
  deprecatedKeys.forEach(function (key) {
    var option = options[key];
    if (option) {
      _logger.logger.warn(`Use of option "${key}" in a findBy* query options (2nd parameter) is deprecated. Please pass this option in the waitForOptions (3rd parameter).
Example:

  findByText(text, {}, { ${key}: ${option.toString()} })`);
    }
  });
  return waitForOptions;
}
function formatErrorMessage(message, printElementTree) {
  if (!printElementTree) {
    return message;
  }
  if (_screen.screen.isDetached) {
    return `${message}\n\nScreen is no longer attached. Check your test for "findBy*" or "waitFor" calls that have not been awaited.\n\nWe recommend enabling "eslint-plugin-testing-library" to catch these issues at build time:\nhttps://callstack.github.io/react-native-testing-library/docs/start/quick-start#eslint-plugin`;
  }
  var json = _screen.screen.toJSON();
  if (!json) {
    return message;
  }
  return `${message}\n\n${(0, _formatElement.formatJson)(json)}`;
}
function appendElementTreeToError(error) {
  var _error$stack;
  var oldMessage = error.message;
  error.message = formatErrorMessage(oldMessage, true);
  error.stack = (_error$stack = error.stack) == null ? void 0 : _error$stack.replace(oldMessage, error.message);
  return error;
}
function makeQueries(queryAllByQuery, getMissingError, getMultipleError) {
  function getAllByQuery(instance) {
    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      _ref$printElementTree = _ref.printElementTree,
      printElementTree = _ref$printElementTree === void 0 ? true : _ref$printElementTree;
    return function getAllFn(predicate, options) {
      var results = queryAllByQuery(instance)(predicate, options);
      if (results.length === 0) {
        var errorMessage = formatErrorMessage(getMissingError(predicate, options), printElementTree);
        throw new _errors.ErrorWithStack(errorMessage, getAllFn);
      }
      return results;
    };
  }
  function queryByQuery(instance) {
    var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      _ref2$printElementTre = _ref2.printElementTree,
      printElementTree = _ref2$printElementTre === void 0 ? true : _ref2$printElementTre;
    return function singleQueryFn(predicate, options) {
      var results = queryAllByQuery(instance)(predicate, options);
      if (results.length > 1) {
        throw new _errors.ErrorWithStack(formatErrorMessage(getMultipleError(predicate, options), printElementTree), singleQueryFn);
      }
      if (results.length === 0) {
        return null;
      }
      return results[0];
    };
  }
  function getByQuery(instance) {
    var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      _ref3$printElementTre = _ref3.printElementTree,
      printElementTree = _ref3$printElementTre === void 0 ? true : _ref3$printElementTre;
    return function getFn(predicate, options) {
      var results = queryAllByQuery(instance)(predicate, options);
      if (results.length > 1) {
        throw new _errors.ErrorWithStack(getMultipleError(predicate, options), getFn);
      }
      if (results.length === 0) {
        var errorMessage = formatErrorMessage(getMissingError(predicate, options), printElementTree);
        throw new _errors.ErrorWithStack(errorMessage, getFn);
      }
      return results[0];
    };
  }
  function findAllByQuery(instance) {
    return function findAllFn(predicate, queryOptions) {
      var _ref4 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      var _ref4$onTimeout = _ref4.onTimeout,
        onTimeout = _ref4$onTimeout === void 0 ? function (error) {
          return appendElementTreeToError(error);
        } : _ref4$onTimeout,
        waitForOptions = (0, _objectWithoutProperties2.default)(_ref4, _excluded);
      var stackTraceError = new _errors.ErrorWithStack('STACK_TRACE_ERROR', findAllFn);
      var deprecatedWaitForOptions = extractDeprecatedWaitForOptions(queryOptions);
      return (0, _waitFor.default)(function () {
        return getAllByQuery(instance, {
          printElementTree: false
        })(predicate, queryOptions);
      }, Object.assign({}, deprecatedWaitForOptions, waitForOptions, {
        stackTraceError: stackTraceError,
        onTimeout: onTimeout
      }));
    };
  }
  function findByQuery(instance) {
    return function findFn(predicate, queryOptions) {
      var _ref5 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      var _ref5$onTimeout = _ref5.onTimeout,
        onTimeout = _ref5$onTimeout === void 0 ? function (error) {
          return appendElementTreeToError(error);
        } : _ref5$onTimeout,
        waitForOptions = (0, _objectWithoutProperties2.default)(_ref5, _excluded2);
      var stackTraceError = new _errors.ErrorWithStack('STACK_TRACE_ERROR', findFn);
      var deprecatedWaitForOptions = extractDeprecatedWaitForOptions(queryOptions);
      return (0, _waitFor.default)(function () {
        return getByQuery(instance, {
          printElementTree: false
        })(predicate, queryOptions);
      }, Object.assign({}, deprecatedWaitForOptions, waitForOptions, {
        stackTraceError: stackTraceError,
        onTimeout: onTimeout
      }));
    };
  }
  return {
    getBy: getByQuery,
    getAllBy: getAllByQuery,
    queryBy: queryByQuery,
    queryAllBy: queryAllByQuery,
    findBy: findByQuery,
    findAllBy: findAllByQuery
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXJyb3JzIiwicmVxdWlyZSIsIl9mb3JtYXRFbGVtZW50IiwiX2xvZ2dlciIsIl9zY3JlZW4iLCJfd2FpdEZvciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJkZXByZWNhdGVkS2V5cyIsImV4dHJhY3REZXByZWNhdGVkV2FpdEZvck9wdGlvbnMiLCJvcHRpb25zIiwidW5kZWZpbmVkIiwid2FpdEZvck9wdGlvbnMiLCJ0aW1lb3V0IiwiaW50ZXJ2YWwiLCJzdGFja1RyYWNlRXJyb3IiLCJmb3JFYWNoIiwia2V5Iiwib3B0aW9uIiwibG9nZ2VyIiwid2FybiIsInRvU3RyaW5nIiwiZm9ybWF0RXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsInByaW50RWxlbWVudFRyZWUiLCJzY3JlZW4iLCJpc0RldGFjaGVkIiwianNvbiIsInRvSlNPTiIsImZvcm1hdEpzb24iLCJhcHBlbmRFbGVtZW50VHJlZVRvRXJyb3IiLCJlcnJvciIsIl9lcnJvciRzdGFjayIsIm9sZE1lc3NhZ2UiLCJzdGFjayIsInJlcGxhY2UiLCJtYWtlUXVlcmllcyIsInF1ZXJ5QWxsQnlRdWVyeSIsImdldE1pc3NpbmdFcnJvciIsImdldE11bHRpcGxlRXJyb3IiLCJnZXRBbGxCeVF1ZXJ5IiwiaW5zdGFuY2UiLCJfcmVmIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiX3JlZiRwcmludEVsZW1lbnRUcmVlIiwiZ2V0QWxsRm4iLCJwcmVkaWNhdGUiLCJyZXN1bHRzIiwiZXJyb3JNZXNzYWdlIiwiRXJyb3JXaXRoU3RhY2siLCJxdWVyeUJ5UXVlcnkiLCJfcmVmMiIsIl9yZWYyJHByaW50RWxlbWVudFRyZSIsInNpbmdsZVF1ZXJ5Rm4iLCJnZXRCeVF1ZXJ5IiwiX3JlZjMiLCJfcmVmMyRwcmludEVsZW1lbnRUcmUiLCJnZXRGbiIsImZpbmRBbGxCeVF1ZXJ5IiwiZmluZEFsbEZuIiwicXVlcnlPcHRpb25zIiwiX3JlZjQiLCJfcmVmNCRvblRpbWVvdXQiLCJvblRpbWVvdXQiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyIiwiX2V4Y2x1ZGVkIiwiZGVwcmVjYXRlZFdhaXRGb3JPcHRpb25zIiwiT2JqZWN0IiwiYXNzaWduIiwiZmluZEJ5UXVlcnkiLCJmaW5kRm4iLCJfcmVmNSIsIl9yZWY1JG9uVGltZW91dCIsIl9leGNsdWRlZDIiLCJnZXRCeSIsImdldEFsbEJ5IiwicXVlcnlCeSIsInF1ZXJ5QWxsQnkiLCJmaW5kQnkiLCJmaW5kQWxsQnkiXSwic291cmNlcyI6WyIuLi8uLi9zcmMvcXVlcmllcy9tYWtlLXF1ZXJpZXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBSZWFjdFRlc3RJbnN0YW5jZSB9IGZyb20gJ3JlYWN0LXRlc3QtcmVuZGVyZXInO1xuXG5pbXBvcnQgeyBFcnJvcldpdGhTdGFjayB9IGZyb20gJy4uL2hlbHBlcnMvZXJyb3JzJztcbmltcG9ydCB7IGZvcm1hdEpzb24gfSBmcm9tICcuLi9oZWxwZXJzL2Zvcm1hdC1lbGVtZW50JztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uL2hlbHBlcnMvbG9nZ2VyJztcbmltcG9ydCB7IHNjcmVlbiB9IGZyb20gJy4uL3NjcmVlbic7XG5pbXBvcnQgdHlwZSB7IFdhaXRGb3JPcHRpb25zIH0gZnJvbSAnLi4vd2FpdC1mb3InO1xuaW1wb3J0IHdhaXRGb3IgZnJvbSAnLi4vd2FpdC1mb3InO1xuXG5leHBvcnQgdHlwZSBHZXRCeVF1ZXJ5PFByZWRpY2F0ZSwgT3B0aW9ucyA9IHZvaWQ+ID0gKFxuICBwcmVkaWNhdGU6IFByZWRpY2F0ZSxcbiAgb3B0aW9ucz86IE9wdGlvbnMsXG4pID0+IFJlYWN0VGVzdEluc3RhbmNlO1xuXG5leHBvcnQgdHlwZSBHZXRBbGxCeVF1ZXJ5PFByZWRpY2F0ZSwgT3B0aW9ucyA9IHZvaWQ+ID0gKFxuICBwcmVkaWNhdGU6IFByZWRpY2F0ZSxcbiAgb3B0aW9ucz86IE9wdGlvbnMsXG4pID0+IFJlYWN0VGVzdEluc3RhbmNlW107XG5cbmV4cG9ydCB0eXBlIFF1ZXJ5QnlRdWVyeTxQcmVkaWNhdGUsIE9wdGlvbnMgPSB2b2lkPiA9IChcbiAgcHJlZGljYXRlOiBQcmVkaWNhdGUsXG4gIG9wdGlvbnM/OiBPcHRpb25zLFxuKSA9PiBSZWFjdFRlc3RJbnN0YW5jZSB8IG51bGw7XG5cbmV4cG9ydCB0eXBlIFF1ZXJ5QWxsQnlRdWVyeTxQcmVkaWNhdGUsIE9wdGlvbnMgPSB2b2lkPiA9IChcbiAgcHJlZGljYXRlOiBQcmVkaWNhdGUsXG4gIG9wdGlvbnM/OiBPcHRpb25zLFxuKSA9PiBSZWFjdFRlc3RJbnN0YW5jZVtdO1xuXG5leHBvcnQgdHlwZSBGaW5kQnlRdWVyeTxQcmVkaWNhdGUsIE9wdGlvbnMgPSB2b2lkPiA9IChcbiAgcHJlZGljYXRlOiBQcmVkaWNhdGUsXG4gIC8vIFJlbW92ZSBgJiBXYWl0Rm9yT3B0aW9uc2Agd2hlbiBhbGwgcXVlcmllcyBoYXZlIGJlZW4gbWlncmF0ZWQgdG8gc3VwcG9ydCAybmQgYXJnIHF1ZXJ5IG9wdGlvbnMuXG4gIG9wdGlvbnM/OiBPcHRpb25zICYgV2FpdEZvck9wdGlvbnMsXG4gIHdhaXRGb3JPcHRpb25zPzogV2FpdEZvck9wdGlvbnMsXG4pID0+IFByb21pc2U8UmVhY3RUZXN0SW5zdGFuY2U+O1xuXG5leHBvcnQgdHlwZSBGaW5kQWxsQnlRdWVyeTxQcmVkaWNhdGUsIE9wdGlvbnMgPSB2b2lkPiA9IChcbiAgcHJlZGljYXRlOiBQcmVkaWNhdGUsXG4gIC8vIFJlbW92ZSBgJiBXYWl0Rm9yT3B0aW9uc2Agd2hlbiBhbGwgcXVlcmllcyBoYXZlIGJlZW4gbWlncmF0ZWQgdG8gc3VwcG9ydCAybmQgYXJnIHF1ZXJ5IG9wdGlvbnMuXG4gIG9wdGlvbnM/OiBPcHRpb25zICYgV2FpdEZvck9wdGlvbnMsXG4gIHdhaXRGb3JPcHRpb25zPzogV2FpdEZvck9wdGlvbnMsXG4pID0+IFByb21pc2U8UmVhY3RUZXN0SW5zdGFuY2VbXT47XG5cbnR5cGUgVW5ib3VuZFF1ZXJ5PFF1ZXJ5PiA9IChpbnN0YW5jZTogUmVhY3RUZXN0SW5zdGFuY2UpID0+IFF1ZXJ5O1xuXG5leHBvcnQgdHlwZSBVbmJvdW5kUXVlcmllczxQcmVkaWNhdGUsIE9wdGlvbnM+ID0ge1xuICBnZXRCeTogVW5ib3VuZFF1ZXJ5PEdldEJ5UXVlcnk8UHJlZGljYXRlLCBPcHRpb25zPj47XG4gIGdldEFsbEJ5OiBVbmJvdW5kUXVlcnk8R2V0QWxsQnlRdWVyeTxQcmVkaWNhdGUsIE9wdGlvbnM+PjtcbiAgcXVlcnlCeTogVW5ib3VuZFF1ZXJ5PFF1ZXJ5QnlRdWVyeTxQcmVkaWNhdGUsIE9wdGlvbnM+PjtcbiAgcXVlcnlBbGxCeTogVW5ib3VuZFF1ZXJ5PFF1ZXJ5QWxsQnlRdWVyeTxQcmVkaWNhdGUsIE9wdGlvbnM+PjtcbiAgZmluZEJ5OiBVbmJvdW5kUXVlcnk8RmluZEJ5UXVlcnk8UHJlZGljYXRlLCBPcHRpb25zPj47XG4gIGZpbmRBbGxCeTogVW5ib3VuZFF1ZXJ5PEZpbmRBbGxCeVF1ZXJ5PFByZWRpY2F0ZSwgT3B0aW9ucz4+O1xufTtcblxuY29uc3QgZGVwcmVjYXRlZEtleXM6IChrZXlvZiBXYWl0Rm9yT3B0aW9ucylbXSA9IFsndGltZW91dCcsICdpbnRlcnZhbCcsICdzdGFja1RyYWNlRXJyb3InXTtcblxuLy8gVGhlIFdhaXRGb3JPcHRpb25zIGhhcyBiZWVuIG1vdmVkIHRvIHRoZSBzZWNvbmQgb3B0aW9uIHBhcmFtIG9mIGZpbmRCeSogbWV0aG9kcyB3aXRoIHRoZSBhZGRpbmcgb2YgVGV4dE1hdGNoT3B0aW9uc1xuLy8gVG8gbWFrZSB0aGUgbWlncmF0aW9uIGVhc2llciBhbmQgYXZvaWQgYSBicmVha2luZyBjaGFuZ2UsIGtlZXAgcmVhZGluZyB0aGlzIG9wdGlvbnMgZnJvbSB0aGUgZmlyc3QgcGFyYW0gYnV0IHdhcm5cbmZ1bmN0aW9uIGV4dHJhY3REZXByZWNhdGVkV2FpdEZvck9wdGlvbnMob3B0aW9ucz86IFdhaXRGb3JPcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBjb25zdCB3YWl0Rm9yT3B0aW9uczogV2FpdEZvck9wdGlvbnMgPSB7XG4gICAgdGltZW91dDogb3B0aW9ucy50aW1lb3V0LFxuICAgIGludGVydmFsOiBvcHRpb25zLmludGVydmFsLFxuICAgIHN0YWNrVHJhY2VFcnJvcjogb3B0aW9ucy5zdGFja1RyYWNlRXJyb3IsXG4gIH07XG5cbiAgZGVwcmVjYXRlZEtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgY29uc3Qgb3B0aW9uID0gb3B0aW9uc1trZXldO1xuICAgIGlmIChvcHRpb24pIHtcbiAgICAgIGxvZ2dlci53YXJuKFxuICAgICAgICBgVXNlIG9mIG9wdGlvbiBcIiR7a2V5fVwiIGluIGEgZmluZEJ5KiBxdWVyeSBvcHRpb25zICgybmQgcGFyYW1ldGVyKSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgcGFzcyB0aGlzIG9wdGlvbiBpbiB0aGUgd2FpdEZvck9wdGlvbnMgKDNyZCBwYXJhbWV0ZXIpLlxuRXhhbXBsZTpcblxuICBmaW5kQnlUZXh0KHRleHQsIHt9LCB7ICR7a2V5fTogJHtvcHRpb24udG9TdHJpbmcoKX0gfSlgLFxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB3YWl0Rm9yT3B0aW9ucztcbn1cblxuZnVuY3Rpb24gZm9ybWF0RXJyb3JNZXNzYWdlKG1lc3NhZ2U6IHN0cmluZywgcHJpbnRFbGVtZW50VHJlZTogYm9vbGVhbikge1xuICBpZiAoIXByaW50RWxlbWVudFRyZWUpIHtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuXG4gIGlmIChzY3JlZW4uaXNEZXRhY2hlZCkge1xuICAgIHJldHVybiBgJHttZXNzYWdlfVxcblxcblNjcmVlbiBpcyBubyBsb25nZXIgYXR0YWNoZWQuIENoZWNrIHlvdXIgdGVzdCBmb3IgXCJmaW5kQnkqXCIgb3IgXCJ3YWl0Rm9yXCIgY2FsbHMgdGhhdCBoYXZlIG5vdCBiZWVuIGF3YWl0ZWQuXFxuXFxuV2UgcmVjb21tZW5kIGVuYWJsaW5nIFwiZXNsaW50LXBsdWdpbi10ZXN0aW5nLWxpYnJhcnlcIiB0byBjYXRjaCB0aGVzZSBpc3N1ZXMgYXQgYnVpbGQgdGltZTpcXG5odHRwczovL2NhbGxzdGFjay5naXRodWIuaW8vcmVhY3QtbmF0aXZlLXRlc3RpbmctbGlicmFyeS9kb2NzL3N0YXJ0L3F1aWNrLXN0YXJ0I2VzbGludC1wbHVnaW5gO1xuICB9XG5cbiAgY29uc3QganNvbiA9IHNjcmVlbi50b0pTT04oKTtcbiAgaWYgKCFqc29uKSB7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cblxuICByZXR1cm4gYCR7bWVzc2FnZX1cXG5cXG4ke2Zvcm1hdEpzb24oanNvbil9YDtcbn1cblxuZnVuY3Rpb24gYXBwZW5kRWxlbWVudFRyZWVUb0Vycm9yKGVycm9yOiBFcnJvcikge1xuICBjb25zdCBvbGRNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgZXJyb3IubWVzc2FnZSA9IGZvcm1hdEVycm9yTWVzc2FnZShvbGRNZXNzYWdlLCB0cnVlKTtcblxuICAvLyBSZXF1aXJlZCB0byBtYWtlIEplc3QgcHJpbnQgdGhlIGVsZW1lbnQgdHJlZSBvbiBlcnJvclxuICBlcnJvci5zdGFjayA9IGVycm9yLnN0YWNrPy5yZXBsYWNlKG9sZE1lc3NhZ2UsIGVycm9yLm1lc3NhZ2UpO1xuXG4gIHJldHVybiBlcnJvcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VRdWVyaWVzPFByZWRpY2F0ZSwgT3B0aW9ucz4oXG4gIHF1ZXJ5QWxsQnlRdWVyeTogVW5ib3VuZFF1ZXJ5PFF1ZXJ5QWxsQnlRdWVyeTxQcmVkaWNhdGUsIE9wdGlvbnM+PixcbiAgZ2V0TWlzc2luZ0Vycm9yOiAocHJlZGljYXRlOiBQcmVkaWNhdGUsIG9wdGlvbnM/OiBPcHRpb25zKSA9PiBzdHJpbmcsXG4gIGdldE11bHRpcGxlRXJyb3I6IChwcmVkaWNhdGU6IFByZWRpY2F0ZSwgb3B0aW9ucz86IE9wdGlvbnMpID0+IHN0cmluZyxcbik6IFVuYm91bmRRdWVyaWVzPFByZWRpY2F0ZSwgT3B0aW9ucz4ge1xuICBmdW5jdGlvbiBnZXRBbGxCeVF1ZXJ5KGluc3RhbmNlOiBSZWFjdFRlc3RJbnN0YW5jZSwgeyBwcmludEVsZW1lbnRUcmVlID0gdHJ1ZSB9ID0ge30pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZ2V0QWxsRm4ocHJlZGljYXRlOiBQcmVkaWNhdGUsIG9wdGlvbnM/OiBPcHRpb25zKSB7XG4gICAgICBjb25zdCByZXN1bHRzID0gcXVlcnlBbGxCeVF1ZXJ5KGluc3RhbmNlKShwcmVkaWNhdGUsIG9wdGlvbnMpO1xuXG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZm9ybWF0RXJyb3JNZXNzYWdlKFxuICAgICAgICAgIGdldE1pc3NpbmdFcnJvcihwcmVkaWNhdGUsIG9wdGlvbnMpLFxuICAgICAgICAgIHByaW50RWxlbWVudFRyZWUsXG4gICAgICAgICk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcldpdGhTdGFjayhlcnJvck1lc3NhZ2UsIGdldEFsbEZuKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHF1ZXJ5QnlRdWVyeShpbnN0YW5jZTogUmVhY3RUZXN0SW5zdGFuY2UsIHsgcHJpbnRFbGVtZW50VHJlZSA9IHRydWUgfSA9IHt9KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHNpbmdsZVF1ZXJ5Rm4ocHJlZGljYXRlOiBQcmVkaWNhdGUsIG9wdGlvbnM/OiBPcHRpb25zKSB7XG4gICAgICBjb25zdCByZXN1bHRzID0gcXVlcnlBbGxCeVF1ZXJ5KGluc3RhbmNlKShwcmVkaWNhdGUsIG9wdGlvbnMpO1xuXG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcldpdGhTdGFjayhcbiAgICAgICAgICBmb3JtYXRFcnJvck1lc3NhZ2UoZ2V0TXVsdGlwbGVFcnJvcihwcmVkaWNhdGUsIG9wdGlvbnMpLCBwcmludEVsZW1lbnRUcmVlKSxcbiAgICAgICAgICBzaW5nbGVRdWVyeUZuLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHRzWzBdO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBnZXRCeVF1ZXJ5KGluc3RhbmNlOiBSZWFjdFRlc3RJbnN0YW5jZSwgeyBwcmludEVsZW1lbnRUcmVlID0gdHJ1ZSB9ID0ge30pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZ2V0Rm4ocHJlZGljYXRlOiBQcmVkaWNhdGUsIG9wdGlvbnM/OiBPcHRpb25zKSB7XG4gICAgICBjb25zdCByZXN1bHRzID0gcXVlcnlBbGxCeVF1ZXJ5KGluc3RhbmNlKShwcmVkaWNhdGUsIG9wdGlvbnMpO1xuXG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcldpdGhTdGFjayhnZXRNdWx0aXBsZUVycm9yKHByZWRpY2F0ZSwgb3B0aW9ucyksIGdldEZuKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGZvcm1hdEVycm9yTWVzc2FnZShcbiAgICAgICAgICBnZXRNaXNzaW5nRXJyb3IocHJlZGljYXRlLCBvcHRpb25zKSxcbiAgICAgICAgICBwcmludEVsZW1lbnRUcmVlLFxuICAgICAgICApO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3JXaXRoU3RhY2soZXJyb3JNZXNzYWdlLCBnZXRGbik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHRzWzBdO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kQWxsQnlRdWVyeShpbnN0YW5jZTogUmVhY3RUZXN0SW5zdGFuY2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZmluZEFsbEZuKFxuICAgICAgcHJlZGljYXRlOiBQcmVkaWNhdGUsXG4gICAgICBxdWVyeU9wdGlvbnM/OiBPcHRpb25zICYgV2FpdEZvck9wdGlvbnMsXG4gICAgICB7XG4gICAgICAgIG9uVGltZW91dCA9IChlcnJvcikgPT4gYXBwZW5kRWxlbWVudFRyZWVUb0Vycm9yKGVycm9yKSxcbiAgICAgICAgLi4ud2FpdEZvck9wdGlvbnNcbiAgICAgIH06IFdhaXRGb3JPcHRpb25zID0ge30sXG4gICAgKSB7XG4gICAgICBjb25zdCBzdGFja1RyYWNlRXJyb3IgPSBuZXcgRXJyb3JXaXRoU3RhY2soJ1NUQUNLX1RSQUNFX0VSUk9SJywgZmluZEFsbEZuKTtcbiAgICAgIGNvbnN0IGRlcHJlY2F0ZWRXYWl0Rm9yT3B0aW9ucyA9IGV4dHJhY3REZXByZWNhdGVkV2FpdEZvck9wdGlvbnMocXVlcnlPcHRpb25zKTtcblxuICAgICAgcmV0dXJuIHdhaXRGb3IoXG4gICAgICAgICgpID0+IGdldEFsbEJ5UXVlcnkoaW5zdGFuY2UsIHsgcHJpbnRFbGVtZW50VHJlZTogZmFsc2UgfSkocHJlZGljYXRlLCBxdWVyeU9wdGlvbnMpLFxuICAgICAgICB7XG4gICAgICAgICAgLi4uZGVwcmVjYXRlZFdhaXRGb3JPcHRpb25zLFxuICAgICAgICAgIC4uLndhaXRGb3JPcHRpb25zLFxuICAgICAgICAgIHN0YWNrVHJhY2VFcnJvcixcbiAgICAgICAgICBvblRpbWVvdXQsXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kQnlRdWVyeShpbnN0YW5jZTogUmVhY3RUZXN0SW5zdGFuY2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZmluZEZuKFxuICAgICAgcHJlZGljYXRlOiBQcmVkaWNhdGUsXG4gICAgICBxdWVyeU9wdGlvbnM/OiBPcHRpb25zICYgV2FpdEZvck9wdGlvbnMsXG4gICAgICB7XG4gICAgICAgIG9uVGltZW91dCA9IChlcnJvcikgPT4gYXBwZW5kRWxlbWVudFRyZWVUb0Vycm9yKGVycm9yKSxcbiAgICAgICAgLi4ud2FpdEZvck9wdGlvbnNcbiAgICAgIH06IFdhaXRGb3JPcHRpb25zID0ge30sXG4gICAgKSB7XG4gICAgICBjb25zdCBzdGFja1RyYWNlRXJyb3IgPSBuZXcgRXJyb3JXaXRoU3RhY2soJ1NUQUNLX1RSQUNFX0VSUk9SJywgZmluZEZuKTtcbiAgICAgIGNvbnN0IGRlcHJlY2F0ZWRXYWl0Rm9yT3B0aW9ucyA9IGV4dHJhY3REZXByZWNhdGVkV2FpdEZvck9wdGlvbnMocXVlcnlPcHRpb25zKTtcblxuICAgICAgcmV0dXJuIHdhaXRGb3IoXG4gICAgICAgICgpID0+IGdldEJ5UXVlcnkoaW5zdGFuY2UsIHsgcHJpbnRFbGVtZW50VHJlZTogZmFsc2UgfSkocHJlZGljYXRlLCBxdWVyeU9wdGlvbnMpLFxuICAgICAgICB7XG4gICAgICAgICAgLi4uZGVwcmVjYXRlZFdhaXRGb3JPcHRpb25zLFxuICAgICAgICAgIC4uLndhaXRGb3JPcHRpb25zLFxuICAgICAgICAgIHN0YWNrVHJhY2VFcnJvcixcbiAgICAgICAgICBvblRpbWVvdXQsXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGdldEJ5OiBnZXRCeVF1ZXJ5LFxuICAgIGdldEFsbEJ5OiBnZXRBbGxCeVF1ZXJ5LFxuICAgIHF1ZXJ5Qnk6IHF1ZXJ5QnlRdWVyeSxcbiAgICBxdWVyeUFsbEJ5OiBxdWVyeUFsbEJ5UXVlcnksXG4gICAgZmluZEJ5OiBmaW5kQnlRdWVyeSxcbiAgICBmaW5kQWxsQnk6IGZpbmRBbGxCeVF1ZXJ5LFxuICB9O1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRUEsSUFBQUEsT0FBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsY0FBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsT0FBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsT0FBQSxHQUFBSCxPQUFBO0FBRUEsSUFBQUksUUFBQSxHQUFBQyxzQkFBQSxDQUFB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