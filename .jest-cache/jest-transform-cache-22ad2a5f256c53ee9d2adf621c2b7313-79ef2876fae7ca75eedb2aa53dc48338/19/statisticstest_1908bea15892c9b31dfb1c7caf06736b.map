{"version":3,"names":["_statistics","require","describe","it","q","quantiles","expect","p25","toBeNaN","p50","p75","toEqual","toBeCloseTo","a0","recencyAlpha","aMid","a1","toBeGreaterThan","a","jitterXY","b","_jitterXY","jx","jy","Math","abs","toBeLessThanOrEqual","c","energyToColor","startsWith","toBe"],"sources":["statistics.test.ts"],"sourcesContent":["import { quantiles, recencyAlpha, jitterXY, energyToColor } from '@/utils/statistics';\n\ndescribe('quantiles()', () => {\n  it('handles empty array', () => {\n    const q = quantiles([]);\n    expect(q.p25).toBeNaN();\n    expect(q.p50).toBeNaN();\n    expect(q.p75).toBeNaN();\n  });\n  it('single element', () => {\n    const q = quantiles([42]);\n    expect(q).toEqual({ p25: 42, p50: 42, p75: 42 });\n  });\n  it('monotonic sequence', () => {\n    const q = quantiles([0, 10, 20, 30, 40, 50, 60, 70]);\n    expect(q.p50).toBeCloseTo(35, 6);\n    expect(q.p25).toBeCloseTo(17.5, 6);\n    expect(q.p75).toBeCloseTo(52.5, 6);\n  });\n});\n\ndescribe('recencyAlpha()', () => {\n  it('maps to [0.5,1.0]', () => {\n    const a0 = recencyAlpha(0, 0, 1000);\n    const aMid = recencyAlpha(500, 0, 1000);\n    const a1 = recencyAlpha(1000, 0, 1000);\n    expect(a0).toBeCloseTo(0.5, 6);\n    expect(aMid).toBeGreaterThan(0.5);\n    expect(a1).toBeCloseTo(1.0, 6);\n  });\n});\n\ndescribe('jitterXY()', () => {\n  it('deterministic for same seedKey', () => {\n    const a = jitterXY('seed-123');\n    const b = jitterXY('seed-123');\n    expect(a).toEqual(b);\n  });\n  it('bounded by xMax/yMax', () => {\n    const { jx, jy } = jitterXY('abc', 10, 2);\n    expect(Math.abs(jx)).toBeLessThanOrEqual(10);\n    expect(Math.abs(jy)).toBeLessThanOrEqual(2);\n  });\n});\n\ndescribe('energyToColor()', () => {\n  it('returns hsla string', () => {\n    const c = energyToColor(5, 0.8, false);\n    expect(c.startsWith('hsla(')).toBe(true);\n  });\n});\n"],"mappings":"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","ignoreList":[]}