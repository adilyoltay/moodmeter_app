cb8b37a8f57d11c1b944a7f209ecaedf
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.syncCircuitBreaker = exports.CircuitState = exports.CircuitBreaker = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var CircuitState = exports.CircuitState = function (CircuitState) {
  CircuitState["CLOSED"] = "CLOSED";
  CircuitState["OPEN"] = "OPEN";
  CircuitState["HALF_OPEN"] = "HALF_OPEN";
  return CircuitState;
}({});
var CircuitBreaker = exports.CircuitBreaker = function () {
  function CircuitBreaker(config) {
    (0, _classCallCheck2.default)(this, CircuitBreaker);
    this.config = config;
    this.state = CircuitState.CLOSED;
    this.failureCount = 0;
    this.successCount = 0;
    this.lastFailureTime = null;
    this.halfOpenAttempts = 0;
    this.stateChangeCallbacks = new Set();
    this.startMonitoring();
  }
  return (0, _createClass2.default)(CircuitBreaker, [{
    key: "execute",
    value: function () {
      var _execute = (0, _asyncToGenerator2.default)(function* (fn) {
        this.checkForStateTransition();
        if (this.state === CircuitState.OPEN) {
          throw new Error('CIRCUIT_OPEN');
        }
        try {
          var result = yield fn();
          this.recordSuccess();
          return result;
        } catch (e) {
          this.recordFailure();
          throw e;
        }
      });
      function execute(_x) {
        return _execute.apply(this, arguments);
      }
      return execute;
    }()
  }, {
    key: "recordSuccess",
    value: function recordSuccess() {
      this.successCount++;
      if (this.state === CircuitState.HALF_OPEN) {
        this.halfOpenAttempts++;
        if (this.halfOpenAttempts >= this.config.halfOpenMaxAttempts) {
          this.transitionTo(CircuitState.CLOSED);
        }
      } else if (this.state === CircuitState.CLOSED) {
        this.failureCount = 0;
      }
    }
  }, {
    key: "recordFailure",
    value: function recordFailure() {
      this.failureCount++;
      this.lastFailureTime = Date.now();
      if (this.state === CircuitState.HALF_OPEN) {
        this.transitionTo(CircuitState.OPEN);
      } else if (this.state === CircuitState.CLOSED && this.failureCount >= this.config.failureThreshold) {
        this.transitionTo(CircuitState.OPEN);
      }
    }
  }, {
    key: "checkForStateTransition",
    value: function checkForStateTransition() {
      if (this.state === CircuitState.OPEN && this.lastFailureTime && Date.now() - this.lastFailureTime >= this.config.resetTimeout) {
        this.transitionTo(CircuitState.HALF_OPEN);
      }
    }
  }, {
    key: "transitionTo",
    value: function transitionTo(newState) {
      this.state = newState;
      switch (newState) {
        case CircuitState.CLOSED:
          this.failureCount = 0;
          this.halfOpenAttempts = 0;
          break;
        case CircuitState.OPEN:
          this.halfOpenAttempts = 0;
          break;
        case CircuitState.HALF_OPEN:
          this.halfOpenAttempts = 0;
          break;
      }
      this.stateChangeCallbacks.forEach(function (cb) {
        return cb(newState);
      });
    }
  }, {
    key: "startMonitoring",
    value: function startMonitoring() {
      var _this = this;
      setInterval(function () {
        if (_this.lastFailureTime && Date.now() - _this.lastFailureTime > _this.config.monitoringPeriod) {
          _this.failureCount = Math.max(0, _this.failureCount - 1);
        }
      }, 10000);
    }
  }, {
    key: "onStateChange",
    value: function onStateChange(callback) {
      var _this2 = this;
      this.stateChangeCallbacks.add(callback);
      return function () {
        return _this2.stateChangeCallbacks.delete(callback);
      };
    }
  }, {
    key: "getState",
    value: function getState() {
      return this.state;
    }
  }, {
    key: "getStatistics",
    value: function getStatistics() {
      return {
        state: this.state,
        failureCount: this.failureCount,
        successCount: this.successCount,
        lastFailureTime: this.lastFailureTime
      };
    }
  }, {
    key: "reset",
    value: function reset() {
      this.transitionTo(CircuitState.CLOSED);
      this.failureCount = 0;
      this.successCount = 0;
      this.lastFailureTime = null;
    }
  }]);
}();
var syncCircuitBreaker = exports.syncCircuitBreaker = new CircuitBreaker({
  failureThreshold: 5,
  resetTimeout: 60000,
  monitoringPeriod: 120000,
  halfOpenMaxAttempts: 3
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDaXJjdWl0U3RhdGUiLCJleHBvcnRzIiwiQ2lyY3VpdEJyZWFrZXIiLCJjb25maWciLCJfY2xhc3NDYWxsQ2hlY2syIiwiZGVmYXVsdCIsInN0YXRlIiwiQ0xPU0VEIiwiZmFpbHVyZUNvdW50Iiwic3VjY2Vzc0NvdW50IiwibGFzdEZhaWx1cmVUaW1lIiwiaGFsZk9wZW5BdHRlbXB0cyIsInN0YXRlQ2hhbmdlQ2FsbGJhY2tzIiwiU2V0Iiwic3RhcnRNb25pdG9yaW5nIiwiX2NyZWF0ZUNsYXNzMiIsImtleSIsInZhbHVlIiwiX2V4ZWN1dGUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJmbiIsImNoZWNrRm9yU3RhdGVUcmFuc2l0aW9uIiwiT1BFTiIsIkVycm9yIiwicmVzdWx0IiwicmVjb3JkU3VjY2VzcyIsImUiLCJyZWNvcmRGYWlsdXJlIiwiZXhlY3V0ZSIsIl94IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJIQUxGX09QRU4iLCJoYWxmT3Blbk1heEF0dGVtcHRzIiwidHJhbnNpdGlvblRvIiwiRGF0ZSIsIm5vdyIsImZhaWx1cmVUaHJlc2hvbGQiLCJyZXNldFRpbWVvdXQiLCJuZXdTdGF0ZSIsImZvckVhY2giLCJjYiIsIl90aGlzIiwic2V0SW50ZXJ2YWwiLCJtb25pdG9yaW5nUGVyaW9kIiwiTWF0aCIsIm1heCIsIm9uU3RhdGVDaGFuZ2UiLCJjYWxsYmFjayIsIl90aGlzMiIsImFkZCIsImRlbGV0ZSIsImdldFN0YXRlIiwiZ2V0U3RhdGlzdGljcyIsInJlc2V0Iiwic3luY0NpcmN1aXRCcmVha2VyIl0sInNvdXJjZXMiOlsiY2lyY3VpdEJyZWFrZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gQ2lyY3VpdFN0YXRlIHtcbiAgQ0xPU0VEID0gJ0NMT1NFRCcsXG4gIE9QRU4gPSAnT1BFTicsXG4gIEhBTEZfT1BFTiA9ICdIQUxGX09QRU4nLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENpcmN1aXRCcmVha2VyQ29uZmlnIHtcbiAgZmFpbHVyZVRocmVzaG9sZDogbnVtYmVyO1xuICByZXNldFRpbWVvdXQ6IG51bWJlcjsgLy8gbXNcbiAgbW9uaXRvcmluZ1BlcmlvZDogbnVtYmVyOyAvLyBtc1xuICBoYWxmT3Blbk1heEF0dGVtcHRzOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBDaXJjdWl0QnJlYWtlciB7XG4gIHByaXZhdGUgc3RhdGU6IENpcmN1aXRTdGF0ZSA9IENpcmN1aXRTdGF0ZS5DTE9TRUQ7XG4gIHByaXZhdGUgZmFpbHVyZUNvdW50ID0gMDtcbiAgcHJpdmF0ZSBzdWNjZXNzQ291bnQgPSAwO1xuICBwcml2YXRlIGxhc3RGYWlsdXJlVGltZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgaGFsZk9wZW5BdHRlbXB0cyA9IDA7XG4gIHByaXZhdGUgc3RhdGVDaGFuZ2VDYWxsYmFja3M6IFNldDwoc3RhdGU6IENpcmN1aXRTdGF0ZSkgPT4gdm9pZD4gPSBuZXcgU2V0KCk7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBjb25maWc6IENpcmN1aXRCcmVha2VyQ29uZmlnKSB7XG4gICAgdGhpcy5zdGFydE1vbml0b3JpbmcoKTtcbiAgfVxuXG4gIGFzeW5jIGV4ZWN1dGU8VD4oZm46ICgpID0+IFByb21pc2U8VD4pOiBQcm9taXNlPFQ+IHtcbiAgICB0aGlzLmNoZWNrRm9yU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IENpcmN1aXRTdGF0ZS5PUEVOKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NJUkNVSVRfT1BFTicpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZm4oKTtcbiAgICAgIHRoaXMucmVjb3JkU3VjY2VzcygpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLnJlY29yZEZhaWx1cmUoKTtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZWNvcmRTdWNjZXNzKCk6IHZvaWQge1xuICAgIHRoaXMuc3VjY2Vzc0NvdW50Kys7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IENpcmN1aXRTdGF0ZS5IQUxGX09QRU4pIHtcbiAgICAgIHRoaXMuaGFsZk9wZW5BdHRlbXB0cysrO1xuICAgICAgaWYgKHRoaXMuaGFsZk9wZW5BdHRlbXB0cyA+PSB0aGlzLmNvbmZpZy5oYWxmT3Blbk1heEF0dGVtcHRzKSB7XG4gICAgICAgIHRoaXMudHJhbnNpdGlvblRvKENpcmN1aXRTdGF0ZS5DTE9TRUQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZSA9PT0gQ2lyY3VpdFN0YXRlLkNMT1NFRCkge1xuICAgICAgdGhpcy5mYWlsdXJlQ291bnQgPSAwO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVjb3JkRmFpbHVyZSgpOiB2b2lkIHtcbiAgICB0aGlzLmZhaWx1cmVDb3VudCsrO1xuICAgIHRoaXMubGFzdEZhaWx1cmVUaW1lID0gRGF0ZS5ub3coKTtcbiAgICBpZiAodGhpcy5zdGF0ZSA9PT0gQ2lyY3VpdFN0YXRlLkhBTEZfT1BFTikge1xuICAgICAgdGhpcy50cmFuc2l0aW9uVG8oQ2lyY3VpdFN0YXRlLk9QRU4pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZSA9PT0gQ2lyY3VpdFN0YXRlLkNMT1NFRCAmJiB0aGlzLmZhaWx1cmVDb3VudCA+PSB0aGlzLmNvbmZpZy5mYWlsdXJlVGhyZXNob2xkKSB7XG4gICAgICB0aGlzLnRyYW5zaXRpb25UbyhDaXJjdWl0U3RhdGUuT1BFTik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjaGVja0ZvclN0YXRlVHJhbnNpdGlvbigpOiB2b2lkIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLnN0YXRlID09PSBDaXJjdWl0U3RhdGUuT1BFTiAmJlxuICAgICAgdGhpcy5sYXN0RmFpbHVyZVRpbWUgJiZcbiAgICAgIERhdGUubm93KCkgLSB0aGlzLmxhc3RGYWlsdXJlVGltZSA+PSB0aGlzLmNvbmZpZy5yZXNldFRpbWVvdXRcbiAgICApIHtcbiAgICAgIHRoaXMudHJhbnNpdGlvblRvKENpcmN1aXRTdGF0ZS5IQUxGX09QRU4pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdHJhbnNpdGlvblRvKG5ld1N0YXRlOiBDaXJjdWl0U3RhdGUpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlID0gbmV3U3RhdGU7XG4gICAgc3dpdGNoIChuZXdTdGF0ZSkge1xuICAgICAgY2FzZSBDaXJjdWl0U3RhdGUuQ0xPU0VEOlxuICAgICAgICB0aGlzLmZhaWx1cmVDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuaGFsZk9wZW5BdHRlbXB0cyA9IDA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDaXJjdWl0U3RhdGUuT1BFTjpcbiAgICAgICAgdGhpcy5oYWxmT3BlbkF0dGVtcHRzID0gMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENpcmN1aXRTdGF0ZS5IQUxGX09QRU46XG4gICAgICAgIHRoaXMuaGFsZk9wZW5BdHRlbXB0cyA9IDA7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzLmZvckVhY2goKGNiKSA9PiBjYihuZXdTdGF0ZSkpO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGFydE1vbml0b3JpbmcoKTogdm9pZCB7XG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmxhc3RGYWlsdXJlVGltZSAmJlxuICAgICAgICBEYXRlLm5vdygpIC0gdGhpcy5sYXN0RmFpbHVyZVRpbWUgPiB0aGlzLmNvbmZpZy5tb25pdG9yaW5nUGVyaW9kXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5mYWlsdXJlQ291bnQgPSBNYXRoLm1heCgwLCB0aGlzLmZhaWx1cmVDb3VudCAtIDEpO1xuICAgICAgfVxuICAgIH0sIDEwXzAwMCk7XG4gIH1cblxuICBvblN0YXRlQ2hhbmdlKGNhbGxiYWNrOiAoc3RhdGU6IENpcmN1aXRTdGF0ZSkgPT4gdm9pZCk6ICgpID0+IHZvaWQge1xuICAgIHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3MuYWRkKGNhbGxiYWNrKTtcbiAgICByZXR1cm4gKCkgPT4gdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrcy5kZWxldGUoY2FsbGJhY2spO1xuICB9XG5cbiAgZ2V0U3RhdGUoKTogQ2lyY3VpdFN0YXRlIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgfVxuXG4gIGdldFN0YXRpc3RpY3MoKTogeyBzdGF0ZTogQ2lyY3VpdFN0YXRlOyBmYWlsdXJlQ291bnQ6IG51bWJlcjsgc3VjY2Vzc0NvdW50OiBudW1iZXI7IGxhc3RGYWlsdXJlVGltZTogbnVtYmVyIHwgbnVsbCB9IHtcbiAgICByZXR1cm4geyBzdGF0ZTogdGhpcy5zdGF0ZSwgZmFpbHVyZUNvdW50OiB0aGlzLmZhaWx1cmVDb3VudCwgc3VjY2Vzc0NvdW50OiB0aGlzLnN1Y2Nlc3NDb3VudCwgbGFzdEZhaWx1cmVUaW1lOiB0aGlzLmxhc3RGYWlsdXJlVGltZSB9O1xuICB9XG5cbiAgcmVzZXQoKTogdm9pZCB7XG4gICAgdGhpcy50cmFuc2l0aW9uVG8oQ2lyY3VpdFN0YXRlLkNMT1NFRCk7XG4gICAgdGhpcy5mYWlsdXJlQ291bnQgPSAwO1xuICAgIHRoaXMuc3VjY2Vzc0NvdW50ID0gMDtcbiAgICB0aGlzLmxhc3RGYWlsdXJlVGltZSA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHN5bmNDaXJjdWl0QnJlYWtlciA9IG5ldyBDaXJjdWl0QnJlYWtlcih7XG4gIGZhaWx1cmVUaHJlc2hvbGQ6IDUsXG4gIHJlc2V0VGltZW91dDogNjBfMDAwLFxuICBtb25pdG9yaW5nUGVyaW9kOiAxMjBfMDAwLFxuICBoYWxmT3Blbk1heEF0dGVtcHRzOiAzLFxufSk7XG5cblxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztJQUFZQSxZQUFZLEdBQUFDLE9BQUEsQ0FBQUQsWUFBQSxhQUFaQSxZQUFZO0VBQVpBLFlBQVk7RUFBWkEsWUFBWTtFQUFa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LE1BQU0sQ0FBQ3lDLGdCQUFnQixFQUNoRTtVQUNBRixLQUFJLENBQUNsQyxZQUFZLEdBQUdxQyxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEVBQUVKLEtBQUksQ0FBQ2xDLFlBQVksR0FBRyxDQUFDLENBQUM7UUFDeEQ7TUFDRixDQUFDLEVBQUUsS0FBTSxDQUFDO0lBQ1o7RUFBQztJQUFBUSxHQUFBO0lBQUFDLEtBQUEsRUFFRCxTQUFBOEIsYUFBYUEsQ0FBQ0MsUUFBdUMsRUFBYztNQUFBLElBQUFDLE1BQUE7TUFDakUsSUFBSSxDQUFDckMsb0JBQW9CLENBQUNzQyxHQUFHLENBQUNGLFFBQVEsQ0FBQztNQUN2QyxPQUFPO1FBQUEsT0FBTUMsTUFBSSxDQUFDckMsb0JBQW9CLENBQUN1QyxNQUFNLENBQUNILFFBQVEsQ0FBQztNQUFBO0lBQ3pEO0VBQUM7SUFBQWhDLEdBQUE7SUFBQUMsS0FBQSxFQUVELFNBQUFtQyxRQUFRQSxDQUFBLEVBQWlCO01BQ3ZCLE9BQU8sSUFBSSxDQUFDOUMsS0FBSztJQUNuQjtFQUFDO0lBQUFVLEdBQUE7SUFBQUMsS0FBQSxFQUVELFNBQUFvQyxhQUFhQSxDQUFBLEVBQXdHO01BQ25ILE9BQU87UUFBRS9DLEtBQUssRUFBRSxJQUFJLENBQUNBLEtBQUs7UUFBRUUsWUFBWSxFQUFFLElBQUksQ0FBQ0EsWUFBWTtRQUFFQyxZQUFZLEVBQUUsSUFBSSxDQUFDQSxZQUFZO1FBQUVDLGVBQWUsRUFBRSxJQUFJLENBQUNBO01BQWdCLENBQUM7SUFDdkk7RUFBQztJQUFBTSxHQUFBO0lBQUFDLEtBQUEsRUFFRCxTQUFBcUMsS0FBS0EsQ0FBQSxFQUFTO01BQ1osSUFBSSxDQUFDcEIsWUFBWSxDQUFDbEMsWUFBWSxDQUFDTyxNQUFNLENBQUM7TUFDdEMsSUFBSSxDQUFDQyxZQUFZLEdBQUcsQ0FBQztNQUNyQixJQUFJLENBQUNDLFlBQVksR0FBRyxDQUFDO01BQ3JCLElBQUksQ0FBQ0MsZUFBZSxHQUFHLElBQUk7SUFDN0I7RUFBQztBQUFBO0FBR0ksSUFBTTZDLGtCQUFrQixHQUFBdEQsT0FBQSxDQUFBc0Qsa0JBQUEsR0FBRyxJQUFJckQsY0FBYyxDQUFDO0VBQ25EbUMsZ0JBQWdCLEVBQUUsQ0FBQztFQUNuQkMsWUFBWSxFQUFFLEtBQU07RUFDcEJNLGdCQUFnQixFQUFFLE1BQU87RUFDekJYLG1CQUFtQixFQUFFO0FBQ3ZCLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==