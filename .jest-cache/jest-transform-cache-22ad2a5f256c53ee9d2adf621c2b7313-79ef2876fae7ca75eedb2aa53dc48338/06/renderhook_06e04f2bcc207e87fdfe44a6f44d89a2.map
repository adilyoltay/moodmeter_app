{"version":3,"names":["React","_interopRequireWildcard","require","_render","_interopRequireDefault","_renderAsync","e","__esModule","default","t","WeakMap","r","n","o","i","f","__proto__","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","renderHook","hookToRender","options","result","createRef","HookContainer","_ref","hookProps","renderResult","useEffect","current","_ref2","initialProps","renderOptions","_objectWithoutProperties2","_excluded","_ref3","createElement","rerenderComponent","rerender","unmount","renderHookAsync","_x","_x2","_renderHookAsync","apply","arguments","_asyncToGenerator2","TestComponent","_ref4","_ref5","_excluded2","_yield","rerenderComponentAsync","rerenderAsync","unmountAsync"],"sources":["../src/render-hook.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport render from './render';\nimport renderAsync from './render-async';\nimport type { RefObject } from './types';\n\nexport type RenderHookResult<Result, Props> = {\n  result: RefObject<Result>;\n  rerender: (props: Props) => void;\n  unmount: () => void;\n};\n\nexport type RenderHookAsyncResult<Result, Props> = {\n  result: RefObject<Result>;\n  rerenderAsync: (props: Props) => Promise<void>;\n  unmountAsync: () => Promise<void>;\n};\n\nexport type RenderHookOptions<Props> = {\n  /**\n   * The initial props to pass to the hook.\n   */\n  initialProps?: Props;\n\n  /**\n   * Pass a React Component as the wrapper option to have it rendered around the inner element. This is most useful for creating\n   * reusable custom render functions for common data providers.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  wrapper?: React.ComponentType<any>;\n\n  /**\n   * Set to `false` to disable concurrent rendering.\n   * Otherwise `renderHook` will default to concurrent rendering.\n   */\n  concurrentRoot?: boolean;\n};\n\nexport function renderHook<Result, Props>(\n  hookToRender: (props: Props) => Result,\n  options?: RenderHookOptions<Props>,\n): RenderHookResult<Result, Props> {\n  const result = React.createRef<Result>() as RefObject<Result>;\n\n  function HookContainer({ hookProps }: { hookProps: Props }) {\n    const renderResult = hookToRender(hookProps);\n    React.useEffect(() => {\n      result.current = renderResult;\n    });\n\n    return null;\n  }\n\n  const { initialProps, ...renderOptions } = options ?? {};\n  const { rerender: rerenderComponent, unmount } = render(\n    // @ts-expect-error since option can be undefined, initialProps can be undefined when it should'nt\n    <HookContainer hookProps={initialProps} />,\n    renderOptions,\n  );\n\n  return {\n    result: result,\n    rerender: (hookProps: Props) => rerenderComponent(<HookContainer hookProps={hookProps} />),\n    unmount,\n  };\n}\n\nexport async function renderHookAsync<Result, Props>(\n  hookToRender: (props: Props) => Result,\n  options?: RenderHookOptions<Props>,\n): Promise<RenderHookAsyncResult<Result, Props>> {\n  const result = React.createRef<Result>() as RefObject<Result>;\n\n  function TestComponent({ hookProps }: { hookProps: Props }) {\n    const renderResult = hookToRender(hookProps);\n    React.useEffect(() => {\n      result.current = renderResult;\n    });\n\n    return null;\n  }\n\n  const { initialProps, ...renderOptions } = options ?? {};\n  const { rerenderAsync: rerenderComponentAsync, unmountAsync } = await renderAsync(\n    // @ts-expect-error since option can be undefined, initialProps can be undefined when it should'nt\n    <TestComponent hookProps={initialProps} />,\n    renderOptions,\n  );\n\n  return {\n    result: result,\n    rerenderAsync: (hookProps: Props) =>\n      rerenderComponentAsync(<TestComponent hookProps={hookProps} />),\n    unmountAsync,\n  };\n}\n"],"mappings":"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","ignoreList":[]}