c998ae243c801e6a7a3fd8d1f1e90f6f
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createSupabaseTestClient = createSupabaseTestClient;
var _supabaseJs = require("@supabase/supabase-js");
function createSupabaseTestClient() {
  var url = process.env.TEST_SUPABASE_URL;
  var serviceRole = process.env.TEST_SUPABASE_SERVICE_ROLE;
  if (!url || !serviceRole) {
    throw new Error('Missing TEST_SUPABASE_URL or TEST_SUPABASE_SERVICE_ROLE for live tests');
  }
  return (0, _supabaseJs.createClient)(url, serviceRole, {
    auth: {
      persistSession: false,
      autoRefreshToken: false
    }
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfc3VwYWJhc2VKcyIsInJlcXVpcmUiLCJjcmVhdGVTdXBhYmFzZVRlc3RDbGllbnQiLCJ1cmwiLCJwcm9jZXNzIiwiZW52IiwiVEVTVF9TVVBBQkFTRV9VUkwiLCJzZXJ2aWNlUm9sZSIsIlRFU1RfU1VQQUJBU0VfU0VSVklDRV9ST0xFIiwiRXJyb3IiLCJjcmVhdGVDbGllbnQiLCJhdXRoIiwicGVyc2lzdFNlc3Npb24iLCJhdXRvUmVmcmVzaFRva2VuIl0sInNvdXJjZXMiOlsic3VwYWJhc2VUZXN0Q2xpZW50LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCwgU3VwYWJhc2VDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3VwYWJhc2VUZXN0Q2xpZW50KCk6IFN1cGFiYXNlQ2xpZW50IHtcbiAgY29uc3QgdXJsID0gcHJvY2Vzcy5lbnYuVEVTVF9TVVBBQkFTRV9VUkwgYXMgc3RyaW5nO1xuICBjb25zdCBzZXJ2aWNlUm9sZSA9IHByb2Nlc3MuZW52LlRFU1RfU1VQQUJBU0VfU0VSVklDRV9ST0xFIGFzIHN0cmluZztcbiAgaWYgKCF1cmwgfHwgIXNlcnZpY2VSb2xlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIFRFU1RfU1VQQUJBU0VfVVJMIG9yIFRFU1RfU1VQQUJBU0VfU0VSVklDRV9ST0xFIGZvciBsaXZlIHRlc3RzJyk7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUNsaWVudCh1cmwsIHNlcnZpY2VSb2xlLCB7XG4gICAgYXV0aDogeyBwZXJzaXN0U2Vzc2lvbjogZmFsc2UsIGF1dG9SZWZyZXNoVG9rZW46IGZhbHNlIH0sXG4gIH0pO1xufVxuXG5cbiJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUFBLFdBQUEsR0FBQUMsT0FBQTtBQUVPLFNBQVNDLHdCQUF3QkEsQ0FBQSxFQUFtQjtFQUN6RCxJQUFNQyxHQUFHLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxpQkFBMkI7RUFDbkQsSUFBTUMsV0FBVyxHQUFHSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csMEJBQW9DO0VBQ3BFLElBQUksQ0FBQ0wsR0FBRyxJQUFJLENBQUNJLFdBQVcsRUFBRTtJQUN4QixNQUFNLElBQUlFLEtBQUssQ0FBQyx3RUFBd0UsQ0FBQztFQUMzRjtFQUNBLE9BQU8sSUFBQUMsd0JBQVksRUFBQ1AsR0FBRyxFQUFFSSxXQUFXLEVBQUU7SUFDcENJLElBQUksRUFBRTtNQUFFQyxjQUFjLEVBQUUsS0FBSztNQUFFQyxnQkFBZ0IsRUFBRTtJQUFNO0VBQ3pELENBQUMsQ0FBQztBQUNKIiwiaWdub3JlTGlzdCI6W119