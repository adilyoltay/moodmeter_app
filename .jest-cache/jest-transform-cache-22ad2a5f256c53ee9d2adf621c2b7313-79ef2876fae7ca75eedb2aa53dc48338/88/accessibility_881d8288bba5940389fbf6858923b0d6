44cf2db9a17be0a536256b35b1486b3e
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.accessibilityValueKeys = exports.accessibilityStateKeys = void 0;
exports.computeAccessibleName = computeAccessibleName;
exports.computeAriaBusy = computeAriaBusy;
exports.computeAriaChecked = computeAriaChecked;
exports.computeAriaDisabled = computeAriaDisabled;
exports.computeAriaExpanded = computeAriaExpanded;
exports.computeAriaLabel = computeAriaLabel;
exports.computeAriaModal = computeAriaModal;
exports.computeAriaSelected = computeAriaSelected;
exports.computeAriaValue = computeAriaValue;
exports.getRole = getRole;
exports.isAccessibilityElement = isAccessibilityElement;
exports.isHiddenFromAccessibility = isHiddenFromAccessibility;
exports.isInaccessible = void 0;
exports.normalizeRole = normalizeRole;
exports.rolesSupportingCheckedState = void 0;
var _reactNative = require("react-native");
var _componentTree = require("./component-tree");
var _findAll = require("./find-all");
var _hostComponentNames = require("./host-component-names");
var _textContent = require("./text-content");
var _textInput = require("./text-input");
var accessibilityStateKeys = exports.accessibilityStateKeys = ['disabled', 'selected', 'checked', 'busy', 'expanded'];
var accessibilityValueKeys = exports.accessibilityValueKeys = ['min', 'max', 'now', 'text'];
function isHiddenFromAccessibility(element) {
  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
    cache = _ref.cache;
  if (element == null) {
    return true;
  }
  var current = element;
  while (current) {
    var isCurrentSubtreeInaccessible = cache == null ? void 0 : cache.get(current);
    if (isCurrentSubtreeInaccessible === undefined) {
      isCurrentSubtreeInaccessible = isSubtreeInaccessible(current);
      cache == null || cache.set(current, isCurrentSubtreeInaccessible);
    }
    if (isCurrentSubtreeInaccessible) {
      return true;
    }
    current = current.parent;
  }
  return false;
}
var isInaccessible = exports.isInaccessible = isHiddenFromAccessibility;
function isSubtreeInaccessible(element) {
  var _reactNative$StyleShe;
  if (element.props == null) {
    return false;
  }
  if (element.props['aria-hidden']) {
    return true;
  }
  if (element.props.accessibilityElementsHidden) {
    return true;
  }
  if (element.props.importantForAccessibility === 'no-hide-descendants') {
    return true;
  }
  var flatStyle = (_reactNative$StyleShe = _reactNative.StyleSheet.flatten(element.props.style)) != null ? _reactNative$StyleShe : {};
  if (flatStyle.display === 'none') return true;
  var hostSiblings = (0, _componentTree.getHostSiblings)(element);
  if (hostSiblings.some(function (sibling) {
    return computeAriaModal(sibling);
  })) {
    return true;
  }
  return false;
}
function isAccessibilityElement(element) {
  if (element == null) {
    return false;
  }
  if ((0, _hostComponentNames.isHostImage)(element) && element.props.alt !== undefined) {
    return true;
  }
  if (element.props.accessible !== undefined) {
    return element.props.accessible;
  }
  return (0, _hostComponentNames.isHostText)(element) || (0, _hostComponentNames.isHostTextInput)(element) || (0, _hostComponentNames.isHostSwitch)(element);
}
function getRole(element) {
  var _element$props$role;
  var explicitRole = (_element$props$role = element.props.role) != null ? _element$props$role : element.props.accessibilityRole;
  if (explicitRole) {
    return normalizeRole(explicitRole);
  }
  if ((0, _hostComponentNames.isHostText)(element)) {
    return 'text';
  }
  return 'none';
}
function normalizeRole(role) {
  if (role === 'image') {
    return 'img';
  }
  return role;
}
function computeAriaModal(element) {
  var _element$props$ariaM;
  return (_element$props$ariaM = element.props['aria-modal']) != null ? _element$props$ariaM : element.props.accessibilityViewIsModal;
}
function computeAriaLabel(element) {
  var _element$props$ariaL, _element$props$ariaL2;
  var labelElementId = (_element$props$ariaL = element.props['aria-labelledby']) != null ? _element$props$ariaL : element.props.accessibilityLabelledBy;
  if (labelElementId) {
    var rootElement = (0, _componentTree.getUnsafeRootElement)(element);
    var labelElement = (0, _findAll.findAll)(rootElement, function (node) {
      return (0, _componentTree.isHostElement)(node) && node.props.nativeID === labelElementId;
    }, {
      includeHiddenElements: true
    });
    if (labelElement.length > 0) {
      return (0, _textContent.getTextContent)(labelElement[0]);
    }
  }
  var explicitLabel = (_element$props$ariaL2 = element.props['aria-label']) != null ? _element$props$ariaL2 : element.props.accessibilityLabel;
  if (explicitLabel) {
    return explicitLabel;
  }
  if ((0, _hostComponentNames.isHostImage)(element) && element.props.alt) {
    return element.props.alt;
  }
  return undefined;
}
function computeAriaBusy(_ref2) {
  var _ref3, _props$ariaBusy, _props$accessibilityS;
  var props = _ref2.props;
  return (_ref3 = (_props$ariaBusy = props['aria-busy']) != null ? _props$ariaBusy : (_props$accessibilityS = props.accessibilityState) == null ? void 0 : _props$accessibilityS.busy) != null ? _ref3 : false;
}
function computeAriaChecked(element) {
  var _props$ariaChecked, _props$accessibilityS2;
  var props = element.props;
  if ((0, _hostComponentNames.isHostSwitch)(element)) {
    return props.value;
  }
  var role = getRole(element);
  if (!rolesSupportingCheckedState[role]) {
    return undefined;
  }
  return (_props$ariaChecked = props['aria-checked']) != null ? _props$ariaChecked : (_props$accessibilityS2 = props.accessibilityState) == null ? void 0 : _props$accessibilityS2.checked;
}
function computeAriaDisabled(element) {
  var _ref4, _props$ariaDisabled, _props$accessibilityS3;
  if ((0, _hostComponentNames.isHostTextInput)(element) && !(0, _textInput.isEditableTextInput)(element)) {
    return true;
  }
  var props = element.props;
  if ((0, _hostComponentNames.isHostText)(element) && props.disabled) {
    return true;
  }
  return (_ref4 = (_props$ariaDisabled = props['aria-disabled']) != null ? _props$ariaDisabled : (_props$accessibilityS3 = props.accessibilityState) == null ? void 0 : _props$accessibilityS3.disabled) != null ? _ref4 : false;
}
function computeAriaExpanded(_ref5) {
  var _props$ariaExpanded, _props$accessibilityS4;
  var props = _ref5.props;
  return (_props$ariaExpanded = props['aria-expanded']) != null ? _props$ariaExpanded : (_props$accessibilityS4 = props.accessibilityState) == null ? void 0 : _props$accessibilityS4.expanded;
}
function computeAriaSelected(_ref6) {
  var _ref7, _props$ariaSelected, _props$accessibilityS5;
  var props = _ref6.props;
  return (_ref7 = (_props$ariaSelected = props['aria-selected']) != null ? _props$ariaSelected : (_props$accessibilityS5 = props.accessibilityState) == null ? void 0 : _props$accessibilityS5.selected) != null ? _ref7 : false;
}
function computeAriaValue(element) {
  var _element$props = element.props,
    accessibilityValue = _element$props.accessibilityValue,
    ariaValueMax = _element$props['aria-valuemax'],
    ariaValueMin = _element$props['aria-valuemin'],
    ariaValueNow = _element$props['aria-valuenow'],
    ariaValueText = _element$props['aria-valuetext'];
  return {
    max: ariaValueMax != null ? ariaValueMax : accessibilityValue == null ? void 0 : accessibilityValue.max,
    min: ariaValueMin != null ? ariaValueMin : accessibilityValue == null ? void 0 : accessibilityValue.min,
    now: ariaValueNow != null ? ariaValueNow : accessibilityValue == null ? void 0 : accessibilityValue.now,
    text: ariaValueText != null ? ariaValueText : accessibilityValue == null ? void 0 : accessibilityValue.text
  };
}
function computeAccessibleName(element) {
  var _computeAriaLabel;
  return (_computeAriaLabel = computeAriaLabel(element)) != null ? _computeAriaLabel : (0, _textContent.getTextContent)(element);
}
var rolesSupportingCheckedState = exports.rolesSupportingCheckedState = {
  checkbox: true,
  radio: true,
  switch: true
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3ROYXRpdmUiLCJyZXF1aXJlIiwiX2NvbXBvbmVudFRyZWUiLCJfZmluZEFsbCIsIl9ob3N0Q29tcG9uZW50TmFtZXMiLCJfdGV4dENvbnRlbnQiLCJfdGV4dElucHV0IiwiYWNjZXNzaWJpbGl0eVN0YXRlS2V5cyIsImV4cG9ydHMiLCJhY2Nlc3NpYmlsaXR5VmFsdWVLZXlzIiwiaXNIaWRkZW5Gcm9tQWNjZXNzaWJpbGl0eSIsImVsZW1lbnQiLCJfcmVmIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiY2FjaGUiLCJjdXJyZW50IiwiaXNDdXJyZW50U3VidHJlZUluYWNjZXNzaWJsZSIsImdldCIsImlzU3VidHJlZUluYWNjZXNzaWJsZSIsInNldCIsInBhcmVudCIsImlzSW5hY2Nlc3NpYmxlIiwiX3JlYWN0TmF0aXZlJFN0eWxlU2hlIiwicHJvcHMiLCJhY2Nlc3NpYmlsaXR5RWxlbWVudHNIaWRkZW4iLCJpbXBvcnRhbnRGb3JBY2Nlc3NpYmlsaXR5IiwiZmxhdFN0eWxlIiwiU3R5bGVTaGVldCIsImZsYXR0ZW4iLCJzdHlsZSIsImRpc3BsYXkiLCJob3N0U2libGluZ3MiLCJnZXRIb3N0U2libGluZ3MiLCJzb21lIiwic2libGluZyIsImNvbXB1dGVBcmlhTW9kYWwiLCJpc0FjY2Vzc2liaWxpdHlFbGVtZW50IiwiaXNIb3N0SW1hZ2UiLCJhbHQiLCJhY2Nlc3NpYmxlIiwiaXNIb3N0VGV4dCIsImlzSG9zdFRleHRJbnB1dCIsImlzSG9zdFN3aXRjaCIsImdldFJvbGUiLCJfZWxlbWVudCRwcm9wcyRyb2xlIiwiZXhwbGljaXRSb2xlIiwicm9sZSIsImFjY2Vzc2liaWxpdHlSb2xlIiwibm9ybWFsaXplUm9sZSIsIl9lbGVtZW50JHByb3BzJGFyaWFNIiwiYWNjZXNzaWJpbGl0eVZpZXdJc01vZGFsIiwiY29tcHV0ZUFyaWFMYWJlbCIsIl9lbGVtZW50JHByb3BzJGFyaWFMIiwiX2VsZW1lbnQkcHJvcHMkYXJpYUwyIiwibGFiZWxFbGVtZW50SWQiLCJhY2Nlc3NpYmlsaXR5TGFiZWxsZWRCeSIsInJvb3RFbGVtZW50IiwiZ2V0VW5zYWZlUm9vdEVsZW1lbnQiLCJsYWJlbEVsZW1lbnQiLCJmaW5kQWxsIiwibm9kZSIsImlzSG9zdEVsZW1lbnQiLCJuYXRpdmVJRCIsImluY2x1ZGVIaWRkZW5FbGVtZW50cyIsImdldFRleHRDb250ZW50IiwiZXhwbGljaXRMYWJlbCIsImFjY2Vzc2liaWxpdHlMYWJlbCIsImNvbXB1dGVBcmlhQnVzeSIsIl9yZWYyIiwiX3JlZjMiLCJfcHJvcHMkYXJpYUJ1c3kiLCJfcHJvcHMkYWNjZXNzaWJpbGl0eVMiLCJhY2Nlc3NpYmlsaXR5U3RhdGUiLCJidXN5IiwiY29tcHV0ZUFyaWFDaGVja2VkIiwiX3Byb3BzJGFyaWFDaGVja2VkIiwiX3Byb3BzJGFjY2Vzc2liaWxpdHlTMiIsInZhbHVlIiwicm9sZXNTdXBwb3J0aW5nQ2hlY2tlZFN0YXRlIiwiY2hlY2tlZCIsImNvbXB1dGVBcmlhRGlzYWJsZWQiLCJfcmVmNCIsIl9wcm9wcyRhcmlhRGlzYWJsZWQiLCJfcHJvcHMkYWNjZXNzaWJpbGl0eVMzIiwiaXNFZGl0YWJsZVRleHRJbnB1dCIsImRpc2FibGVkIiwiY29tcHV0ZUFyaWFFeHBhbmRlZCIsIl9yZWY1IiwiX3Byb3BzJGFyaWFFeHBhbmRlZCIsIl9wcm9wcyRhY2Nlc3NpYmlsaXR5UzQiLCJleHBhbmRlZCIsImNvbXB1dGVBcmlhU2VsZWN0ZWQiLCJfcmVmNiIsIl9yZWY3IiwiX3Byb3BzJGFyaWFTZWxlY3RlZCIsIl9wcm9wcyRhY2Nlc3NpYmlsaXR5UzUiLCJzZWxlY3RlZCIsImNvbXB1dGVBcmlhVmFsdWUiLCJfZWxlbWVudCRwcm9wcyIsImFjY2Vzc2liaWxpdHlWYWx1ZSIsImFyaWFWYWx1ZU1heCIsImFyaWFWYWx1ZU1pbiIsImFyaWFWYWx1ZU5vdyIsImFyaWFWYWx1ZVRleHQiLCJtYXgiLCJtaW4iLCJub3ciLCJ0ZXh0IiwiY29tcHV0ZUFjY2Vzc2libGVOYW1lIiwiX2NvbXB1dGVBcmlhTGFiZWwiLCJjaGVja2JveCIsInJhZGlvIiwic3dpdGNoIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2hlbHBlcnMvYWNjZXNzaWJpbGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEFjY2Vzc2liaWxpdHlSb2xlLCBBY2Nlc3NpYmlsaXR5U3RhdGUsIEFjY2Vzc2liaWxpdHlWYWx1ZSwgUm9sZSB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgeyBTdHlsZVNoZWV0IH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCB0eXBlIHsgUmVhY3RUZXN0SW5zdGFuY2UgfSBmcm9tICdyZWFjdC10ZXN0LXJlbmRlcmVyJztcblxuaW1wb3J0IHsgZ2V0SG9zdFNpYmxpbmdzLCBnZXRVbnNhZmVSb290RWxlbWVudCwgaXNIb3N0RWxlbWVudCB9IGZyb20gJy4vY29tcG9uZW50LXRyZWUnO1xuaW1wb3J0IHsgZmluZEFsbCB9IGZyb20gJy4vZmluZC1hbGwnO1xuaW1wb3J0IHsgaXNIb3N0SW1hZ2UsIGlzSG9zdFN3aXRjaCwgaXNIb3N0VGV4dCwgaXNIb3N0VGV4dElucHV0IH0gZnJvbSAnLi9ob3N0LWNvbXBvbmVudC1uYW1lcyc7XG5pbXBvcnQgeyBnZXRUZXh0Q29udGVudCB9IGZyb20gJy4vdGV4dC1jb250ZW50JztcbmltcG9ydCB7IGlzRWRpdGFibGVUZXh0SW5wdXQgfSBmcm9tICcuL3RleHQtaW5wdXQnO1xuXG50eXBlIElzSW5hY2Nlc3NpYmxlT3B0aW9ucyA9IHtcbiAgY2FjaGU/OiBXZWFrTWFwPFJlYWN0VGVzdEluc3RhbmNlLCBib29sZWFuPjtcbn07XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NpYmlsaXR5U3RhdGVLZXlzOiAoa2V5b2YgQWNjZXNzaWJpbGl0eVN0YXRlKVtdID0gW1xuICAnZGlzYWJsZWQnLFxuICAnc2VsZWN0ZWQnLFxuICAnY2hlY2tlZCcsXG4gICdidXN5JyxcbiAgJ2V4cGFuZGVkJyxcbl07XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NpYmlsaXR5VmFsdWVLZXlzOiAoa2V5b2YgQWNjZXNzaWJpbGl0eVZhbHVlKVtdID0gWydtaW4nLCAnbWF4JywgJ25vdycsICd0ZXh0J107XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0hpZGRlbkZyb21BY2Nlc3NpYmlsaXR5KFxuICBlbGVtZW50OiBSZWFjdFRlc3RJbnN0YW5jZSB8IG51bGwsXG4gIHsgY2FjaGUgfTogSXNJbmFjY2Vzc2libGVPcHRpb25zID0ge30sXG4pOiBib29sZWFuIHtcbiAgaWYgKGVsZW1lbnQgPT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgbGV0IGN1cnJlbnQ6IFJlYWN0VGVzdEluc3RhbmNlIHwgbnVsbCA9IGVsZW1lbnQ7XG4gIHdoaWxlIChjdXJyZW50KSB7XG4gICAgbGV0IGlzQ3VycmVudFN1YnRyZWVJbmFjY2Vzc2libGUgPSBjYWNoZT8uZ2V0KGN1cnJlbnQpO1xuXG4gICAgaWYgKGlzQ3VycmVudFN1YnRyZWVJbmFjY2Vzc2libGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaXNDdXJyZW50U3VidHJlZUluYWNjZXNzaWJsZSA9IGlzU3VidHJlZUluYWNjZXNzaWJsZShjdXJyZW50KTtcbiAgICAgIGNhY2hlPy5zZXQoY3VycmVudCwgaXNDdXJyZW50U3VidHJlZUluYWNjZXNzaWJsZSk7XG4gICAgfVxuXG4gICAgaWYgKGlzQ3VycmVudFN1YnRyZWVJbmFjY2Vzc2libGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqIFJUTC1jb21wYXRpYmlsaXR5IGFsaWFzIGZvciBgaXNIaWRkZW5Gcm9tQWNjZXNzaWJpbGl0eWAgKi9cbmV4cG9ydCBjb25zdCBpc0luYWNjZXNzaWJsZSA9IGlzSGlkZGVuRnJvbUFjY2Vzc2liaWxpdHk7XG5cbmZ1bmN0aW9uIGlzU3VidHJlZUluYWNjZXNzaWJsZShlbGVtZW50OiBSZWFjdFRlc3RJbnN0YW5jZSk6IGJvb2xlYW4ge1xuICAvLyBOdWxsIHByb3BzIGNhbiBoYXBwZW4gZm9yIFJlYWN0LkZyYWdtZW50c1xuICBpZiAoZWxlbWVudC5wcm9wcyA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gU2VlOiBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FjY2Vzc2liaWxpdHkjYXJpYS1oaWRkZW5cbiAgaWYgKGVsZW1lbnQucHJvcHNbJ2FyaWEtaGlkZGVuJ10pIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIGlPUzogYWNjZXNzaWJpbGl0eUVsZW1lbnRzSGlkZGVuXG4gIC8vIFNlZTogaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hY2Nlc3NpYmlsaXR5I2FjY2Vzc2liaWxpdHllbGVtZW50c2hpZGRlbi1pb3NcbiAgaWYgKGVsZW1lbnQucHJvcHMuYWNjZXNzaWJpbGl0eUVsZW1lbnRzSGlkZGVuKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBBbmRyb2lkOiBpbXBvcnRhbnRGb3JBY2Nlc3NpYmlsaXR5XG4gIC8vIFNlZTogaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hY2Nlc3NpYmlsaXR5I2ltcG9ydGFudGZvcmFjY2Vzc2liaWxpdHktYW5kcm9pZFxuICBpZiAoZWxlbWVudC5wcm9wcy5pbXBvcnRhbnRGb3JBY2Nlc3NpYmlsaXR5ID09PSAnbm8taGlkZS1kZXNjZW5kYW50cycpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIE5vdGUgdGhhdCBgb3BhY2l0eTogMGAgaXMgbm90IHRyZWF0ZWQgYXMgaW5hY2Nlc3NpYmxlIG9uIGlPU1xuICBjb25zdCBmbGF0U3R5bGUgPSBTdHlsZVNoZWV0LmZsYXR0ZW4oZWxlbWVudC5wcm9wcy5zdHlsZSkgPz8ge307XG4gIGlmIChmbGF0U3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKSByZXR1cm4gdHJ1ZTtcblxuICAvLyBpT1M6IGFjY2Vzc2liaWxpdHlWaWV3SXNNb2RhbCBvciBhcmlhLW1vZGFsXG4gIC8vIFNlZTogaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hY2Nlc3NpYmlsaXR5I2FjY2Vzc2liaWxpdHl2aWV3aXNtb2RhbC1pb3NcbiAgY29uc3QgaG9zdFNpYmxpbmdzID0gZ2V0SG9zdFNpYmxpbmdzKGVsZW1lbnQpO1xuICBpZiAoaG9zdFNpYmxpbmdzLnNvbWUoKHNpYmxpbmcpID0+IGNvbXB1dGVBcmlhTW9kYWwoc2libGluZykpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0FjY2Vzc2liaWxpdHlFbGVtZW50KGVsZW1lbnQ6IFJlYWN0VGVzdEluc3RhbmNlIHwgbnVsbCk6IGJvb2xlYW4ge1xuICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9ibG9iLzhkYWJlZDYwZjQ1NmU3NmE5ZTUzMjczYjYwMTQ0NmYzNGRlNDFmYjUvcGFja2FnZXMvcmVhY3QtbmF0aXZlL0xpYnJhcmllcy9JbWFnZS9JbWFnZS5pb3MuanMjTDE3MlxuICBpZiAoaXNIb3N0SW1hZ2UoZWxlbWVudCkgJiYgZWxlbWVudC5wcm9wcy5hbHQgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKGVsZW1lbnQucHJvcHMuYWNjZXNzaWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQucHJvcHMuYWNjZXNzaWJsZTtcbiAgfVxuXG4gIHJldHVybiBpc0hvc3RUZXh0KGVsZW1lbnQpIHx8IGlzSG9zdFRleHRJbnB1dChlbGVtZW50KSB8fCBpc0hvc3RTd2l0Y2goZWxlbWVudCk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgYWNjZXNzaWJpbGl0eSByb2xlIGZvciBnaXZlbiBlbGVtZW50LiBJdCB3aWxsIHJldHVybiBleHBsaWNpdFxuICogcm9sZSBmcm9tIGVpdGhlciBgcm9sZWAgb3IgYGFjY2Vzc2liaWxpdHlSb2xlYCBwcm9wcyBpZiBzZXQuXG4gKlxuICogSWYgZXhwbGljaXQgcm9sZSBpcyBub3QgYXZhaWxhYmxlLCBpdCB3b3VsZCB0cnkgdG8gcmV0dXJuIGRlZmF1bHQgZWxlbWVudFxuICogcm9sZTpcbiAqIC0gYHRleHRgIGZvciBgVGV4dGAgZWxlbWVudHNcbiAqXG4gKiBJbiBhbGwgb3RoZXIgY2FzZXMgdGhpcyBmdW5jdGlvbnMgcmV0dXJucyBgbm9uZWAuXG4gKlxuICogQHBhcmFtIGVsZW1lbnRcbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSb2xlKGVsZW1lbnQ6IFJlYWN0VGVzdEluc3RhbmNlKTogUm9sZSB8IEFjY2Vzc2liaWxpdHlSb2xlIHtcbiAgY29uc3QgZXhwbGljaXRSb2xlID0gZWxlbWVudC5wcm9wcy5yb2xlID8/IGVsZW1lbnQucHJvcHMuYWNjZXNzaWJpbGl0eVJvbGU7XG4gIGlmIChleHBsaWNpdFJvbGUpIHtcbiAgICByZXR1cm4gbm9ybWFsaXplUm9sZShleHBsaWNpdFJvbGUpO1xuICB9XG5cbiAgaWYgKGlzSG9zdFRleHQoZWxlbWVudCkpIHtcbiAgICByZXR1cm4gJ3RleHQnO1xuICB9XG5cbiAgLy8gTm90ZTogaG9zdCBJbWFnZSBlbGVtZW50cyByZXBvcnQgXCJpbWFnZVwiIHJvbGUgaW4gc2NyZWVuIHJlYWRlciBvbmx5IG9uIEFuZHJvaWQsIGJ1dCBub3Qgb24gaU9TLlxuICAvLyBJdCdzIGJldHRlciB0byByZXF1aXJlIGV4cGxpY2l0IHJvbGUgZm9yIEltYWdlIGVsZW1lbnRzLlxuXG4gIHJldHVybiAnbm9uZSc7XG59XG5cbi8qKlxuICogVGhlcmUgYXJlIHNvbWUgZHVwbGljYXRpb25zIGJldHdlZW4gKEFSSUEpIGBSb2xlYCBhbmQgYEFjY2Vzc2liaWxpdHlSb2xlYCB0eXBlcy5cbiAqIFJlc29sdmUgdGhlbSBieSB1c2luZyBBUklBIGBSb2xlYCB0eXBlIHdoZXJlIHBvc3NpYmxlLlxuICpcbiAqIEBwYXJhbSByb2xlIFJvbGUgdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJucyBOb3JtYWxpemVkIHJvbGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZVJvbGUocm9sZTogc3RyaW5nKTogUm9sZSB8IEFjY2Vzc2liaWxpdHlSb2xlIHtcbiAgaWYgKHJvbGUgPT09ICdpbWFnZScpIHtcbiAgICByZXR1cm4gJ2ltZyc7XG4gIH1cblxuICByZXR1cm4gcm9sZSBhcyBSb2xlIHwgQWNjZXNzaWJpbGl0eVJvbGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlQXJpYU1vZGFsKGVsZW1lbnQ6IFJlYWN0VGVzdEluc3RhbmNlKTogYm9vbGVhbiB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiBlbGVtZW50LnByb3BzWydhcmlhLW1vZGFsJ10gPz8gZWxlbWVudC5wcm9wcy5hY2Nlc3NpYmlsaXR5Vmlld0lzTW9kYWw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlQXJpYUxhYmVsKGVsZW1lbnQ6IFJlYWN0VGVzdEluc3RhbmNlKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgY29uc3QgbGFiZWxFbGVtZW50SWQgPSBlbGVtZW50LnByb3BzWydhcmlhLWxhYmVsbGVkYnknXSA/PyBlbGVtZW50LnByb3BzLmFjY2Vzc2liaWxpdHlMYWJlbGxlZEJ5O1xuICBpZiAobGFiZWxFbGVtZW50SWQpIHtcbiAgICBjb25zdCByb290RWxlbWVudCA9IGdldFVuc2FmZVJvb3RFbGVtZW50KGVsZW1lbnQpO1xuICAgIGNvbnN0IGxhYmVsRWxlbWVudCA9IGZpbmRBbGwoXG4gICAgICByb290RWxlbWVudCxcbiAgICAgIChub2RlKSA9PiBpc0hvc3RFbGVtZW50KG5vZGUpICYmIG5vZGUucHJvcHMubmF0aXZlSUQgPT09IGxhYmVsRWxlbWVudElkLFxuICAgICAgeyBpbmNsdWRlSGlkZGVuRWxlbWVudHM6IHRydWUgfSxcbiAgICApO1xuICAgIGlmIChsYWJlbEVsZW1lbnQubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIGdldFRleHRDb250ZW50KGxhYmVsRWxlbWVudFswXSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZXhwbGljaXRMYWJlbCA9IGVsZW1lbnQucHJvcHNbJ2FyaWEtbGFiZWwnXSA/PyBlbGVtZW50LnByb3BzLmFjY2Vzc2liaWxpdHlMYWJlbDtcbiAgaWYgKGV4cGxpY2l0TGFiZWwpIHtcbiAgICByZXR1cm4gZXhwbGljaXRMYWJlbDtcbiAgfVxuXG4gIC8vaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9ibG9iLzhkYWJlZDYwZjQ1NmU3NmE5ZTUzMjczYjYwMTQ0NmYzNGRlNDFmYjUvcGFja2FnZXMvcmVhY3QtbmF0aXZlL0xpYnJhcmllcy9JbWFnZS9JbWFnZS5pb3MuanMjTDE3M1xuICBpZiAoaXNIb3N0SW1hZ2UoZWxlbWVudCkgJiYgZWxlbWVudC5wcm9wcy5hbHQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5wcm9wcy5hbHQ7XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9jYWxsc3RhY2svcmVhY3QtbmF0aXZlLXRlc3RpbmctbGlicmFyeS93aWtpL0FjY2Vzc2liaWxpdHk6LVN0YXRlI2J1c3ktc3RhdGVcbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlQXJpYUJ1c3koeyBwcm9wcyB9OiBSZWFjdFRlc3RJbnN0YW5jZSk6IGJvb2xlYW4ge1xuICByZXR1cm4gcHJvcHNbJ2FyaWEtYnVzeSddID8/IHByb3BzLmFjY2Vzc2liaWxpdHlTdGF0ZT8uYnVzeSA/PyBmYWxzZTtcbn1cblxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vY2FsbHN0YWNrL3JlYWN0LW5hdGl2ZS10ZXN0aW5nLWxpYnJhcnkvd2lraS9BY2Nlc3NpYmlsaXR5Oi1TdGF0ZSNjaGVja2VkLXN0YXRlXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUFyaWFDaGVja2VkKGVsZW1lbnQ6IFJlYWN0VGVzdEluc3RhbmNlKTogQWNjZXNzaWJpbGl0eVN0YXRlWydjaGVja2VkJ10ge1xuICBjb25zdCB7IHByb3BzIH0gPSBlbGVtZW50O1xuXG4gIGlmIChpc0hvc3RTd2l0Y2goZWxlbWVudCkpIHtcbiAgICByZXR1cm4gcHJvcHMudmFsdWU7XG4gIH1cblxuICBjb25zdCByb2xlID0gZ2V0Um9sZShlbGVtZW50KTtcbiAgaWYgKCFyb2xlc1N1cHBvcnRpbmdDaGVja2VkU3RhdGVbcm9sZV0pIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIHByb3BzWydhcmlhLWNoZWNrZWQnXSA/PyBwcm9wcy5hY2Nlc3NpYmlsaXR5U3RhdGU/LmNoZWNrZWQ7XG59XG5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2NhbGxzdGFjay9yZWFjdC1uYXRpdmUtdGVzdGluZy1saWJyYXJ5L3dpa2kvQWNjZXNzaWJpbGl0eTotU3RhdGUjZGlzYWJsZWQtc3RhdGVcbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlQXJpYURpc2FibGVkKGVsZW1lbnQ6IFJlYWN0VGVzdEluc3RhbmNlKTogYm9vbGVhbiB7XG4gIGlmIChpc0hvc3RUZXh0SW5wdXQoZWxlbWVudCkgJiYgIWlzRWRpdGFibGVUZXh0SW5wdXQoZWxlbWVudCkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGNvbnN0IHsgcHJvcHMgfSA9IGVsZW1lbnQ7XG5cbiAgaWYgKGlzSG9zdFRleHQoZWxlbWVudCkgJiYgcHJvcHMuZGlzYWJsZWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBwcm9wc1snYXJpYS1kaXNhYmxlZCddID8/IHByb3BzLmFjY2Vzc2liaWxpdHlTdGF0ZT8uZGlzYWJsZWQgPz8gZmFsc2U7XG59XG5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2NhbGxzdGFjay9yZWFjdC1uYXRpdmUtdGVzdGluZy1saWJyYXJ5L3dpa2kvQWNjZXNzaWJpbGl0eTotU3RhdGUjZXhwYW5kZWQtc3RhdGVcbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlQXJpYUV4cGFuZGVkKHsgcHJvcHMgfTogUmVhY3RUZXN0SW5zdGFuY2UpOiBib29sZWFuIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIHByb3BzWydhcmlhLWV4cGFuZGVkJ10gPz8gcHJvcHMuYWNjZXNzaWJpbGl0eVN0YXRlPy5leHBhbmRlZDtcbn1cblxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vY2FsbHN0YWNrL3JlYWN0LW5hdGl2ZS10ZXN0aW5nLWxpYnJhcnkvd2lraS9BY2Nlc3NpYmlsaXR5Oi1TdGF0ZSNzZWxlY3RlZC1zdGF0ZVxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVBcmlhU2VsZWN0ZWQoeyBwcm9wcyB9OiBSZWFjdFRlc3RJbnN0YW5jZSk6IGJvb2xlYW4ge1xuICByZXR1cm4gcHJvcHNbJ2FyaWEtc2VsZWN0ZWQnXSA/PyBwcm9wcy5hY2Nlc3NpYmlsaXR5U3RhdGU/LnNlbGVjdGVkID8/IGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUFyaWFWYWx1ZShlbGVtZW50OiBSZWFjdFRlc3RJbnN0YW5jZSk6IEFjY2Vzc2liaWxpdHlWYWx1ZSB7XG4gIGNvbnN0IHtcbiAgICBhY2Nlc3NpYmlsaXR5VmFsdWUsXG4gICAgJ2FyaWEtdmFsdWVtYXgnOiBhcmlhVmFsdWVNYXgsXG4gICAgJ2FyaWEtdmFsdWVtaW4nOiBhcmlhVmFsdWVNaW4sXG4gICAgJ2FyaWEtdmFsdWVub3cnOiBhcmlhVmFsdWVOb3csXG4gICAgJ2FyaWEtdmFsdWV0ZXh0JzogYXJpYVZhbHVlVGV4dCxcbiAgfSA9IGVsZW1lbnQucHJvcHM7XG5cbiAgcmV0dXJuIHtcbiAgICBtYXg6IGFyaWFWYWx1ZU1heCA/PyBhY2Nlc3NpYmlsaXR5VmFsdWU/Lm1heCxcbiAgICBtaW46IGFyaWFWYWx1ZU1pbiA/PyBhY2Nlc3NpYmlsaXR5VmFsdWU/Lm1pbixcbiAgICBub3c6IGFyaWFWYWx1ZU5vdyA/PyBhY2Nlc3NpYmlsaXR5VmFsdWU/Lm5vdyxcbiAgICB0ZXh0OiBhcmlhVmFsdWVUZXh0ID8/IGFjY2Vzc2liaWxpdHlWYWx1ZT8udGV4dCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVBY2Nlc3NpYmxlTmFtZShlbGVtZW50OiBSZWFjdFRlc3RJbnN0YW5jZSk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiBjb21wdXRlQXJpYUxhYmVsKGVsZW1lbnQpID8/IGdldFRleHRDb250ZW50KGVsZW1lbnQpO1xufVxuXG50eXBlIFJvbGVTdXBwb3J0TWFwID0gUGFydGlhbDxSZWNvcmQ8Um9sZSB8IEFjY2Vzc2liaWxpdHlSb2xlLCB0cnVlPj47XG5cbmV4cG9ydCBjb25zdCByb2xlc1N1cHBvcnRpbmdDaGVja2VkU3RhdGU6IFJvbGVTdXBwb3J0TWFwID0ge1xuICBjaGVja2JveDogdHJ1ZSxcbiAgcmFkaW86IHRydWUsXG4gIHN3aXRjaDogdHJ1ZSxcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLElBQUFBLFlBQUEsR0FBQUMsT0FBQTtBQUdBLElBQUFDLGNBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLFFBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLG1CQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxZQUFBLEdBQUFKLE9BQUE7QUFDQSxJQUFBSyxVQUFBLEdBQUFMLE9BQUE7QUFNTyxJQUFNTSxzQkFBb0QsR0FBQUMsT0FBQSxDQUFBRCxzQkFBQSxHQUFHLENBQ2xFLFVBQVUsRUFDVixVQUFVLEVBQ1YsU0FBUyxFQUNULE1BQU0sRUFDTixVQUFVLENBQ1g7QUFFTSxJQUFNRSxzQkFBb0QsR0FBQUQsT0FBQSxDQUFBQyxzQkFBQSxHQUFHLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDO0FBRTFGLFNBQVNDLHlCQUF5QkEsQ0FDdkNDLE9BQWlDLEVBRXhCO0VBQUEsSUFBQUMsSUFBQSxHQUFBQyxT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