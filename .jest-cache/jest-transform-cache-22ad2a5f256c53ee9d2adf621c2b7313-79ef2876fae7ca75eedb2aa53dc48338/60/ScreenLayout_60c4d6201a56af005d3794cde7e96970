4d2270e0e4c44ebd6a9ae72847576a6b
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ScreenHeader = ScreenHeader;
exports.default = void 0;
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("react-native");
var _reactNativeSafeAreaContext = require("react-native-safe-area-context");
var _expoStatusBar = require("expo-status-bar");
var _Colors = require("../../constants/Colors");
var _OfflineBanner = _interopRequireDefault(require("../ui/OfflineBanner"));
var _SafeModeBanner = _interopRequireDefault(require("../ui/SafeModeBanner"));
var _jsxRuntime = require("react/jsx-runtime");
function ScreenLayout(_ref) {
  var children = _ref.children,
    _ref$scrollable = _ref.scrollable,
    scrollable = _ref$scrollable === void 0 ? true : _ref$scrollable,
    _ref$showStatusBar = _ref.showStatusBar,
    showStatusBar = _ref$showStatusBar === void 0 ? true : _ref$showStatusBar,
    _ref$statusBarStyle = _ref.statusBarStyle,
    statusBarStyle = _ref$statusBarStyle === void 0 ? 'dark' : _ref$statusBarStyle,
    _ref$backgroundColor = _ref.backgroundColor,
    backgroundColor = _ref$backgroundColor === void 0 ? '#F9FAFB' : _ref$backgroundColor,
    _ref$edges = _ref.edges,
    edges = _ref$edges === void 0 ? ['top', 'bottom', 'left', 'right'] : _ref$edges;
  var containerStyle = [styles.container, {
    backgroundColor: backgroundColor
  }];
  var _wrapTextNodesDeep = function wrapTextNodesDeep(node) {
    var keyPrefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'k';
    if (node === null || node === undefined || typeof node === 'boolean') return null;
    if (typeof node === 'string' || typeof node === 'number') {
      return (0, _jsxRuntime.jsx)(_reactNative.Text, {
        children: node
      }, `${keyPrefix}_txt`);
    }
    if (Array.isArray(node)) {
      return node.map(function (child, idx) {
        var wrappedChild = _wrapTextNodesDeep(child, `${keyPrefix}_${idx}`);
        if (_react.default.isValidElement(wrappedChild)) {
          if (wrappedChild.key == null) {
            return _react.default.cloneElement(wrappedChild, {
              key: `${keyPrefix}_${idx}`
            });
          }
        }
        return wrappedChild;
      });
    }
    if (_react.default.isValidElement(node)) {
      var _props;
      var origChildren = (_props = node.props) == null ? void 0 : _props.children;
      if (origChildren === undefined) return node;
      var wrapped = _wrapTextNodesDeep(origChildren, `${keyPrefix}_c`);
      var childrenWithKeys = Array.isArray(wrapped) ? wrapped.map(function (ch, idx) {
        if (_react.default.isValidElement(ch)) {
          if (ch.key == null) {
            return _react.default.cloneElement(ch, {
              key: `${keyPrefix}_c_${idx}`
            });
          }
        }
        return ch;
      }) : wrapped;
      return _react.default.cloneElement(node, undefined, childrenWithKeys);
    }
    return node;
  };
  var childArray = _react.default.Children.toArray(children);
  var hasVirtualizedList = childArray.some(function (node) {
    var _node$type, _node$type2;
    var typeName = (node == null || (_node$type = node.type) == null ? void 0 : _node$type.displayName) || (node == null || (_node$type2 = node.type) == null ? void 0 : _node$type2.name) || '';
    return ['FlatList', 'SectionList', 'VirtualizedList'].includes(typeName);
  });
  var normalizedChildren = childArray.map(function (node, idx) {
    return _wrapTextNodesDeep(node, `root_${idx}`);
  });
  return (0, _jsxRuntime.jsxs)(_reactNativeSafeAreaContext.SafeAreaView, {
    style: containerStyle,
    edges: edges,
    children: [(0, _jsxRuntime.jsx)(_SafeModeBanner.default, {}), (0, _jsxRuntime.jsx)(_OfflineBanner.default, {}), showStatusBar && (0, _jsxRuntime.jsx)(_expoStatusBar.StatusBar, {
      style: statusBarStyle,
      backgroundColor: backgroundColor,
      translucent: false
    }), scrollable && !hasVirtualizedList ? (0, _jsxRuntime.jsx)(_reactNative.ScrollView, {
      style: styles.scrollView,
      contentContainerStyle: styles.scrollContent,
      showsVerticalScrollIndicator: false,
      keyboardShouldPersistTaps: "handled",
      children: normalizedChildren
    }) : (0, _jsxRuntime.jsx)(_reactNative.View, {
      style: styles.content,
      children: normalizedChildren
    })]
  });
}
var styles = _reactNative.StyleSheet.create({
  container: {
    flex: 1
  },
  scrollView: {
    flex: 1
  },
  scrollContent: {
    flexGrow: 1,
    paddingHorizontal: 16,
    paddingVertical: 8
  },
  content: {
    flex: 1,
    paddingHorizontal: 16,
    paddingVertical: 8
  }
});
function ScreenHeader(_ref2) {
  var title = _ref2.title,
    subtitle = _ref2.subtitle,
    rightComponent = _ref2.rightComponent;
  var colorScheme = (0, _reactNative.useColorScheme)();
  var colors = _Colors.Colors[colorScheme != null ? colorScheme : 'light'];
  return (0, _jsxRuntime.jsxs)(_reactNative.View, {
    style: [headerStyles.container, {
      borderBottomColor: colors.icon
    }],
    children: [(0, _jsxRuntime.jsxs)(_reactNative.View, {
      style: headerStyles.titleContainer,
      children: [(0, _jsxRuntime.jsx)(_reactNative.Text, {
        style: [headerStyles.title, {
          color: colors.text
        }],
        children: title
      }), subtitle && (0, _jsxRuntime.jsx)(_reactNative.Text, {
        style: [headerStyles.subtitle, {
          color: colors.tabIconDefault
        }],
        children: subtitle
      })]
    }), rightComponent && (0, _jsxRuntime.jsx)(_reactNative.View, {
      style: headerStyles.rightContainer,
      children: rightComponent
    })]
  });
}
var headerStyles = _reactNative.StyleSheet.create({
  container: {
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'space-between',
    paddingHorizontal: 16,
    paddingVertical: 12,
    borderBottomWidth: 1
  },
  titleContainer: {
    flex: 1
  },
  title: {
    fontSize: 24,
    fontWeight: '700',
    fontFamily: _reactNative.Platform.select({
      ios: 'System',
      android: 'Roboto'
    })
  },
  subtitle: {
    fontSize: 14,
    marginTop: 2
  },
  rightContainer: {
    marginLeft: 16
  }
});
var _default = exports.default = ScreenLayout;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdE5hdGl2ZSIsIl9yZWFjdE5hdGl2ZVNhZmVBcmVhQ29udGV4dCIsIl9leHBvU3RhdHVzQmFyIiwiX0NvbG9ycyIsIl9PZmZsaW5lQmFubmVyIiwiX1NhZmVNb2RlQmFubmVyIiwiX2pzeFJ1bnRpbWUiLCJTY3JlZW5MYXlvdXQiLCJfcmVmIiwiY2hpbGRyZW4iLCJfcmVmJHNjcm9sbGFibGUiLCJzY3JvbGxhYmxlIiwiX3JlZiRzaG93U3RhdHVzQmFyIiwic2hvd1N0YXR1c0JhciIsIl9yZWYkc3RhdHVzQmFyU3R5bGUiLCJzdGF0dXNCYXJTdHlsZSIsIl9yZWYkYmFja2dyb3VuZENvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwiX3JlZiRlZGdlcyIsImVkZ2VzIiwiY29udGFpbmVyU3R5bGUiLCJzdHlsZXMiLCJjb250YWluZXIiLCJ3cmFwVGV4dE5vZGVzRGVlcCIsIm5vZGUiLCJrZXlQcmVmaXgiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJqc3giLCJUZXh0IiwiQXJyYXkiLCJpc0FycmF5IiwibWFwIiwiY2hpbGQiLCJpZHgiLCJ3cmFwcGVkQ2hpbGQiLCJSZWFjdCIsImlzVmFsaWRFbGVtZW50Iiwia2V5IiwiY2xvbmVFbGVtZW50IiwiX3Byb3BzIiwib3JpZ0NoaWxkcmVuIiwicHJvcHMiLCJ3cmFwcGVkIiwiY2hpbGRyZW5XaXRoS2V5cyIsImNoIiwiY2hpbGRBcnJheSIsIkNoaWxkcmVuIiwidG9BcnJheSIsImhhc1ZpcnR1YWxpemVkTGlzdCIsInNvbWUiLCJfbm9kZSR0eXBlIiwiX25vZGUkdHlwZTIiLCJ0eXBlTmFtZSIsInR5cGUiLCJkaXNwbGF5TmFtZSIsIm5hbWUiLCJpbmNsdWRlcyIsIm5vcm1hbGl6ZWRDaGlsZHJlbiIsImpzeHMiLCJTYWZlQXJlYVZpZXciLCJzdHlsZSIsImRlZmF1bHQiLCJTdGF0dXNCYXIiLCJ0cmFuc2x1Y2VudCIsIlNjcm9sbFZpZXciLCJzY3JvbGxWaWV3IiwiY29udGVudENvbnRhaW5lclN0eWxlIiwic2Nyb2xsQ29udGVudCIsInNob3dzVmVydGljYWxTY3JvbGxJbmRpY2F0b3IiLCJrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzIiwiVmlldyIsImNvbnRlbnQiLCJTdHlsZVNoZWV0IiwiY3JlYXRlIiwiZmxleCIsImZsZXhHcm93IiwicGFkZGluZ0hvcml6b250YWwiLCJwYWRkaW5nVmVydGljYWwiLCJTY3JlZW5IZWFkZXIiLCJfcmVmMiIsInRpdGxlIiwic3VidGl0bGUiLCJyaWdodENvbXBvbmVudCIsImNvbG9yU2NoZW1lIiwidXNlQ29sb3JTY2hlbWUiLCJjb2xvcnMiLCJDb2xvcnMiLCJoZWFkZXJTdHlsZXMiLCJib3JkZXJCb3R0b21Db2xvciIsImljb24iLCJ0aXRsZUNvbnRhaW5lciIsImNvbG9yIiwidGV4dCIsInRhYkljb25EZWZhdWx0IiwicmlnaHRDb250YWluZXIiLCJmbGV4RGlyZWN0aW9uIiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50IiwiYm9yZGVyQm90dG9tV2lkdGgiLCJmb250U2l6ZSIsImZvbnRXZWlnaHQiLCJmb250RmFtaWx5IiwiUGxhdGZvcm0iLCJzZWxlY3QiLCJpb3MiLCJhbmRyb2lkIiwibWFyZ2luVG9wIiwibWFyZ2luTGVmdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIlNjcmVlbkxheW91dC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFZpZXcsIFNjcm9sbFZpZXcsIFN0eWxlU2hlZXQsIFBsYXRmb3JtLCBUZXh0LCB1c2VDb2xvclNjaGVtZSB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgeyBTYWZlQXJlYVZpZXcgfSBmcm9tICdyZWFjdC1uYXRpdmUtc2FmZS1hcmVhLWNvbnRleHQnO1xuaW1wb3J0IHsgU3RhdHVzQmFyIH0gZnJvbSAnZXhwby1zdGF0dXMtYmFyJztcbmltcG9ydCB7IENvbG9ycyB9IGZyb20gJ0AvY29uc3RhbnRzL0NvbG9ycyc7XG5pbXBvcnQgT2ZmbGluZUJhbm5lciBmcm9tICdAL2NvbXBvbmVudHMvdWkvT2ZmbGluZUJhbm5lcic7XG5pbXBvcnQgU2FmZU1vZGVCYW5uZXIgZnJvbSAnQC9jb21wb25lbnRzL3VpL1NhZmVNb2RlQmFubmVyJztcblxuaW50ZXJmYWNlIFNjcmVlbkxheW91dFByb3BzIHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbiAgc2Nyb2xsYWJsZT86IGJvb2xlYW47XG4gIHNob3dTdGF0dXNCYXI/OiBib29sZWFuO1xuICBzdGF0dXNCYXJTdHlsZT86ICdhdXRvJyB8ICdpbnZlcnRlZCcgfCAnbGlnaHQnIHwgJ2RhcmsnO1xuICBiYWNrZ3JvdW5kQ29sb3I/OiBzdHJpbmc7XG4gIGVkZ2VzPzogKCd0b3AnIHwgJ2JvdHRvbScgfCAnbGVmdCcgfCAncmlnaHQnKVtdO1xufVxuXG5mdW5jdGlvbiBTY3JlZW5MYXlvdXQoeyBcbiAgY2hpbGRyZW4sIFxuICBzY3JvbGxhYmxlID0gdHJ1ZSwgXG4gIHNob3dTdGF0dXNCYXIgPSB0cnVlLFxuICBzdGF0dXNCYXJTdHlsZSA9ICdkYXJrJyxcbiAgYmFja2dyb3VuZENvbG9yID0gJyNGOUZBRkInLFxuICBlZGdlcyA9IFsndG9wJywgJ2JvdHRvbScsICdsZWZ0JywgJ3JpZ2h0J11cbn06IFNjcmVlbkxheW91dFByb3BzKSB7XG4gIGNvbnN0IGNvbnRhaW5lclN0eWxlID0gW1xuICAgIHN0eWxlcy5jb250YWluZXIsXG4gICAgeyBiYWNrZ3JvdW5kQ29sb3IgfVxuICBdO1xuXG4gIC8vIFJOIGt1cmFsxLE6IETDvHogc3RyaW5nL251bWJlciBjaGlsZHJlbiBiaXIgPFRleHQ+IGnDp2luZGUgb2xtYWzEsS5cbiAgLy8gVMO8bSDDp29jdWsgYcSfYWPEsW7EsSBkb2xhxZ/EsXAgc3RyaW5nL251bWJlciBkw7zEn8O8bWxlcmkgZ8O8dmVubGkgxZ9la2lsZGUgPFRleHQ+IGnDp2luZSBzYXJhbMSxbS5cbiAgY29uc3Qgd3JhcFRleHROb2Rlc0RlZXAgPSAobm9kZTogYW55LCBrZXlQcmVmaXggPSAnaycpOiBhbnkgPT4ge1xuICAgIGlmIChub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2Ygbm9kZSA9PT0gJ2Jvb2xlYW4nKSByZXR1cm4gbnVsbDtcbiAgICBpZiAodHlwZW9mIG5vZGUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBub2RlID09PSAnbnVtYmVyJykge1xuICAgICAgcmV0dXJuIDxUZXh0IGtleT17YCR7a2V5UHJlZml4fV90eHRgfT57bm9kZX08L1RleHQ+O1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShub2RlKSkge1xuICAgICAgcmV0dXJuIG5vZGUubWFwKChjaGlsZCwgaWR4KSA9PiB7XG4gICAgICAgIGNvbnN0IHdyYXBwZWRDaGlsZCA9IHdyYXBUZXh0Tm9kZXNEZWVwKGNoaWxkLCBgJHtrZXlQcmVmaXh9XyR7aWR4fWApO1xuICAgICAgICBpZiAoUmVhY3QuaXNWYWxpZEVsZW1lbnQod3JhcHBlZENoaWxkKSkge1xuICAgICAgICAgIC8vIEVuc3VyZSBrZXkgZXhpc3RzIGZvciBhcnJheSBjaGlsZHJlblxuICAgICAgICAgIC8vIElmIGtleSBpcyBtaXNzaW5nIG9yIG51bGwsIGNsb25lIHdpdGggYSBzdGFibGUga2V5XG4gICAgICAgICAgLy8gQHRzLWlnbm9yZSAtIGtleSBpcyByZWFkb25seSBpbiB0eXBlcyBidXQgUmVhY3QgYWNjZXB0cyBvdmVycmlkaW5nIHZpYSBjbG9uZUVsZW1lbnRcbiAgICAgICAgICBpZiAod3JhcHBlZENoaWxkLmtleSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KHdyYXBwZWRDaGlsZCBhcyBhbnksIHsga2V5OiBgJHtrZXlQcmVmaXh9XyR7aWR4fWAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cmFwcGVkQ2hpbGQ7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKFJlYWN0LmlzVmFsaWRFbGVtZW50KG5vZGUpKSB7XG4gICAgICBjb25zdCBvcmlnQ2hpbGRyZW4gPSAobm9kZSBhcyBhbnkpLnByb3BzPy5jaGlsZHJlbjtcbiAgICAgIGlmIChvcmlnQ2hpbGRyZW4gPT09IHVuZGVmaW5lZCkgcmV0dXJuIG5vZGU7XG4gICAgICBjb25zdCB3cmFwcGVkID0gd3JhcFRleHROb2Rlc0RlZXAob3JpZ0NoaWxkcmVuLCBgJHtrZXlQcmVmaXh9X2NgKTtcbiAgICAgIC8vIElmIHdyYXBwZWQgaXMgYW4gYXJyYXksIGVuc3VyZSBlYWNoIGNoaWxkIGhhcyBhIGtleVxuICAgICAgY29uc3QgY2hpbGRyZW5XaXRoS2V5cyA9IEFycmF5LmlzQXJyYXkod3JhcHBlZClcbiAgICAgICAgPyB3cmFwcGVkLm1hcCgoY2gsIGlkeCkgPT4ge1xuICAgICAgICAgICAgaWYgKFJlYWN0LmlzVmFsaWRFbGVtZW50KGNoKSkge1xuICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgIGlmIChjaC5rZXkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoY2ggYXMgYW55LCB7IGtleTogYCR7a2V5UHJlZml4fV9jXyR7aWR4fWAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjaDtcbiAgICAgICAgICB9KVxuICAgICAgICA6IHdyYXBwZWQ7XG4gICAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KG5vZGUgYXMgYW55LCB1bmRlZmluZWQsIGNoaWxkcmVuV2l0aEtleXMpO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcblxuICBjb25zdCBjaGlsZEFycmF5ID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbik7XG4gIGNvbnN0IGhhc1ZpcnR1YWxpemVkTGlzdCA9IGNoaWxkQXJyYXkuc29tZSgobm9kZTogYW55KSA9PiB7XG4gICAgY29uc3QgdHlwZU5hbWUgPSBub2RlPy50eXBlPy5kaXNwbGF5TmFtZSB8fCBub2RlPy50eXBlPy5uYW1lIHx8ICcnO1xuICAgIHJldHVybiBbJ0ZsYXRMaXN0JywgJ1NlY3Rpb25MaXN0JywgJ1ZpcnR1YWxpemVkTGlzdCddLmluY2x1ZGVzKHR5cGVOYW1lKTtcbiAgfSk7XG5cbiAgY29uc3Qgbm9ybWFsaXplZENoaWxkcmVuID0gY2hpbGRBcnJheS5tYXAoKG5vZGUsIGlkeCkgPT4gd3JhcFRleHROb2Rlc0RlZXAobm9kZSwgYHJvb3RfJHtpZHh9YCkpO1xuXG4gIHJldHVybiAoXG4gICAgPFNhZmVBcmVhVmlldyBzdHlsZT17Y29udGFpbmVyU3R5bGV9IGVkZ2VzPXtlZGdlc30+XG4gICAgICA8U2FmZU1vZGVCYW5uZXIgLz5cbiAgICAgIDxPZmZsaW5lQmFubmVyIC8+XG4gICAgICB7c2hvd1N0YXR1c0JhciAmJiAoXG4gICAgICAgIDxTdGF0dXNCYXIgXG4gICAgICAgICAgc3R5bGU9e3N0YXR1c0JhclN0eWxlfSBcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I9e2JhY2tncm91bmRDb2xvcn1cbiAgICAgICAgICB0cmFuc2x1Y2VudD17ZmFsc2V9XG4gICAgICAgIC8+XG4gICAgICApfVxuXG4gICAgICB7c2Nyb2xsYWJsZSAmJiAhaGFzVmlydHVhbGl6ZWRMaXN0ID8gKFxuICAgICAgICA8U2Nyb2xsVmlld1xuICAgICAgICAgIHN0eWxlPXtzdHlsZXMuc2Nyb2xsVmlld31cbiAgICAgICAgICBjb250ZW50Q29udGFpbmVyU3R5bGU9e3N0eWxlcy5zY3JvbGxDb250ZW50fVxuICAgICAgICAgIHNob3dzVmVydGljYWxTY3JvbGxJbmRpY2F0b3I9e2ZhbHNlfVxuICAgICAgICAgIGtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHM9XCJoYW5kbGVkXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtub3JtYWxpemVkQ2hpbGRyZW59XG4gICAgICAgIDwvU2Nyb2xsVmlldz5cbiAgICAgICkgOiAoXG4gICAgICAgIDxWaWV3IHN0eWxlPXtzdHlsZXMuY29udGVudH0+XG4gICAgICAgICAge25vcm1hbGl6ZWRDaGlsZHJlbn1cbiAgICAgICAgPC9WaWV3PlxuICAgICAgKX1cbiAgICA8L1NhZmVBcmVhVmlldz5cbiAgKTtcbn1cblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICBjb250YWluZXI6IHtcbiAgICBmbGV4OiAxLFxuICB9LFxuICBzY3JvbGxWaWV3OiB7XG4gICAgZmxleDogMSxcbiAgfSxcbiAgc2Nyb2xsQ29udGVudDoge1xuICAgIGZsZXhHcm93OiAxLFxuICAgIHBhZGRpbmdIb3Jpem9udGFsOiAxNixcbiAgICBwYWRkaW5nVmVydGljYWw6IDgsXG4gIH0sXG4gIGNvbnRlbnQ6IHtcbiAgICBmbGV4OiAxLFxuICAgIHBhZGRpbmdIb3Jpem9udGFsOiAxNixcbiAgICBwYWRkaW5nVmVydGljYWw6IDgsXG4gIH0sXG59KTtcblxuLy8gSGVhZGVyIGNvbXBvbmVudCBmb3Igc2NyZWVuc1xuZXhwb3J0IGZ1bmN0aW9uIFNjcmVlbkhlYWRlcih7XG4gIHRpdGxlLFxuICBzdWJ0aXRsZSxcbiAgcmlnaHRDb21wb25lbnQsXG59OiB7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHN1YnRpdGxlPzogc3RyaW5nO1xuICByaWdodENvbXBvbmVudD86IFJlYWN0LlJlYWN0Tm9kZTtcbn0pIHtcbiAgY29uc3QgY29sb3JTY2hlbWUgPSB1c2VDb2xvclNjaGVtZSgpO1xuICBjb25zdCBjb2xvcnMgPSBDb2xvcnNbY29sb3JTY2hlbWUgPz8gJ2xpZ2h0J107XG5cbiAgcmV0dXJuIChcbiAgICA8VmlldyBzdHlsZT17W2hlYWRlclN0eWxlcy5jb250YWluZXIsIHsgYm9yZGVyQm90dG9tQ29sb3I6IGNvbG9ycy5pY29uIH1dfT5cbiAgICAgIDxWaWV3IHN0eWxlPXtoZWFkZXJTdHlsZXMudGl0bGVDb250YWluZXJ9PlxuICAgICAgICA8VGV4dCBzdHlsZT17W2hlYWRlclN0eWxlcy50aXRsZSwgeyBjb2xvcjogY29sb3JzLnRleHQgfV19PlxuICAgICAgICAgIHt0aXRsZX1cbiAgICAgICAgPC9UZXh0PlxuICAgICAgICB7c3VidGl0bGUgJiYgKFxuICAgICAgICAgIDxUZXh0IHN0eWxlPXtbaGVhZGVyU3R5bGVzLnN1YnRpdGxlLCB7IGNvbG9yOiBjb2xvcnMudGFiSWNvbkRlZmF1bHQgfV19PlxuICAgICAgICAgICAge3N1YnRpdGxlfVxuICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgKX1cbiAgICAgIDwvVmlldz5cbiAgICAgIHtyaWdodENvbXBvbmVudCAmJiAoXG4gICAgICAgIDxWaWV3IHN0eWxlPXtoZWFkZXJTdHlsZXMucmlnaHRDb250YWluZXJ9PlxuICAgICAgICAgIHtyaWdodENvbXBvbmVudH1cbiAgICAgICAgPC9WaWV3PlxuICAgICAgKX1cbiAgICA8L1ZpZXc+XG4gICk7XG59XG5cbmNvbnN0IGhlYWRlclN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgY29udGFpbmVyOiB7XG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICBwYWRkaW5nSG9yaXpvbnRhbDogMTYsXG4gICAgcGFkZGluZ1ZlcnRpY2FsOiAxMixcbiAgICBib3JkZXJCb3R0b21XaWR0aDogMSxcbiAgfSxcbiAgdGl0bGVDb250YWluZXI6IHtcbiAgICBmbGV4OiAxLFxuICB9LFxuICB0aXRsZToge1xuICAgIGZvbnRTaXplOiAyNCxcbiAgICBmb250V2VpZ2h0OiAnNzAwJyxcbiAgICBmb250RmFtaWx5OiBQbGF0Zm9ybS5zZWxlY3Qoe1xuICAgICAgaW9zOiAnU3lzdGVtJyxcbiAgICAgIGFuZHJvaWQ6ICdSb2JvdG8nLFxuICAgIH0pLFxuICB9LFxuICBzdWJ0aXRsZToge1xuICAgIGZvbnRTaXplOiAxNCxcbiAgICBtYXJnaW5Ub3A6IDIsXG4gIH0sXG4gIHJpZ2h0Q29udGFpbmVyOiB7XG4gICAgbWFyZ2luTGVmdDogMTYsXG4gIH0sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgU2NyZWVuTGF5b3V0OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsWUFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsMkJBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLGNBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLE9BQUEsR0FBQUosT0FBQTtBQUNBLElBQUFLLGNBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLGVBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUE0RCxJQUFBTyxXQUFBLEdBQUFQLE9BQUE7QUFXNUQsU0FBU1EsWUFBWUEsQ0FBQUMsSUFBQSxFQU9DO0VBQUEsSUFOcEJDLFFBQVEsR0FBQUQsSUFBQSxDQUFSQyxRQUFRO0lBQUFDLGVBQUEsR0FBQUYsSUFBQSxDQUNSRyxVQUFVO0lBQVZBLFVBQVUsR0FBQUQsZUFBQSxjQUFHLElBQUksR0FBQUEsZUFBQTtJQUFBRSxrQkFBQSxHQUFBSixJQUFBLENBQ2pCSyxhQUFhO0lBQWJBLGFBQWEsR0FBQUQsa0JBQUEsY0FBRyxJQUFJLEdBQUFBLGtCQUFBO0lBQUFFLG1CQUFBLEdBQUFOLElBQUEsQ0FDcEJPLGNBQWM7SUFBZEEsY0FBYyxHQUFBRCxtQkFBQSxjQUFHLE1BQU0sR0FBQUEsbUJBQUE7SUFBQUUsb0JBQUEsR0FBQVIsSUFBQSxDQUN2QlMsZUFBZTtJQUFmQSxlQUFlLEdBQUFELG9CQUFBLGNBQUcsU0FBUyxHQUFBQSxvQkFBQTtJQUFBRSxVQUFBLEdBQUFWLElBQUEsQ0FDM0JXLEtBQUs7SUFBTEEsS0FBSyxHQUFBRCxVQUFBLGNBQUcsQ0FBQyxLQUFLLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxPQUFPLENBQUMsR0FBQUEsVUFBQTtFQUUxQyxJ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