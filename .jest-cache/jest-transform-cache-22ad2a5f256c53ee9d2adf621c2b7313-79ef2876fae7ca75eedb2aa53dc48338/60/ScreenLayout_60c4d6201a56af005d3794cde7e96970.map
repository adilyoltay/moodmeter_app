{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_reactNativeSafeAreaContext","_expoStatusBar","_Colors","_OfflineBanner","_SafeModeBanner","_jsxRuntime","ScreenLayout","_ref","children","_ref$scrollable","scrollable","_ref$showStatusBar","showStatusBar","_ref$statusBarStyle","statusBarStyle","_ref$backgroundColor","backgroundColor","_ref$edges","edges","containerStyle","styles","container","wrapTextNodesDeep","node","keyPrefix","arguments","length","undefined","jsx","Text","Array","isArray","map","child","idx","wrappedChild","React","isValidElement","key","cloneElement","_props","origChildren","props","wrapped","childrenWithKeys","ch","childArray","Children","toArray","hasVirtualizedList","some","_node$type","_node$type2","typeName","type","displayName","name","includes","normalizedChildren","jsxs","SafeAreaView","style","default","StatusBar","translucent","ScrollView","scrollView","contentContainerStyle","scrollContent","showsVerticalScrollIndicator","keyboardShouldPersistTaps","View","content","StyleSheet","create","flex","flexGrow","paddingHorizontal","paddingVertical","ScreenHeader","_ref2","title","subtitle","rightComponent","colorScheme","useColorScheme","colors","Colors","headerStyles","borderBottomColor","icon","titleContainer","color","text","tabIconDefault","rightContainer","flexDirection","alignItems","justifyContent","borderBottomWidth","fontSize","fontWeight","fontFamily","Platform","select","ios","android","marginTop","marginLeft","_default","exports"],"sources":["ScreenLayout.tsx"],"sourcesContent":["import React from 'react';\nimport { View, ScrollView, StyleSheet, Platform, Text, useColorScheme } from 'react-native';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { StatusBar } from 'expo-status-bar';\nimport { Colors } from '@/constants/Colors';\nimport OfflineBanner from '@/components/ui/OfflineBanner';\nimport SafeModeBanner from '@/components/ui/SafeModeBanner';\n\ninterface ScreenLayoutProps {\n  children: React.ReactNode;\n  scrollable?: boolean;\n  showStatusBar?: boolean;\n  statusBarStyle?: 'auto' | 'inverted' | 'light' | 'dark';\n  backgroundColor?: string;\n  edges?: ('top' | 'bottom' | 'left' | 'right')[];\n}\n\nfunction ScreenLayout({ \n  children, \n  scrollable = true, \n  showStatusBar = true,\n  statusBarStyle = 'dark',\n  backgroundColor = '#F9FAFB',\n  edges = ['top', 'bottom', 'left', 'right']\n}: ScreenLayoutProps) {\n  const containerStyle = [\n    styles.container,\n    { backgroundColor }\n  ];\n\n  // RN kuralı: Düz string/number children bir <Text> içinde olmalı.\n  // Tüm çocuk ağacını dolaşıp string/number düğümleri güvenli şekilde <Text> içine saralım.\n  const wrapTextNodesDeep = (node: any, keyPrefix = 'k'): any => {\n    if (node === null || node === undefined || typeof node === 'boolean') return null;\n    if (typeof node === 'string' || typeof node === 'number') {\n      return <Text key={`${keyPrefix}_txt`}>{node}</Text>;\n    }\n    if (Array.isArray(node)) {\n      return node.map((child, idx) => {\n        const wrappedChild = wrapTextNodesDeep(child, `${keyPrefix}_${idx}`);\n        if (React.isValidElement(wrappedChild)) {\n          // Ensure key exists for array children\n          // If key is missing or null, clone with a stable key\n          // @ts-ignore - key is readonly in types but React accepts overriding via cloneElement\n          if (wrappedChild.key == null) {\n            return React.cloneElement(wrappedChild as any, { key: `${keyPrefix}_${idx}` });\n          }\n        }\n        return wrappedChild;\n      });\n    }\n    if (React.isValidElement(node)) {\n      const origChildren = (node as any).props?.children;\n      if (origChildren === undefined) return node;\n      const wrapped = wrapTextNodesDeep(origChildren, `${keyPrefix}_c`);\n      // If wrapped is an array, ensure each child has a key\n      const childrenWithKeys = Array.isArray(wrapped)\n        ? wrapped.map((ch, idx) => {\n            if (React.isValidElement(ch)) {\n              // @ts-ignore\n              if (ch.key == null) {\n                return React.cloneElement(ch as any, { key: `${keyPrefix}_c_${idx}` });\n              }\n            }\n            return ch;\n          })\n        : wrapped;\n      return React.cloneElement(node as any, undefined, childrenWithKeys);\n    }\n    return node;\n  };\n\n  const childArray = React.Children.toArray(children);\n  const hasVirtualizedList = childArray.some((node: any) => {\n    const typeName = node?.type?.displayName || node?.type?.name || '';\n    return ['FlatList', 'SectionList', 'VirtualizedList'].includes(typeName);\n  });\n\n  const normalizedChildren = childArray.map((node, idx) => wrapTextNodesDeep(node, `root_${idx}`));\n\n  return (\n    <SafeAreaView style={containerStyle} edges={edges}>\n      <SafeModeBanner />\n      <OfflineBanner />\n      {showStatusBar && (\n        <StatusBar \n          style={statusBarStyle} \n          backgroundColor={backgroundColor}\n          translucent={false}\n        />\n      )}\n\n      {scrollable && !hasVirtualizedList ? (\n        <ScrollView\n          style={styles.scrollView}\n          contentContainerStyle={styles.scrollContent}\n          showsVerticalScrollIndicator={false}\n          keyboardShouldPersistTaps=\"handled\"\n        >\n          {normalizedChildren}\n        </ScrollView>\n      ) : (\n        <View style={styles.content}>\n          {normalizedChildren}\n        </View>\n      )}\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollContent: {\n    flexGrow: 1,\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n  },\n  content: {\n    flex: 1,\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n  },\n});\n\n// Header component for screens\nexport function ScreenHeader({\n  title,\n  subtitle,\n  rightComponent,\n}: {\n  title: string;\n  subtitle?: string;\n  rightComponent?: React.ReactNode;\n}) {\n  const colorScheme = useColorScheme();\n  const colors = Colors[colorScheme ?? 'light'];\n\n  return (\n    <View style={[headerStyles.container, { borderBottomColor: colors.icon }]}>\n      <View style={headerStyles.titleContainer}>\n        <Text style={[headerStyles.title, { color: colors.text }]}>\n          {title}\n        </Text>\n        {subtitle && (\n          <Text style={[headerStyles.subtitle, { color: colors.tabIconDefault }]}>\n            {subtitle}\n          </Text>\n        )}\n      </View>\n      {rightComponent && (\n        <View style={headerStyles.rightContainer}>\n          {rightComponent}\n        </View>\n      )}\n    </View>\n  );\n}\n\nconst headerStyles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n  },\n  titleContainer: {\n    flex: 1,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: '700',\n    fontFamily: Platform.select({\n      ios: 'System',\n      android: 'Roboto',\n    }),\n  },\n  subtitle: {\n    fontSize: 14,\n    marginTop: 2,\n  },\n  rightContainer: {\n    marginLeft: 16,\n  },\n});\n\nexport default ScreenLayout;"],"mappings":"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","ignoreList":[]}