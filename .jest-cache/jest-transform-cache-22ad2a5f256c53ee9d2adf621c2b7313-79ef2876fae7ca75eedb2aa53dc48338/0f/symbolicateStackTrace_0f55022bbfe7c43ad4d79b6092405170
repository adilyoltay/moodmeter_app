2dbddd44dfcb630b71c065e8993bd7dd
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = symbolicateStackTrace;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var getDevServer = require("./getDevServer").default;
function symbolicateStackTrace(_x, _x2) {
  return _symbolicateStackTrace.apply(this, arguments);
}
function _symbolicateStackTrace() {
  _symbolicateStackTrace = (0, _asyncToGenerator2.default)(function* (stack, extraData) {
    var _global$fetch;
    var devServer = getDevServer();
    if (!devServer.bundleLoadedFromServer) {
      throw new Error('Bundle was not loaded from Metro.');
    }
    var fetch = (_global$fetch = global.fetch) != null ? _global$fetch : require("../../Network/fetch").fetch;
    var response = yield fetch(devServer.url + 'symbolicate', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        stack: stack,
        extraData: extraData
      })
    });
    return yield response.json();
  });
  return _symbolicateStackTrace.apply(this, arguments);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGVmYXVsdCIsInN5bWJvbGljYXRlU3RhY2tUcmFjZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsImdldERldlNlcnZlciIsIl94IiwiX3gyIiwiX3N5bWJvbGljYXRlU3RhY2tUcmFjZSIsImFwcGx5IiwiYXJndW1lbnRzIiwic3RhY2siLCJleHRyYURhdGEiLCJfZ2xvYmFsJGZldGNoIiwiZGV2U2VydmVyIiwiYnVuZGxlTG9hZGVkRnJvbVNlcnZlciIsIkVycm9yIiwiZmV0Y2giLCJnbG9iYWwiLCJyZXNwb25zZSIsInVybCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImpzb24iXSwic291cmNlcyI6WyJzeW1ib2xpY2F0ZVN0YWNrVHJhY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmb3JtYXRcbiAqIEBmbG93IHN0cmljdFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHR5cGUge1N0YWNrRnJhbWV9IGZyb20gJy4uL05hdGl2ZUV4Y2VwdGlvbnNNYW5hZ2VyJztcblxuY29uc3QgZ2V0RGV2U2VydmVyID0gcmVxdWlyZSgnLi9nZXREZXZTZXJ2ZXInKS5kZWZhdWx0O1xuXG5leHBvcnQgdHlwZSBDb2RlRnJhbWUgPSAkUmVhZE9ubHk8e1xuICBjb250ZW50OiBzdHJpbmcsXG4gIGxvY2F0aW9uOiA/e1xuICAgIHJvdzogbnVtYmVyLFxuICAgIGNvbHVtbjogbnVtYmVyLFxuICAgIC4uLlxuICB9LFxuICBmaWxlTmFtZTogc3RyaW5nLFxufT47XG5cbmV4cG9ydCB0eXBlIFN5bWJvbGljYXRlZFN0YWNrVHJhY2UgPSAkUmVhZE9ubHk8e1xuICBzdGFjazogQXJyYXk8U3RhY2tGcmFtZT4sXG4gIGNvZGVGcmFtZTogP0NvZGVGcmFtZSxcbn0+O1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBzeW1ib2xpY2F0ZVN0YWNrVHJhY2UoXG4gIHN0YWNrOiBBcnJheTxTdGFja0ZyYW1lPixcbiAgZXh0cmFEYXRhPzogbWl4ZWQsXG4pOiBQcm9taXNlPFN5bWJvbGljYXRlZFN0YWNrVHJhY2U+IHtcbiAgY29uc3QgZGV2U2VydmVyID0gZ2V0RGV2U2VydmVyKCk7XG4gIGlmICghZGV2U2VydmVyLmJ1bmRsZUxvYWRlZEZyb21TZXJ2ZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0J1bmRsZSB3YXMgbm90IGxvYWRlZCBmcm9tIE1ldHJvLicpO1xuICB9XG5cbiAgLy8gTGF6eS1sb2FkIGBmZXRjaGAgdW50aWwgdGhlIGZpcnN0IHN5bWJvbGljYXRpb24gY2FsbCB0byBhdm9pZCBjaXJjdWxhciByZXF1aXJlcy5cbiAgY29uc3QgZmV0Y2ggPSBnbG9iYWwuZmV0Y2ggPz8gcmVxdWlyZSgnLi4vLi4vTmV0d29yay9mZXRjaCcpLmZldGNoO1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRldlNlcnZlci51cmwgKyAnc3ltYm9saWNhdGUnLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtzdGFjaywgZXh0cmFEYXRhfSksXG4gIH0pO1xuICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFVQSxZQUFZOztBQUFDLElBQUFBLHNCQUFBLEdBQUFDLE9BQUE7QUFBQUMsTUFBQSxDQUFBQyxjQUFBLENBQUFDLE9BQUE7RUFBQUMsS0FBQTtBQUFBO0FBQUFELE9BQUEsQ0FBQUUsT0FBQSxHQUFBQyxxQkFBQTtBQUFBLElBQUFDLGtCQUFBLEdBQUFSLHNCQUFBLENBQUFDLE9BQUE7QUFJYixJQUFNUSxZQUFZLEdBQUdSLE9BQU8saUJBQWlCLENBQUMsQ0FBQ0ssT0FBTztBQUFDLFNBaUJ6QkMscUJBQXFCQSxDQUFBRyxFQUFBLEVBQUFDLEdBQUE7RUFBQSxPQUFBQyxzQkFBQSxDQUFBQyxLQUFBLE9BQUFDLFNBQUE7QUFBQTtBQUFBLFNBQUFGLHVCQUFBO0VBQUFBLHNCQUFBLE9BQUFKLGtCQUFBLENBQUFGLE9BQUEsRUFBcEMsV0FDYlMsS0FBd0IsRUFDeEJDLFNBQWlCLEVBQ2dCO0lBQUEsSUFBQUMsYUFBQTtJQUNqQyxJQUFNQyxTQUFTLEdBQUdULFlBQVksQ0FBQyxDQUFDO0lBQ2hDLElBQUksQ0FBQ1MsU0FBUyxDQUFDQyxzQkFBc0IsRUFBRTtNQUNyQyxNQUFNLElBQUlDLEtBQUssQ0FBQyxtQ0FBbUMsQ0FBQztJQUN0RDtJQUdBLElBQU1DLEtBQUssSUFBQUosYUFBQSxHQUFHSyxNQUFNLENBQUNELEtBQUssWUFBQUosYUFBQSxHQUFJaEIsT0FBTyxzQkFBc0IsQ0FBQyxDQUFDb0IsS0FBSztJQUNsRSxJQUFNRSxRQUFRLFNBQVNGLEtBQUssQ0FBQ0gsU0FBUyxDQUFDTSxHQUFHLEdBQUcsYUFBYSxFQUFFO01BQzFEQyxNQUFNLEVBQUUsTUFBTTtNQUNkQyxPQUFPLEVBQUU7UUFDUCxjQUFjLEVBQUU7TUFDbEIsQ0FBQztNQUNEQyxJQUFJLEVBQUVDLElBQUksQ0FBQ0MsU0FBUyxDQUFDO1FBQUNkLEtBQUssRUFBTEEsS0FBSztRQUFFQyxTQUFTLEVBQVRBO01BQVMsQ0FBQztJQUN6QyxDQUFDLENBQUM7SUFDRixhQUFhTyxRQUFRLENBQUNPLElBQUksQ0FBQyxDQUFDO0VBQzlCLENBQUM7RUFBQSxPQUFBbEIsc0JBQUEsQ0FBQUMsS0FBQSxPQUFBQyxTQUFBO0FBQUEiLCJpZ25vcmVMaXN0IjpbXX0=