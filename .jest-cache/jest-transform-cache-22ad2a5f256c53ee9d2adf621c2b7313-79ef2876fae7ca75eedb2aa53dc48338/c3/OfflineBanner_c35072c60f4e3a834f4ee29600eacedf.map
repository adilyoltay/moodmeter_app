{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_netinfo","_jsxRuntime","OfflineBanner","_ref","message","_React$useState","React","useState","_React$useState2","_slicedToArray2","default","isOffline","setIsOffline","_React$useState3","_React$useState4","queueLength","setQueueLength","useEffect","unsub","NetInfo","addEventListener","state","offline","isConnected","isInternetReachable","fetch","then","timer","_require","offlineSyncService","setInterval","getSyncQueueLength","_unused","_unused2","jsx","View","accessibilityRole","accessibilityLabel","style","styles","container","children","jsxs","Text","text","StyleSheet","create","backgroundColor","borderBottomColor","borderBottomWidth","paddingVertical","paddingHorizontal","color","fontSize"],"sources":["OfflineBanner.tsx"],"sourcesContent":["import React from 'react';\nimport { View, Text, StyleSheet } from 'react-native';\nimport NetInfo from '@react-native-community/netinfo';\n\ninterface OfflineBannerProps {\n  message?: string;\n}\n\nexport default function OfflineBanner({ message }: OfflineBannerProps) {\n  const [isOffline, setIsOffline] = React.useState(false);\n  const [queueLength, setQueueLength] = React.useState<number>(0);\n\n  React.useEffect(() => {\n    const unsub = NetInfo.addEventListener(state => {\n      const offline = !(state.isConnected && state.isInternetReachable);\n      setIsOffline(offline);\n    });\n    NetInfo.fetch().then(state => {\n      const offline = !(state.isConnected && state.isInternetReachable);\n      setIsOffline(offline);\n    });\n    let timer: any;\n    try {\n      const { offlineSyncService } = require('@/services/offlineSync');\n      timer = setInterval(() => {\n        try {\n          setQueueLength(offlineSyncService.getSyncQueueLength());\n        } catch {}\n      }, 5000);\n    } catch {}\n    return () => unsub();\n  }, []);\n\n  if (!isOffline) return null;\n\n  return (\n    <View accessibilityRole=\"text\" accessibilityLabel=\"Çevrimdışı durum bildirimi\" style={styles.container}>\n      <Text style={styles.text}>\n        {message || 'Çevrimdışısınız. Değişiklikler yerel olarak kaydedilecek ve bağlantı kurulduğunda senkronize edilecek.'}\n        {queueLength > 0 ? ` (${queueLength} bekleyen senkron öğe)` : ''}\n      </Text>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#FFF4E5',\n    borderBottomColor: '#FFA500',\n    borderBottomWidth: 1,\n    paddingVertical: 8,\n    paddingHorizontal: 12,\n  },\n  text: {\n    color: '#7A4D00',\n    fontSize: 12,\n  },\n});\n\n\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsD,IAAAG,WAAA,GAAAH,OAAA;AAMvC,SAASI,aAAaA,CAAAC,IAAA,EAAkC;EAAA,IAA/BC,OAAO,GAAAD,IAAA,CAAPC,OAAO;EAC7C,IAAAC,eAAA,GAAkCC,cAAK,CAACC,QAAQ,CAAC,KAAK,CAAC;IAAAC,gBAAA,OAAAC,eAAA,CAAAC,OAAA,EAAAL,eAAA;IAAhDM,SAAS,GAAAH,gBAAA;IAAEI,YAAY,GAAAJ,gBAAA;EAC9B,IAAAK,gBAAA,GAAsCP,cAAK,CAACC,QAAQ,CAAS,CAAC,CAAC;IAAAO,gBAAA,OAAAL,eAAA,CAAAC,OAAA,EAAAG,gBAAA;IAAxDE,WAAW,GAAAD,gBAAA;IAAEE,cAAc,GAAAF,gBAAA;EAElCR,cAAK,CAACW,SAAS,CAAC,YAAM;IACpB,IAAMC,KAAK,GAAGC,gBAAO,CAACC,gBAAgB,CAAC,UAAAC,KAAK,EAAI;MAC9C,IAAMC,OAAO,GAAG,EAAED,KAAK,CAACE,WAAW,IAAIF,KAAK,CAACG,mBAAmB,CAAC;MACjEZ,YAAY,CAACU,OAAO,CAAC;IACvB,CAAC,CAAC;IACFH,gBAAO,CAACM,KAAK,CAAC,CAAC,CAACC,IAAI,CAAC,UAAAL,KAAK,EAAI;MAC5B,IAAMC,OAAO,GAAG,EAAED,KAAK,CAACE,WAAW,IAAIF,KAAK,CAACG,mBAAmB,CAAC;MACjEZ,YAAY,CAACU,OAAO,CAAC;IACvB,CAAC,CAAC;IACF,IAAIK,KAAU;IACd,IAAI;MACF,IAAAC,QAAA,GAA+B9B,OAAO,6BAAyB,CAAC;QAAxD+B,kBAAkB,GAAAD,QAAA,CAAlBC,kBAAkB;MAC1BF,KAAK,GAAGG,WAAW,CAAC,YAAM;QACxB,IAAI;UACFd,cAAc,CAACa,kBAAkB,CAACE,kBAAkB,CAAC,CAAC,CAAC;QACzD,CAAC,CAAC,OAAAC,OAAA,EAAM,CAAC;MACX,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,CAAC,OAAAC,QAAA,EAAM,CAAC;IACT,OAAO;MAAA,OAAMf,KAAK,CAAC,CAAC;IAAA;EACtB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAI,CAACP,SAAS,EAAE,OAAO,IAAI;EAE3B,OACE,IAAAV,WAAA,CAAAiC,GAAA,EAACnC,YAAA,CAAAoC,IAAI;IAACC,iBAAiB,EAAC,MAAM;IAACC,kBAAkB,EAAC,8CAA4B;IAACC,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,EACrG,IAAAxC,WAAA,CAAAyC,IAAA,EAAC3C,YAAA,CAAA4C,IAAI;MAACL,KAAK,EAAEC,MAAM,CAACK,IAAK;MAAAH,QAAA,GACtBrC,OAAO,IAAI,wGAAwG,EACnHW,WAAW,GAAG,CAAC,GAAG,KAAKA,WAAW,wBAAwB,GAAG,EAAE;IAAA,CAC5D;EAAC,CACH,CAAC;AAEX;AAEA,IAAMwB,MAAM,GAAGM,uBAAU,CAACC,MAAM,CAAC;EAC/BN,SAAS,EAAE;IACTO,eAAe,EAAE,SAAS;IAC1BC,iBAAiB,EAAE,SAAS;IAC5BC,iBAAiB,EAAE,CAAC;IACpBC,eAAe,EAAE,CAAC;IAClBC,iBAAiB,EAAE;EACrB,CAAC;EACDP,IAAI,EAAE;IACJQ,KAAK,EAAE,SAAS;IAChBC,QAAQ,EAAE;EACZ;AACF,CAAC,CAAC","ignoreList":[]}