8e86caa644698a91e86c809104f02776
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getTrendFromP50 = getTrendFromP50;
function getTrendFromP50(series) {
  var threshold = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;
  if (!Array.isArray(series) || series.length === 0) return 'stable';
  var vals = series.map(function (v) {
    return typeof v === 'number' && Number.isFinite(v) ? v : NaN;
  }).filter(function (v) {
    return Number.isFinite(v);
  });
  if (vals.length < 2) return 'stable';
  var first = vals[0];
  var last = vals[vals.length - 1];
  var diff = last - first;
  if (Math.abs(diff) >= Math.max(0, threshold)) {
    return diff > 0 ? 'up' : 'down';
  }
  return 'stable';
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRUcmVuZEZyb21QNTAiLCJzZXJpZXMiLCJ0aHJlc2hvbGQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJBcnJheSIsImlzQXJyYXkiLCJ2YWxzIiwibWFwIiwidiIsIk51bWJlciIsImlzRmluaXRlIiwiTmFOIiwiZmlsdGVyIiwiZmlyc3QiLCJsYXN0IiwiZGlmZiIsIk1hdGgiLCJhYnMiLCJtYXgiXSwic291cmNlcyI6WyJ0cmVuZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdHlwZSBUcmVuZCA9ICd1cCcgfCAnZG93bicgfCAnc3RhYmxlJztcblxuLyoqXG4gKiBDb21wdXRlIHRyZW5kIGZyb20gYSBzZXJpZXMgb2YgcDUwIChtZWRpYW4pIHZhbHVlcy5cbiAqIC0gSWdub3JlcyBOYU4vdW5kZWZpbmVkIHZhbHVlc1xuICogLSBVc2VzIGZpcnN0IGFuZCBsYXN0IHZhbGlkIHZhbHVlc1xuICogLSBSZXR1cm5zICd1cCcgfCAnZG93bicgd2hlbiBhYnNvbHV0ZSBkZWx0YSA+PSB0aHJlc2hvbGQsIG90aGVyd2lzZSAnc3RhYmxlJ1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJlbmRGcm9tUDUwKHNlcmllczogQXJyYXk8bnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZD4sIHRocmVzaG9sZDogbnVtYmVyID0gMTApOiBUcmVuZCB7XG4gIGlmICghQXJyYXkuaXNBcnJheShzZXJpZXMpIHx8IHNlcmllcy5sZW5ndGggPT09IDApIHJldHVybiAnc3RhYmxlJztcbiAgY29uc3QgdmFscyA9IHNlcmllc1xuICAgIC5tYXAoKHYpID0+ICh0eXBlb2YgdiA9PT0gJ251bWJlcicgJiYgTnVtYmVyLmlzRmluaXRlKHYpID8gdiA6IE5hTikpXG4gICAgLmZpbHRlcigodikgPT4gTnVtYmVyLmlzRmluaXRlKHYpKTtcbiAgaWYgKHZhbHMubGVuZ3RoIDwgMikgcmV0dXJuICdzdGFibGUnO1xuICBjb25zdCBmaXJzdCA9IHZhbHNbMF0hO1xuICBjb25zdCBsYXN0ID0gdmFsc1t2YWxzLmxlbmd0aCAtIDFdITtcbiAgY29uc3QgZGlmZiA9IGxhc3QgLSBmaXJzdDtcbiAgaWYgKE1hdGguYWJzKGRpZmYpID49IE1hdGgubWF4KDAsIHRocmVzaG9sZCkpIHtcbiAgICByZXR1cm4gZGlmZiA+IDAgPyAndXAnIDogJ2Rvd24nO1xuICB9XG4gIHJldHVybiAnc3RhYmxlJztcbn1cblxuIl0sIm1hcHBpbmdzIjoiOzs7O0FBUU8sU0FBU0EsZUFBZUEsQ0FBQ0MsTUFBd0MsRUFBaUM7RUFBQSxJQUEvQkMsU0FBaUIsR0FBQUMsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsRUFBRTtFQUM5RixJQUFJLENBQUNHLEtBQUssQ0FBQ0MsT0FBTyxDQUFDTixNQUFNLENBQUMsSUFBSUEsTUFBTSxDQUFDRyxNQUFNLEtBQUssQ0FBQyxFQUFFLE9BQU8sUUFBUTtFQUNsRSxJQUFNSSxJQUFJLEdBQUdQLE1BQU0sQ0FDaEJRLEdBQUcsQ0FBQyxVQUFDQyxDQUFDO0lBQUEsT0FBTSxPQUFPQSxDQUFDLEtBQUssUUFBUSxJQUFJQyxNQUFNLENBQUNDLFFBQVEsQ0FBQ0YsQ0FBQyxDQUFDLEdBQUdBLENBQUMsR0FBR0csR0FBRztFQUFBLENBQUMsQ0FBQyxDQUNuRUMsTUFBTSxDQUFDLFVBQUNKLENBQUM7SUFBQSxPQUFLQyxNQUFNLENBQUNDLFFBQVEsQ0FBQ0YsQ0FBQyxDQUFDO0VBQUEsRUFBQztFQUNwQyxJQUFJRixJQUFJLENBQUNKLE1BQU0sR0FBRyxDQUFDLEVBQUUsT0FBTyxRQUFRO0VBQ3BDLElBQU1XLEtBQUssR0FBR1AsSUFBSSxDQUFDLENBQUMsQ0FBRTtFQUN0QixJQUFNUSxJQUFJLEdBQUdSLElBQUksQ0FBQ0EsSUFBSSxDQUFDSixNQUFNLEdBQUcsQ0FBQyxDQUFFO0VBQ25DLElBQU1hLElBQUksR0FBR0QsSUFBSSxHQUFHRCxLQUFLO0VBQ3pCLElBQUlHLElBQUksQ0FBQ0MsR0FBRyxDQUFDRixJQUFJLENBQUMsSUFBSUMsSUFBSSxDQUFDRSxHQUFHLENBQUMsQ0FBQyxFQUFFbEIsU0FBUyxDQUFDLEVBQUU7SUFDNUMsT0FBT2UsSUFBSSxHQUFHLENBQUMsR0FBRyxJQUFJLEdBQUcsTUFBTTtFQUNqQztFQUNBLE9BQU8sUUFBUTtBQUNqQiIsImlnbm9yZUxpc3QiOltdfQ==