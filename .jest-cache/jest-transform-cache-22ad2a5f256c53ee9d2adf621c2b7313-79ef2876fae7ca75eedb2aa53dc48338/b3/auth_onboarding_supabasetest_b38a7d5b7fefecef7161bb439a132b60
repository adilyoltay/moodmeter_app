2e17295b43620fc1f78b4b0cc7ef1556
_getJestObj().mock("../../lib/supabase", function () {
  return {
    supabase: mockClient
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
function _getJestObj() {
  var _require2 = require("@jest/globals"),
    jest = _require2.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var callLog = [];
function qb(table) {
  var state = {
    table: table,
    filters: []
  };
  var api = {
    select: jest.fn(function () {
      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }
      callLog.push({
        op: 'select',
        table: table,
        args: args
      });
      return api;
    }),
    upsert: jest.fn(function () {
      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }
      callLog.push({
        op: 'upsert',
        table: table,
        args: args
      });
      return api;
    }),
    insert: jest.fn(function () {
      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
        args[_key3] = arguments[_key3];
      }
      callLog.push({
        op: 'insert',
        table: table,
        args: args
      });
      return api;
    }),
    update: jest.fn(function () {
      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
        args[_key4] = arguments[_key4];
      }
      callLog.push({
        op: 'update',
        table: table,
        args: args
      });
      return api;
    }),
    delete: jest.fn(function () {
      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
        args[_key5] = arguments[_key5];
      }
      callLog.push({
        op: 'delete',
        table: table,
        args: args
      });
      return api;
    }),
    eq: jest.fn(function (field, value) {
      state.filters.push({
        field: field,
        value: value
      });
      return api;
    }),
    maybeSingle: jest.fn((0, _asyncToGenerator2.default)(function* () {
      return {
        data: null,
        error: null
      };
    })),
    single: jest.fn((0, _asyncToGenerator2.default)(function* () {
      return {
        data: {
          ok: true
        },
        error: null
      };
    }))
  };
  return api;
}
var mockAuth = {
  getUser: jest.fn((0, _asyncToGenerator2.default)(function* () {
    return {
      user: {
        id: 'user-1',
        email: 'new@user.test',
        user_metadata: {
          name: 'New User'
        },
        app_metadata: {
          provider: 'email'
        }
      }
    };
  })),
  updateUser: jest.fn((0, _asyncToGenerator2.default)(function* () {
    return {
      data: {},
      error: null
    };
  }))
};
var mockClient = {
  from: jest.fn(function (table) {
    return qb(table);
  }),
  auth: mockAuth
};
var getSvc = function getSvc() {
  var _require = require("../../services/supabase"),
    createSupabaseServiceForTest = _require.createSupabaseServiceForTest;
  return createSupabaseServiceForTest(mockClient);
};
beforeEach(function () {
  callLog.length = 0;
  jest.clearAllMocks();
});
describe('Signup + Onboarding Supabase writes', function () {
  test('createGamificationProfile ensures users row upsert when missing', (0, _asyncToGenerator2.default)(function* () {
    var qbUsers = qb('users');
    mockClient.from.mockImplementation(function (table) {
      if (table === 'users') {
        qbUsers.single.mockResolvedValueOnce({
          data: null,
          error: null
        });
        return qbUsers;
      }
      return qb(table);
    });
    var svc = getSvc();
    var res = yield svc.createGamificationProfile('user-1');
    var usersUpsert = callLog.find(function (l) {
      return l.op === 'upsert' && l.table === 'users';
    });
    expect(usersUpsert).toBeTruthy();
    var upsertBody = usersUpsert.args[0];
    expect(upsertBody).toMatchObject({
      id: 'user-1',
      email: 'new@user.test',
      provider: 'email'
    });
    var gpUpsert = callLog.find(function (l) {
      return l.op === 'upsert' && l.table === 'gamification_profiles';
    });
    expect(gpUpsert).toBeTruthy();
    expect(res === null || typeof res === 'object').toBe(true);
  }));
  test('upsertUserProfile maps onboarding payload correctly into user_profiles', (0, _asyncToGenerator2.default)(function* () {
    var userId = 'user-2';
    var payload = {
      profile: {
        age: 27,
        gender: 'male',
        locale: 'tr-TR',
        timezone: 'Europe/Istanbul'
      },
      motivation: ['stress_reduction', 'mental_clarity'],
      first_mood: {
        score: 6,
        tags: ['work', 'sleep']
      },
      lifestyle: {
        sleep_hours: 5,
        exercise: 'Regular',
        social: 'High'
      },
      reminders: {
        enabled: true,
        time: '21:30',
        days: ['Mon', 'Wed'],
        timezone: 'Europe/Istanbul'
      },
      feature_flags: {
        a: true,
        b: false
      },
      consent: {
        accepted: true
      }
    };
    mockClient.from.mockImplementation(function (table) {
      return qb(table);
    });
    var svc = getSvc();
    yield svc.upsertUserProfile(userId, payload);
    var upsert = callLog.find(function (l) {
      return l.op === 'upsert' && l.table === 'user_profiles';
    });
    expect(upsert).toBeTruthy();
    var body = upsert.args[0];
    expect(body.user_id).toBe(userId);
    expect(body.motivations).toEqual(['stress_reduction', 'mental_clarity']);
    expect(body.first_mood_score).toBe(5);
    expect(body.first_mood_tags).toEqual(['work', 'sleep']);
    expect(body.reminder_enabled).toBe(true);
    expect(body.reminder_time).toBe('21:30');
    expect(body.feature_flags).toEqual({
      a: true,
      b: false
    });
    expect(body.onboarding_version).toBe(2);
    expect(typeof body.onboarding_completed_at).toBe('string');
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJzdXBhYmFzZSIsIm1vY2tDbGllbnQiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZXF1aXJlMiIsImplc3QiLCJjYWxsTG9nIiwicWIiLCJ0YWJsZSIsInN0YXRlIiwiZmlsdGVycyIsImFwaSIsInNlbGVjdCIsImZuIiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJwdXNoIiwib3AiLCJ1cHNlcnQiLCJfbGVuMiIsIl9rZXkyIiwiaW5zZXJ0IiwiX2xlbjMiLCJfa2V5MyIsInVwZGF0ZSIsIl9sZW40IiwiX2tleTQiLCJkZWxldGUiLCJfbGVuNSIsIl9rZXk1IiwiZXEiLCJmaWVsZCIsInZhbHVlIiwibWF5YmVTaW5nbGUiLCJkZWZhdWx0IiwiZGF0YSIsImVycm9yIiwic2luZ2xlIiwib2siLCJtb2NrQXV0aCIsImdldFVzZXIiLCJ1c2VyIiwiaWQiLCJlbWFpbCIsInVzZXJfbWV0YWRhdGEiLCJuYW1lIiwiYXBwX21ldGFkYXRhIiwicHJvdmlkZXIiLCJ1cGRhdGVVc2VyIiwiZnJvbSIsImF1dGgiLCJnZXRTdmMiLCJfcmVxdWlyZSIsImNyZWF0ZVN1cGFiYXNlU2VydmljZUZvclRlc3QiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsImRlc2NyaWJlIiwidGVzdCIsInFiVXNlcnMiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJtb2NrUmVzb2x2ZWRWYWx1ZU9uY2UiLCJzdmMiLCJyZXMiLCJjcmVhdGVHYW1pZmljYXRpb25Qcm9maWxlIiwidXNlcnNVcHNlcnQiLCJmaW5kIiwibCIsImV4cGVjdCIsInRvQmVUcnV0aHkiLCJ1cHNlcnRCb2R5IiwidG9NYXRjaE9iamVjdCIsImdwVXBzZXJ0IiwidG9CZSIsInVzZXJJZCIsInBheWxvYWQiLCJwcm9maWxlIiwiYWdlIiwiZ2VuZGVyIiwibG9jYWxlIiwidGltZXpvbmUiLCJtb3RpdmF0aW9uIiwiZmlyc3RfbW9vZCIsInNjb3JlIiwidGFncyIsImxpZmVzdHlsZSIsInNsZWVwX2hvdXJzIiwiZXhlcmNpc2UiLCJzb2NpYWwiLCJyZW1pbmRlcnMiLCJlbmFibGVkIiwidGltZSIsImRheXMiLCJmZWF0dXJlX2ZsYWdzIiwiYSIsImIiLCJjb25zZW50IiwiYWNjZXB0ZWQiLCJ1cHNlcnRVc2VyUHJvZmlsZSIsImJvZHkiLCJ1c2VyX2lkIiwibW90aXZhdGlvbnMiLCJ0b0VxdWFsIiwiZmlyc3RfbW9vZF9zY29yZSIsImZpcnN0X21vb2RfdGFncyIsInJlbWluZGVyX2VuYWJsZWQiLCJyZW1pbmRlcl90aW1lIiwib25ib2FyZGluZ192ZXJzaW9uIiwib25ib2FyZGluZ19jb21wbGV0ZWRfYXQiXSwic291cmNlcyI6WyJhdXRoX29uYm9hcmRpbmdfc3VwYWJhc2UudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWdodHdlaWdodCBTdXBhYmFzZSBjbGllbnQgbW9jayB3aXJlZCB2aWEgbW9kdWxlIGFsaWFzXG50eXBlIEFueUZuID0gKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk7XG5cbmNvbnN0IGNhbGxMb2c6IGFueVtdID0gW107XG5cbi8vIENoYWluYWJsZSBxdWVyeSBidWlsZGVyIG1vY2tcbmZ1bmN0aW9uIHFiKHRhYmxlOiBzdHJpbmcpIHtcbiAgY29uc3Qgc3RhdGU6IGFueSA9IHsgdGFibGUsIGZpbHRlcnM6IFtdIH07XG4gIGNvbnN0IGFwaTogYW55ID0ge1xuICAgIHNlbGVjdDogamVzdC5mbigoLi4uYXJnczogYW55W10pID0+IHsgY2FsbExvZy5wdXNoKHsgb3A6ICdzZWxlY3QnLCB0YWJsZSwgYXJncyB9KTsgcmV0dXJuIGFwaTsgfSksXG4gICAgdXBzZXJ0OiBqZXN0LmZuKCguLi5hcmdzOiBhbnlbXSkgPT4geyBjYWxsTG9nLnB1c2goeyBvcDogJ3Vwc2VydCcsIHRhYmxlLCBhcmdzIH0pOyByZXR1cm4gYXBpOyB9KSxcbiAgICBpbnNlcnQ6IGplc3QuZm4oKC4uLmFyZ3M6IGFueVtdKSA9PiB7IGNhbGxMb2cucHVzaCh7IG9wOiAnaW5zZXJ0JywgdGFibGUsIGFyZ3MgfSk7IHJldHVybiBhcGk7IH0pLFxuICAgIHVwZGF0ZTogamVzdC5mbigoLi4uYXJnczogYW55W10pID0+IHsgY2FsbExvZy5wdXNoKHsgb3A6ICd1cGRhdGUnLCB0YWJsZSwgYXJncyB9KTsgcmV0dXJuIGFwaTsgfSksXG4gICAgZGVsZXRlOiBqZXN0LmZuKCguLi5hcmdzOiBhbnlbXSkgPT4geyBjYWxsTG9nLnB1c2goeyBvcDogJ2RlbGV0ZScsIHRhYmxlLCBhcmdzIH0pOyByZXR1cm4gYXBpOyB9KSxcbiAgICBlcTogamVzdC5mbigoZmllbGQ6IHN0cmluZywgdmFsdWU6IGFueSkgPT4geyBzdGF0ZS5maWx0ZXJzLnB1c2goeyBmaWVsZCwgdmFsdWUgfSk7IHJldHVybiBhcGk7IH0pLFxuICAgIG1heWJlU2luZ2xlOiBqZXN0LmZuKGFzeW5jICgpID0+ICh7IGRhdGE6IG51bGwsIGVycm9yOiBudWxsIH0pKSxcbiAgICBzaW5nbGU6IGplc3QuZm4oYXN5bmMgKCkgPT4gKHsgZGF0YTogeyBvazogdHJ1ZSB9LCBlcnJvcjogbnVsbCB9KSksXG4gIH07XG4gIHJldHVybiBhcGk7XG59XG5cbmNvbnN0IG1vY2tBdXRoID0ge1xuICBnZXRVc2VyOiBqZXN0LmZuKGFzeW5jICgpID0+ICh7XG4gICAgdXNlcjoge1xuICAgICAgaWQ6ICd1c2VyLTEnLFxuICAgICAgZW1haWw6ICduZXdAdXNlci50ZXN0JyxcbiAgICAgIHVzZXJfbWV0YWRhdGE6IHsgbmFtZTogJ05ldyBVc2VyJyB9LFxuICAgICAgYXBwX21ldGFkYXRhOiB7IHByb3ZpZGVyOiAnZW1haWwnIH1cbiAgICB9XG4gIH0pKSxcbiAgdXBkYXRlVXNlcjogamVzdC5mbihhc3luYyAoKSA9PiAoeyBkYXRhOiB7fSwgZXJyb3I6IG51bGwgfSkpLFxufTtcblxuY29uc3QgbW9ja0NsaWVudCA9IHtcbiAgZnJvbTogamVzdC5mbigodGFibGU6IHN0cmluZykgPT4gcWIodGFibGUpKSxcbiAgYXV0aDogbW9ja0F1dGgsXG59O1xuXG5qZXN0Lm1vY2soJ0AvbGliL3N1cGFiYXNlJywgKCkgPT4gKHtcbiAgc3VwYWJhc2U6IG1vY2tDbGllbnQsXG59KSk7XG5cbi8vIERlZmVyIGltcG9ydGluZyB0aGUgc2VydmljZSB1bnRpbCBhZnRlciBtb2NrcyBhcmUgc2V0IHVwXG5jb25zdCBnZXRTdmMgPSAoKSA9PiB7XG4gIGNvbnN0IHsgY3JlYXRlU3VwYWJhc2VTZXJ2aWNlRm9yVGVzdCB9ID0gcmVxdWlyZSgnQC9zZXJ2aWNlcy9zdXBhYmFzZScpO1xuICAvLyBJbmplY3Qgb3VyIG1vY2sgU3VwYWJhc2UgY2xpZW50IHRvIHRoZSBzZXJ2aWNlXG4gIHJldHVybiBjcmVhdGVTdXBhYmFzZVNlcnZpY2VGb3JUZXN0KG1vY2tDbGllbnQgYXMgYW55KTtcbn07XG5cbmJlZm9yZUVhY2goKCkgPT4ge1xuICBjYWxsTG9nLmxlbmd0aCA9IDA7XG4gIGplc3QuY2xlYXJBbGxNb2NrcygpO1xufSk7XG5cbmRlc2NyaWJlKCdTaWdudXAgKyBPbmJvYXJkaW5nIFN1cGFiYXNlIHdyaXRlcycsICgpID0+IHtcbiAgdGVzdCgnY3JlYXRlR2FtaWZpY2F0aW9uUHJvZmlsZSBlbnN1cmVzIHVzZXJzIHJvdyB1cHNlcnQgd2hlbiBtaXNzaW5nJywgYXN5bmMgKCkgPT4ge1xuICAgIC8vIEFycmFuZ2U6IG1ha2UgdXNlcnMgc2VsZWN0KCkuZXEoKS5zaW5nbGUoKSByZXR1cm4gbm8gcm93XG4gICAgY29uc3QgcWJVc2VycyA9IHFiKCd1c2VycycpO1xuICAgIChtb2NrQ2xpZW50LmZyb20gYXMgQW55Rm4pLm1vY2tJbXBsZW1lbnRhdGlvbigodGFibGU6IHN0cmluZykgPT4ge1xuICAgICAgaWYgKHRhYmxlID09PSAndXNlcnMnKSB7XG4gICAgICAgIC8vIG92ZXJyaWRlIHNpbmdsZSgpIGZvciBmaXJzdCBzZWxlY3QgdG8gc2ltdWxhdGUgbWlzc2luZyB1c2VyXG4gICAgICAgIHFiVXNlcnMuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7IGRhdGE6IG51bGwsIGVycm9yOiBudWxsIH0pO1xuICAgICAgICAvLyBmb3IgdXBzZXJ0KCkuc2VsZWN0KCkuc2luZ2xlKCkgYWZ0ZXIgZW5zdXJlVXNlclByb2ZpbGVFeGlzdHNcbiAgICAgICAgcmV0dXJuIHFiVXNlcnM7XG4gICAgICB9XG4gICAgICByZXR1cm4gcWIodGFibGUpO1xuICAgIH0pO1xuXG4gICAgLy8gQWN0XG4gICAgY29uc3Qgc3ZjID0gZ2V0U3ZjKCk7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgc3ZjLmNyZWF0ZUdhbWlmaWNhdGlvblByb2ZpbGUoJ3VzZXItMScpO1xuXG4gICAgLy8gQXNzZXJ0OiB1c2VycyB1cHNlcnQgY2FsbGVkIHdpdGggaWQvZW1haWwvbmFtZS9wcm92aWRlclxuICAgIGNvbnN0IHVzZXJzVXBzZXJ0ID0gY2FsbExvZy5maW5kKGwgPT4gbC5vcCA9PT0gJ3Vwc2VydCcgJiYgbC50YWJsZSA9PT0gJ3VzZXJzJyk7XG4gICAgZXhwZWN0KHVzZXJzVXBzZXJ0KS50b0JlVHJ1dGh5KCk7XG4gICAgY29uc3QgdXBzZXJ0Qm9keSA9IHVzZXJzVXBzZXJ0LmFyZ3NbMF07XG4gICAgZXhwZWN0KHVwc2VydEJvZHkpLnRvTWF0Y2hPYmplY3QoeyBpZDogJ3VzZXItMScsIGVtYWlsOiAnbmV3QHVzZXIudGVzdCcsIHByb3ZpZGVyOiAnZW1haWwnIH0pO1xuXG4gICAgLy8gQW5kIGdhbWlmaWNhdGlvbl9wcm9maWxlcyB1cHNlcnQgZXhlY3V0ZWRcbiAgICBjb25zdCBncFVwc2VydCA9IGNhbGxMb2cuZmluZChsID0+IGwub3AgPT09ICd1cHNlcnQnICYmIGwudGFibGUgPT09ICdnYW1pZmljYXRpb25fcHJvZmlsZXMnKTtcbiAgICBleHBlY3QoZ3BVcHNlcnQpLnRvQmVUcnV0aHkoKTtcbiAgICBleHBlY3QocmVzID09PSBudWxsIHx8IHR5cGVvZiByZXMgPT09ICdvYmplY3QnKS50b0JlKHRydWUpO1xuICB9KTtcblxuICB0ZXN0KCd1cHNlcnRVc2VyUHJvZmlsZSBtYXBzIG9uYm9hcmRpbmcgcGF5bG9hZCBjb3JyZWN0bHkgaW50byB1c2VyX3Byb2ZpbGVzJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXJJZCA9ICd1c2VyLTInO1xuICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICBwcm9maWxlOiB7IGFnZTogMjcsIGdlbmRlcjogJ21hbGUnLCBsb2NhbGU6ICd0ci1UUicsIHRpbWV6b25lOiAnRXVyb3BlL0lzdGFuYnVsJyB9LFxuICAgICAgbW90aXZhdGlvbjogWydzdHJlc3NfcmVkdWN0aW9uJywgJ21lbnRhbF9jbGFyaXR5J10sXG4gICAgICBmaXJzdF9tb29kOiB7IHNjb3JlOiA2LCB0YWdzOiBbJ3dvcmsnLCAnc2xlZXAnXSB9LCAvLyBzY29yZSBzaG91bGQgY2xhbXAgdG8gNVxuICAgICAgbGlmZXN0eWxlOiB7IHNsZWVwX2hvdXJzOiA1LCBleGVyY2lzZTogJ1JlZ3VsYXInLCBzb2NpYWw6ICdIaWdoJyB9LFxuICAgICAgcmVtaW5kZXJzOiB7IGVuYWJsZWQ6IHRydWUsIHRpbWU6ICcyMTozMCcsIGRheXM6IFsnTW9uJywnV2VkJ10sIHRpbWV6b25lOiAnRXVyb3BlL0lzdGFuYnVsJyB9LFxuICAgICAgZmVhdHVyZV9mbGFnczogeyBhOiB0cnVlLCBiOiBmYWxzZSB9LFxuICAgICAgY29uc2VudDogeyBhY2NlcHRlZDogdHJ1ZSB9LFxuICAgIH07XG5cbiAgICAvLyBmcmVzaCBtb2NrIHBlciB0ZXN0XG4gICAgKG1vY2tDbGllbnQuZnJvbSBhcyBBbnlGbikubW9ja0ltcGxlbWVudGF0aW9uKCh0YWJsZTogc3RyaW5nKSA9PiBxYih0YWJsZSkpO1xuXG4gICAgY29uc3Qgc3ZjID0gZ2V0U3ZjKCk7XG4gICAgYXdhaXQgc3ZjLnVwc2VydFVzZXJQcm9maWxlKHVzZXJJZCwgcGF5bG9hZCk7XG5cbiAgICBjb25zdCB1cHNlcnQgPSBjYWxsTG9nLmZpbmQobCA9PiBsLm9wID09PSAndXBzZXJ0JyAmJiBsLnRhYmxlID09PSAndXNlcl9wcm9maWxlcycpO1xuICAgIGV4cGVjdCh1cHNlcnQpLnRvQmVUcnV0aHkoKTtcbiAgICBjb25zdCBib2R5ID0gdXBzZXJ0LmFyZ3NbMF07XG5cbiAgICAvLyBLZXkgZmllbGQgZXhwZWN0YXRpb25zXG4gICAgZXhwZWN0KGJvZHkudXNlcl9pZCkudG9CZSh1c2VySWQpO1xuICAgIGV4cGVjdChib2R5Lm1vdGl2YXRpb25zKS50b0VxdWFsKFsnc3RyZXNzX3JlZHVjdGlvbicsICdtZW50YWxfY2xhcml0eSddKTtcbiAgICBleHBlY3QoYm9keS5maXJzdF9tb29kX3Njb3JlKS50b0JlKDUpOyAvLyBjbGFtcGVkXG4gICAgZXhwZWN0KGJvZHkuZmlyc3RfbW9vZF90YWdzKS50b0VxdWFsKFsnd29yaycsJ3NsZWVwJ10pO1xuICAgIGV4cGVjdChib2R5LnJlbWluZGVyX2VuYWJsZWQpLnRvQmUodHJ1ZSk7XG4gICAgZXhwZWN0KGJvZHkucmVtaW5kZXJfdGltZSkudG9CZSgnMjE6MzAnKTtcbiAgICBleHBlY3QoYm9keS5mZWF0dXJlX2ZsYWdzKS50b0VxdWFsKHsgYTogdHJ1ZSwgYjogZmFsc2UgfSk7XG4gICAgZXhwZWN0KGJvZHkub25ib2FyZGluZ192ZXJzaW9uKS50b0JlKDIpO1xuICAgIGV4cGVjdCh0eXBlb2YgYm9keS5vbmJvYXJkaW5nX2NvbXBsZXRlZF9hdCkudG9CZSgnc3RyaW5nJyk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQXNDQUEsV0FBQSxHQUFLQyxJQUFJLHVCQUFtQjtFQUFBLE9BQU87SUFDakNDLFFBQVEsRUFBRUM7RUFDWixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBQUMsSUFBQUMsc0JBQUEsR0FBQUMsT0FBQTtBQUFBLElBQUFDLGtCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBQSxTQUFBTCxZQUFBO0VBQUEsSUFBQU8sU0FBQSxHQUFBRixPQUFBO0lBQUFHLElBQUEs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