27f090f00a5431ecede827d6d29f67ab
"use strict";

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault2(require("@babel/runtime/helpers/asyncToGenerator"));
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
exports.fireEventAsync = fireEventAsync;
exports.isEventEnabled = isEventEnabled;
exports.isTouchResponder = isTouchResponder;
var _act = _interopRequireDefault(require("./act"));
var _eventHandler = require("./event-handler");
var _componentTree = require("./helpers/component-tree");
var _hostComponentNames = require("./helpers/host-component-names");
var _pointerEvents = require("./helpers/pointer-events");
var _textInput = require("./helpers/text-input");
var _nativeState = require("./native-state");
function _interopRequireDefault(e) {
  return e && e.__esModule ? e : {
    default: e
  };
}
function isTouchResponder(element) {
  if (!(0, _componentTree.isHostElement)(element)) {
    return false;
  }
  return Boolean(element.props.onStartShouldSetResponder) || (0, _hostComponentNames.isHostTextInput)(element);
}
var eventsAffectedByPointerEventsProp = new Set(['press', 'onPress']);
var textInputEventsIgnoringEditableProp = new Set(['contentSizeChange', 'onContentSizeChange', 'layout', 'onLayout', 'scroll', 'onScroll']);
function isEventEnabled(element, eventName, nearestTouchResponder) {
  if (nearestTouchResponder != null && (0, _hostComponentNames.isHostTextInput)(nearestTouchResponder)) {
    return (0, _textInput.isEditableTextInput)(nearestTouchResponder) || textInputEventsIgnoringEditableProp.has(eventName);
  }
  if (eventsAffectedByPointerEventsProp.has(eventName) && !(0, _pointerEvents.isPointerEventEnabled)(element)) {
    return false;
  }
  var touchStart = nearestTouchResponder == null || nearestTouchResponder.props.onStartShouldSetResponder == null ? void 0 : nearestTouchResponder.props.onStartShouldSetResponder();
  var touchMove = nearestTouchResponder == null || nearestTouchResponder.props.onMoveShouldSetResponder == null ? void 0 : nearestTouchResponder.props.onMoveShouldSetResponder();
  if (touchStart || touchMove) {
    return true;
  }
  return touchStart === undefined && touchMove === undefined;
}
function findEventHandler(element, eventName, nearestTouchResponder) {
  var touchResponder = isTouchResponder(element) ? element : nearestTouchResponder;
  var handler = (0, _eventHandler.getEventHandler)(element, eventName, {
    loose: true
  });
  if (handler && isEventEnabled(element, eventName, touchResponder)) {
    return handler;
  }
  if (element.parent === null) {
    return null;
  }
  return findEventHandler(element.parent, eventName, touchResponder);
}
function fireEvent(element, eventName) {
  for (var _len = arguments.length, data = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
    data[_key - 2] = arguments[_key];
  }
  if (!(0, _componentTree.isElementMounted)(element)) {
    return;
  }
  setNativeStateIfNeeded(element, eventName, data[0]);
  var handler = findEventHandler(element, eventName);
  if (!handler) {
    return;
  }
  var returnValue;
  void (0, _act.default)(function () {
    returnValue = handler.apply(void 0, data);
  });
  return returnValue;
}
fireEvent.press = function (element) {
  for (var _len2 = arguments.length, data = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
    data[_key2 - 1] = arguments[_key2];
  }
  return fireEvent.apply(void 0, [element, 'press'].concat(data));
};
fireEvent.changeText = function (element) {
  for (var _len3 = arguments.length, data = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
    data[_key3 - 1] = arguments[_key3];
  }
  return fireEvent.apply(void 0, [element, 'changeText'].concat(data));
};
fireEvent.scroll = function (element) {
  for (var _len4 = arguments.length, data = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
    data[_key4 - 1] = arguments[_key4];
  }
  return fireEvent.apply(void 0, [element, 'scroll'].concat(data));
};
function fireEventAsync(_x, _x2) {
  return _fireEventAsync.apply(this, arguments);
}
function _fireEventAsync() {
  _fireEventAsync = (0, _asyncToGenerator2.default)(function* (element, eventName) {
    for (var _len5 = arguments.length, data = new Array(_len5 > 2 ? _len5 - 2 : 0), _key5 = 2; _key5 < _len5; _key5++) {
      data[_key5 - 2] = arguments[_key5];
    }
    if (!(0, _componentTree.isElementMounted)(element)) {
      return;
    }
    setNativeStateIfNeeded(element, eventName, data[0]);
    var handler = findEventHandler(element, eventName);
    if (!handler) {
      return;
    }
    var returnValue;
    yield (0, _act.default)((0, _asyncToGenerator2.default)(function* () {
      returnValue = handler.apply(void 0, data);
    }));
    return returnValue;
  });
  return _fireEventAsync.apply(this, arguments);
}
fireEventAsync.press = function () {
  var _ref = (0, _asyncToGenerator2.default)(function* (element) {
    for (var _len6 = arguments.length, data = new Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {
      data[_key6 - 1] = arguments[_key6];
    }
    return yield fireEventAsync.apply(void 0, [element, 'press'].concat(data));
  });
  return function (_x3) {
    return _ref.apply(this, arguments);
  };
}();
fireEventAsync.changeText = function () {
  var _ref2 = (0, _asyncToGenerator2.default)(function* (element) {
    for (var _len7 = arguments.length, data = new Array(_len7 > 1 ? _len7 - 1 : 0), _key7 = 1; _key7 < _len7; _key7++) {
      data[_key7 - 1] = arguments[_key7];
    }
    return yield fireEventAsync.apply(void 0, [element, 'changeText'].concat(data));
  });
  return function (_x4) {
    return _ref2.apply(this, arguments);
  };
}();
fireEventAsync.scroll = function () {
  var _ref3 = (0, _asyncToGenerator2.default)(function* (element) {
    for (var _len8 = arguments.length, data = new Array(_len8 > 1 ? _len8 - 1 : 0), _key8 = 1; _key8 < _len8; _key8++) {
      data[_key8 - 1] = arguments[_key8];
    }
    return yield fireEventAsync.apply(void 0, [element, 'scroll'].concat(data));
  });
  return function (_x5) {
    return _ref3.apply(this, arguments);
  };
}();
var _default = exports.default = fireEvent;
var scrollEventNames = new Set(['scroll', 'scrollBeginDrag', 'scrollEndDrag', 'momentumScrollBegin', 'momentumScrollEnd']);
function setNativeStateIfNeeded(element, eventName, value) {
  if (eventName === 'changeText' && typeof value === 'string' && (0, _textInput.isEditableTextInput)(element)) {
    _nativeState.nativeState.valueForElement.set(element, value);
  }
  if (scrollEventNames.has(eventName) && (0, _hostComponentNames.isHostScrollView)(element)) {
    var contentOffset = tryGetContentOffset(value);
    if (contentOffset) {
      _nativeState.nativeState.contentOffsetForElement.set(element, contentOffset);
    }
  }
}
function tryGetContentOffset(event) {
  try {
    var _event$nativeEvent;
    var contentOffset = event == null || (_event$nativeEvent = event.nativeEvent) == null ? void 0 : _event$nativeEvent.contentOffset;
    var x = contentOffset == null ? void 0 : contentOffset.x;
    var y = contentOffset == null ? void 0 : contentOffset.y;
    if (typeof x === 'number' || typeof y === 'number') {
      return {
        x: Number.isFinite(x) ? x : 0,
        y: Number.isFinite(y) ? y : 0
      };
    }
  } catch (_unused) {}
  return null;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYWN0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZXZlbnRIYW5kbGVyIiwiX2NvbXBvbmVudFRyZWUiLCJfaG9zdENvbXBvbmVudE5hbWVzIiwiX3BvaW50ZXJFdmVudHMiLCJfdGV4dElucHV0IiwiX25hdGl2ZVN0YXRlIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiaXNUb3VjaFJlc3BvbmRlciIsImVsZW1lbnQiLCJpc0hvc3RFbGVtZW50IiwiQm9vbGVhbiIsInByb3BzIiwib25TdGFydFNob3VsZFNldFJlc3BvbmRlciIsImlzSG9zdFRleHRJbnB1dCIsImV2ZW50c0FmZmVjdGVkQnlQb2ludGVyRXZlbnRzUHJvcCIsIlNldCIsInRleHRJbnB1dEV2ZW50c0lnbm9yaW5nRWRpdGFibGVQcm9wIiwiaXNFdmVudEVuYWJsZWQiLCJldmVudE5hbWUiLCJuZWFyZXN0VG91Y2hSZXNwb25kZXIiLCJpc0VkaXRhYmxlVGV4dElucHV0IiwiaGFzIiwiaXNQb2ludGVyRXZlbnRFbmFibGVkIiwidG91Y2hTdGFydCIsInRvdWNoTW92ZSIsIm9uTW92ZVNob3VsZFNldFJlc3BvbmRlciIsInVuZGVmaW5lZCIsImZpbmRFdmVudEhhbmRsZXIiLCJ0b3VjaFJlc3BvbmRlciIsImhhbmRsZXIiLCJnZXRFdmVudEhhbmRsZXIiLCJsb29zZSIsInBhcmVudCIsImZpcmVFdmVudCIsIl9sZW4iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJkYXRhIiwiQXJyYXkiLCJfa2V5IiwiaXNFbGVtZW50TW91bnRlZCIsInNldE5hdGl2ZVN0YXRlSWZOZWVkZWQiLCJyZXR1cm5WYWx1ZSIsImFwcGx5IiwicHJlc3MiLCJfbGVuMiIsIl9rZXkyIiwiY29uY2F0IiwiY2hhbmdlVGV4dCIsIl9sZW4zIiwiX2tleTMiLCJzY3JvbGwiLCJfbGVuNCIsIl9rZXk0IiwiZmlyZUV2ZW50QXN5bmMiLCJfeCIsIl94MiIsIl9maXJlRXZlbnRBc3luYyIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9sZW41IiwiX2tleTUiLCJfcmVmIiwiX2xlbjYiLCJfa2V5NiIsIl94MyIsIl9yZWYyIiwiX2xlbjciLCJfa2V5NyIsIl94NCIsIl9yZWYzIiwiX2xlbjgiLCJfa2V5OCIsIl94NSIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInNjcm9sbEV2ZW50TmFtZXMiLCJ2YWx1ZSIsIm5hdGl2ZVN0YXRlIiwidmFsdWVGb3JFbGVtZW50Iiwic2V0IiwiaXNIb3N0U2Nyb2xsVmlldyIsImNvbnRlbnRPZmZzZXQiLCJ0cnlHZXRDb250ZW50T2Zmc2V0IiwiY29udGVudE9mZnNldEZvckVsZW1lbnQiLCJldmVudCIsIl9ldmVudCRuYXRpdmVFdmVudCIsIm5hdGl2ZUV2ZW50IiwieCIsInkiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsIl91bnVzZWQiXSwic291cmNlcyI6WyIuLi9zcmMvZmlyZS1ldmVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7XG4gIFByZXNzYWJsZVByb3BzLFxuICBTY3JvbGxWaWV3UHJvcHMsXG4gIFRleHRJbnB1dFByb3BzLFxuICBUZXh0UHJvcHMsXG4gIFZpZXdQcm9wcyxcbn0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCB0eXBlIHsgUmVhY3RUZXN0SW5zdGFuY2UgfSBmcm9tICdyZWFjdC10ZXN0LXJlbmRlcmVyJztcblxuaW1wb3J0IGFjdCBmcm9tICcuL2FjdCc7XG5pbXBvcnQgeyBnZXRFdmVudEhhbmRsZXIgfSBmcm9tICcuL2V2ZW50LWhhbmRsZXInO1xuaW1wb3J0IHsgaXNFbGVtZW50TW91bnRlZCwgaXNIb3N0RWxlbWVudCB9IGZyb20gJy4vaGVscGVycy9jb21wb25lbnQtdHJlZSc7XG5pbXBvcnQgeyBpc0hvc3RTY3JvbGxWaWV3LCBpc0hvc3RUZXh0SW5wdXQgfSBmcm9tICcuL2hlbHBlcnMvaG9zdC1jb21wb25lbnQtbmFtZXMnO1xuaW1wb3J0IHsgaXNQb2ludGVyRXZlbnRFbmFibGVkIH0gZnJvbSAnLi9oZWxwZXJzL3BvaW50ZXItZXZlbnRzJztcbmltcG9ydCB7IGlzRWRpdGFibGVUZXh0SW5wdXQgfSBmcm9tICcuL2hlbHBlcnMvdGV4dC1pbnB1dCc7XG5pbXBvcnQgeyBuYXRpdmVTdGF0ZSB9IGZyb20gJy4vbmF0aXZlLXN0YXRlJztcbmltcG9ydCB0eXBlIHsgUG9pbnQsIFN0cmluZ1dpdGhBdXRvY29tcGxldGUgfSBmcm9tICcuL3R5cGVzJztcblxudHlwZSBFdmVudEhhbmRsZXIgPSAoLi4uYXJnczogdW5rbm93bltdKSA9PiB1bmtub3duO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNUb3VjaFJlc3BvbmRlcihlbGVtZW50OiBSZWFjdFRlc3RJbnN0YW5jZSkge1xuICBpZiAoIWlzSG9zdEVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gQm9vbGVhbihlbGVtZW50LnByb3BzLm9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXIpIHx8IGlzSG9zdFRleHRJbnB1dChlbGVtZW50KTtcbn1cblxuLyoqXG4gKiBMaXN0IG9mIGV2ZW50cyBhZmZlY3RlZCBieSBgcG9pbnRlckV2ZW50c2AgcHJvcC5cbiAqXG4gKiBOb3RlOiBgZmlyZUV2ZW50YCBpcyBhY2NlcHRpbmcgYm90aCBgcHJlc3NgIGFuZCBgb25QcmVzc2AgZm9yIGV2ZW50IG5hbWVzLFxuICogc28gd2UgbmVlZCBjb3ZlciBib3RoIGZvcm1zLlxuICovXG5jb25zdCBldmVudHNBZmZlY3RlZEJ5UG9pbnRlckV2ZW50c1Byb3AgPSBuZXcgU2V0KFsncHJlc3MnLCAnb25QcmVzcyddKTtcblxuLyoqXG4gKiBMaXN0IG9mIGBUZXh0SW5wdXRgIGV2ZW50cyBub3QgYWZmZWN0ZWQgYnkgYGVkaXRhYmxlYCBwcm9wLlxuICpcbiAqIE5vdGU6IGBmaXJlRXZlbnRgIGlzIGFjY2VwdGluZyBib3RoIGBwcmVzc2AgYW5kIGBvblByZXNzYCBmb3IgZXZlbnQgbmFtZXMsXG4gKiBzbyB3ZSBuZWVkIGNvdmVyIGJvdGggZm9ybXMuXG4gKi9cbmNvbnN0IHRleHRJbnB1dEV2ZW50c0lnbm9yaW5nRWRpdGFibGVQcm9wID0gbmV3IFNldChbXG4gICdjb250ZW50U2l6ZUNoYW5nZScsXG4gICdvbkNvbnRlbnRTaXplQ2hhbmdlJyxcbiAgJ2xheW91dCcsXG4gICdvbkxheW91dCcsXG4gICdzY3JvbGwnLFxuICAnb25TY3JvbGwnLFxuXSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0V2ZW50RW5hYmxlZChcbiAgZWxlbWVudDogUmVhY3RUZXN0SW5zdGFuY2UsXG4gIGV2ZW50TmFtZTogc3RyaW5nLFxuICBuZWFyZXN0VG91Y2hSZXNwb25kZXI/OiBSZWFjdFRlc3RJbnN0YW5jZSxcbikge1xuICBpZiAobmVhcmVzdFRvdWNoUmVzcG9uZGVyICE9IG51bGwgJiYgaXNIb3N0VGV4dElucHV0KG5lYXJlc3RUb3VjaFJlc3BvbmRlcikpIHtcbiAgICByZXR1cm4gKFxuICAgICAgaXNFZGl0YWJsZVRleHRJbnB1dChuZWFyZXN0VG91Y2hSZXNwb25kZXIpIHx8XG4gICAgICB0ZXh0SW5wdXRFdmVudHNJZ25vcmluZ0VkaXRhYmxlUHJvcC5oYXMoZXZlbnROYW1lKVxuICAgICk7XG4gIH1cblxuICBpZiAoZXZlbnRzQWZmZWN0ZWRCeVBvaW50ZXJFdmVudHNQcm9wLmhhcyhldmVudE5hbWUpICYmICFpc1BvaW50ZXJFdmVudEVuYWJsZWQoZWxlbWVudCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCB0b3VjaFN0YXJ0ID0gbmVhcmVzdFRvdWNoUmVzcG9uZGVyPy5wcm9wcy5vblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyPy4oKTtcbiAgY29uc3QgdG91Y2hNb3ZlID0gbmVhcmVzdFRvdWNoUmVzcG9uZGVyPy5wcm9wcy5vbk1vdmVTaG91bGRTZXRSZXNwb25kZXI/LigpO1xuICBpZiAodG91Y2hTdGFydCB8fCB0b3VjaE1vdmUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiB0b3VjaFN0YXJ0ID09PSB1bmRlZmluZWQgJiYgdG91Y2hNb3ZlID09PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGZpbmRFdmVudEhhbmRsZXIoXG4gIGVsZW1lbnQ6IFJlYWN0VGVzdEluc3RhbmNlLFxuICBldmVudE5hbWU6IHN0cmluZyxcbiAgbmVhcmVzdFRvdWNoUmVzcG9uZGVyPzogUmVhY3RUZXN0SW5zdGFuY2UsXG4pOiBFdmVudEhhbmRsZXIgfCBudWxsIHtcbiAgY29uc3QgdG91Y2hSZXNwb25kZXIgPSBpc1RvdWNoUmVzcG9uZGVyKGVsZW1lbnQpID8gZWxlbWVudCA6IG5lYXJlc3RUb3VjaFJlc3BvbmRlcjtcblxuICBjb25zdCBoYW5kbGVyID0gZ2V0RXZlbnRIYW5kbGVyKGVsZW1lbnQsIGV2ZW50TmFtZSwgeyBsb29zZTogdHJ1ZSB9KTtcbiAgaWYgKGhhbmRsZXIgJiYgaXNFdmVudEVuYWJsZWQoZWxlbWVudCwgZXZlbnROYW1lLCB0b3VjaFJlc3BvbmRlcikpIHtcbiAgICByZXR1cm4gaGFuZGxlcjtcbiAgfVxuXG4gIGlmIChlbGVtZW50LnBhcmVudCA9PT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGZpbmRFdmVudEhhbmRsZXIoZWxlbWVudC5wYXJlbnQsIGV2ZW50TmFtZSwgdG91Y2hSZXNwb25kZXIpO1xufVxuXG4vLyBTdHJpbmcgdW5pb24gdHlwZSBvZiBrZXlzIG9mIFQgdGhhdCBzdGFydCB3aXRoIG9uLCBzdHJpcHBlZCBvZiAnb24nXG50eXBlIEV2ZW50TmFtZUV4dHJhY3RvcjxUPiA9IGtleW9mIHtcbiAgW0sgaW4ga2V5b2YgVCBhcyBLIGV4dGVuZHMgYG9uJHtpbmZlciBSZXN0fWAgPyBVbmNhcGl0YWxpemU8UmVzdD4gOiBuZXZlcl06IFRbS107XG59O1xuXG50eXBlIEV2ZW50TmFtZSA9IFN0cmluZ1dpdGhBdXRvY29tcGxldGU8XG4gIHwgRXZlbnROYW1lRXh0cmFjdG9yPFZpZXdQcm9wcz5cbiAgfCBFdmVudE5hbWVFeHRyYWN0b3I8VGV4dFByb3BzPlxuICB8IEV2ZW50TmFtZUV4dHJhY3RvcjxUZXh0SW5wdXRQcm9wcz5cbiAgfCBFdmVudE5hbWVFeHRyYWN0b3I8UHJlc3NhYmxlUHJvcHM+XG4gIHwgRXZlbnROYW1lRXh0cmFjdG9yPFNjcm9sbFZpZXdQcm9wcz5cbj47XG5cbmZ1bmN0aW9uIGZpcmVFdmVudChlbGVtZW50OiBSZWFjdFRlc3RJbnN0YW5jZSwgZXZlbnROYW1lOiBFdmVudE5hbWUsIC4uLmRhdGE6IHVua25vd25bXSkge1xuICBpZiAoIWlzRWxlbWVudE1vdW50ZWQoZWxlbWVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBzZXROYXRpdmVTdGF0ZUlmTmVlZGVkKGVsZW1lbnQsIGV2ZW50TmFtZSwgZGF0YVswXSk7XG5cbiAgY29uc3QgaGFuZGxlciA9IGZpbmRFdmVudEhhbmRsZXIoZWxlbWVudCwgZXZlbnROYW1lKTtcbiAgaWYgKCFoYW5kbGVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IHJldHVyblZhbHVlO1xuICB2b2lkIGFjdCgoKSA9PiB7XG4gICAgcmV0dXJuVmFsdWUgPSBoYW5kbGVyKC4uLmRhdGEpO1xuICB9KTtcblxuICByZXR1cm4gcmV0dXJuVmFsdWU7XG59XG5cbmZpcmVFdmVudC5wcmVzcyA9IChlbGVtZW50OiBSZWFjdFRlc3RJbnN0YW5jZSwgLi4uZGF0YTogdW5rbm93bltdKSA9PlxuICBmaXJlRXZlbnQoZWxlbWVudCwgJ3ByZXNzJywgLi4uZGF0YSk7XG5cbmZpcmVFdmVudC5jaGFuZ2VUZXh0ID0gKGVsZW1lbnQ6IFJlYWN0VGVzdEluc3RhbmNlLCAuLi5kYXRhOiB1bmtub3duW10pID0+XG4gIGZpcmVFdmVudChlbGVtZW50LCAnY2hhbmdlVGV4dCcsIC4uLmRhdGEpO1xuXG5maXJlRXZlbnQuc2Nyb2xsID0gKGVsZW1lbnQ6IFJlYWN0VGVzdEluc3RhbmNlLCAuLi5kYXRhOiB1bmtub3duW10pID0+XG4gIGZpcmVFdmVudChlbGVtZW50LCAnc2Nyb2xsJywgLi4uZGF0YSk7XG5cbmFzeW5jIGZ1bmN0aW9uIGZpcmVFdmVudEFzeW5jKFxuICBlbGVtZW50OiBSZWFjdFRlc3RJbnN0YW5jZSxcbiAgZXZlbnROYW1lOiBFdmVudE5hbWUsXG4gIC4uLmRhdGE6IHVua25vd25bXVxuKSB7XG4gIGlmICghaXNFbGVtZW50TW91bnRlZChlbGVtZW50KSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHNldE5hdGl2ZVN0YXRlSWZOZWVkZWQoZWxlbWVudCwgZXZlbnROYW1lLCBkYXRhWzBdKTtcblxuICBjb25zdCBoYW5kbGVyID0gZmluZEV2ZW50SGFuZGxlcihlbGVtZW50LCBldmVudE5hbWUpO1xuICBpZiAoIWhhbmRsZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgcmV0dXJuVmFsdWU7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZXF1aXJlLWF3YWl0XG4gIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuVmFsdWUgPSBoYW5kbGVyKC4uLmRhdGEpO1xuICB9KTtcblxuICByZXR1cm4gcmV0dXJuVmFsdWU7XG59XG5cbmZpcmVFdmVudEFzeW5jLnByZXNzID0gYXN5bmMgKGVsZW1lbnQ6IFJlYWN0VGVzdEluc3RhbmNlLCAuLi5kYXRhOiB1bmtub3duW10pID0+XG4gIGF3YWl0IGZpcmVFdmVudEFzeW5jKGVsZW1lbnQsICdwcmVzcycsIC4uLmRhdGEpO1xuXG5maXJlRXZlbnRBc3luYy5jaGFuZ2VUZXh0ID0gYXN5bmMgKGVsZW1lbnQ6IFJlYWN0VGVzdEluc3RhbmNlLCAuLi5kYXRhOiB1bmtub3duW10pID0+XG4gIGF3YWl0IGZpcmVFdmVudEFzeW5jKGVsZW1lbnQsICdjaGFuZ2VUZXh0JywgLi4uZGF0YSk7XG5cbmZpcmVFdmVudEFzeW5jLnNjcm9sbCA9IGFzeW5jIChlbGVtZW50OiBSZWFjdFRlc3RJbnN0YW5jZSwgLi4uZGF0YTogdW5rbm93bltdKSA9PlxuICBhd2FpdCBmaXJlRXZlbnRBc3luYyhlbGVtZW50LCAnc2Nyb2xsJywgLi4uZGF0YSk7XG5cbmV4cG9ydCB7IGZpcmVFdmVudEFzeW5jIH07XG5leHBvcnQgZGVmYXVsdCBmaXJlRXZlbnQ7XG5cbmNvbnN0IHNjcm9sbEV2ZW50TmFtZXMgPSBuZXcgU2V0KFtcbiAgJ3Njcm9sbCcsXG4gICdzY3JvbGxCZWdpbkRyYWcnLFxuICAnc2Nyb2xsRW5kRHJhZycsXG4gICdtb21lbnR1bVNjcm9sbEJlZ2luJyxcbiAgJ21vbWVudHVtU2Nyb2xsRW5kJyxcbl0pO1xuXG5mdW5jdGlvbiBzZXROYXRpdmVTdGF0ZUlmTmVlZGVkKGVsZW1lbnQ6IFJlYWN0VGVzdEluc3RhbmNlLCBldmVudE5hbWU6IHN0cmluZywgdmFsdWU6IHVua25vd24pIHtcbiAgaWYgKGV2ZW50TmFtZSA9PT0gJ2NoYW5nZVRleHQnICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgaXNFZGl0YWJsZVRleHRJbnB1dChlbGVtZW50KSkge1xuICAgIG5hdGl2ZVN0YXRlLnZhbHVlRm9yRWxlbWVudC5zZXQoZWxlbWVudCwgdmFsdWUpO1xuICB9XG5cbiAgaWYgKHNjcm9sbEV2ZW50TmFtZXMuaGFzKGV2ZW50TmFtZSkgJiYgaXNIb3N0U2Nyb2xsVmlldyhlbGVtZW50KSkge1xuICAgIGNvbnN0IGNvbnRlbnRPZmZzZXQgPSB0cnlHZXRDb250ZW50T2Zmc2V0KHZhbHVlKTtcbiAgICBpZiAoY29udGVudE9mZnNldCkge1xuICAgICAgbmF0aXZlU3RhdGUuY29udGVudE9mZnNldEZvckVsZW1lbnQuc2V0KGVsZW1lbnQsIGNvbnRlbnRPZmZzZXQpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB0cnlHZXRDb250ZW50T2Zmc2V0KGV2ZW50OiB1bmtub3duKTogUG9pbnQgfCBudWxsIHtcbiAgdHJ5IHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB0cnkgdG8gZXh0cmFjdCBjb250ZW50T2Zmc2V0IGZyb20gdGhlIGV2ZW50IHZhbHVlXG4gICAgY29uc3QgY29udGVudE9mZnNldCA9IGV2ZW50Py5uYXRpdmVFdmVudD8uY29udGVudE9mZnNldDtcbiAgICBjb25zdCB4ID0gY29udGVudE9mZnNldD8ueDtcbiAgICBjb25zdCB5ID0gY29udGVudE9mZnNldD8ueTtcbiAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInIHx8IHR5cGVvZiB5ID09PSAnbnVtYmVyJykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogTnVtYmVyLmlzRmluaXRlKHgpID8geCA6IDAsXG4gICAgICAgIHk6IE51bWJlci5pc0Zpbml0ZSh5KSA/IHkgOiAwLFxuICAgICAgfTtcbiAgICB9XG4gIH0gY2F0Y2gge1xuICAgIC8vIERvIG5vdGhpbmdcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQVNBLElBQUFBLElBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGFBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLGNBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLG1CQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxjQUFBLEdBQUFKLE9BQUE7QUFDQSxJQUFBSyxVQUFBLEdBQUFMLE9BQUE7QUFDQSxJQUFBTSxZQUFBLEdBQUFOLE9BQUE7QUFBNkMsU0FBQUQsdUJBQUFRLENBQUE7RUFBQSxPQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBO0lBQUFFLE9BQUEsRUFBQUY7RUFBQTtBQUFBO0FBS3RDLFNBQVNHLGdCQUFnQkEsQ0FBQ0MsT0FBMEIsRUFBRTtFQUMzRCxJQUFJLENBQUMsSUFBQVQsY0FBQSxDQUFBVSxhQUFhLEVBQUNELE9BQU8sQ0FBQyxFQUFFO0lBQzNCLE9BQU8sS0FBSztFQUNkO0VBRUEsT0FBT0UsT0FBTyxDQUFDRixPQUFPLENBQUNHLEtBQUssQ0FBQ0MseUJBQXlCLENBQUMsSUFBSSxJQUFBWixtQkFBQSxDQUFBYSxlQUFlLEVBQUNMLE9BQU8sQ0FBQztBQUNyRjtBQVFBLElBQU1NLGlDQUFpQyxHQUFH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