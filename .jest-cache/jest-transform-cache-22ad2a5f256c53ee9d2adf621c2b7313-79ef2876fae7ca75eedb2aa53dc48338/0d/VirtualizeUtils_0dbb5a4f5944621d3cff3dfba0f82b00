43bbe00f1682bd01b94381d02bf82f51
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.computeWindowedRenderLimits = computeWindowedRenderLimits;
exports.elementsThatOverlapOffsets = elementsThatOverlapOffsets;
exports.keyExtractor = keyExtractor;
exports.newRangeCount = newRangeCount;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var ReactNativeFeatureFlags = _interopRequireWildcard(require("react-native/src/private/featureflags/ReactNativeFeatureFlags"));
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function elementsThatOverlapOffsets(offsets, props, listMetrics) {
  var zoomScale = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;
  var itemCount = props.getItemCount(props.data);
  var result = [];
  for (var offsetIndex = 0; offsetIndex < offsets.length; offsetIndex++) {
    var currentOffset = offsets[offsetIndex];
    var left = 0;
    var right = itemCount - 1;
    while (left <= right) {
      var mid = left + Math.floor((right - left) / 2);
      var frame = listMetrics.getCellMetricsApprox(mid, props);
      var scaledOffsetStart = frame.offset * zoomScale;
      var scaledOffsetEnd = (frame.offset + frame.length) * zoomScale;
      if (mid === 0 && currentOffset < scaledOffsetStart || mid !== 0 && currentOffset <= scaledOffsetStart) {
        right = mid - 1;
      } else if (currentOffset > scaledOffsetEnd) {
        left = mid + 1;
      } else {
        result[offsetIndex] = mid;
        break;
      }
    }
  }
  return result;
}
function newRangeCount(prev, next) {
  return next.last - next.first + 1 - Math.max(0, 1 + Math.min(next.last, prev.last) - Math.max(next.first, prev.first));
}
function computeWindowedRenderLimits(props, maxToRenderPerBatch, windowSize, prev, listMetrics, scrollMetrics) {
  var itemCount = props.getItemCount(props.data);
  if (itemCount === 0) {
    return {
      first: 0,
      last: -1
    };
  }
  var offset = scrollMetrics.offset,
    velocity = scrollMetrics.velocity,
    visibleLength = scrollMetrics.visibleLength,
    _scrollMetrics$zoomSc = scrollMetrics.zoomScale,
    zoomScale = _scrollMetrics$zoomSc === void 0 ? 1 : _scrollMetrics$zoomSc;
  var visibleBegin = Math.max(0, offset);
  var visibleEnd = visibleBegin + visibleLength;
  var overscanLength = (windowSize - 1) * visibleLength;
  var leadFactor = 0.5;
  var fillPreference = velocity > 1 ? 'after' : velocity < -1 ? 'before' : 'none';
  var overscanBegin = Math.max(0, visibleBegin - (1 - leadFactor) * overscanLength);
  var overscanEnd = Math.max(0, visibleEnd + leadFactor * overscanLength);
  var lastItemOffset = listMetrics.getCellMetricsApprox(itemCount - 1, props).offset * zoomScale;
  if (lastItemOffset < overscanBegin) {
    return {
      first: Math.max(0, itemCount - 1 - maxToRenderPerBatch),
      last: itemCount - 1
    };
  }
  var _elementsThatOverlapO = elementsThatOverlapOffsets([overscanBegin, visibleBegin, visibleEnd, overscanEnd], props, listMetrics, zoomScale),
    _elementsThatOverlapO2 = (0, _slicedToArray2.default)(_elementsThatOverlapO, 4),
    overscanFirst = _elementsThatOverlapO2[0],
    first = _elementsThatOverlapO2[1],
    last = _elementsThatOverlapO2[2],
    overscanLast = _elementsThatOverlapO2[3];
  overscanFirst = overscanFirst == null ? 0 : overscanFirst;
  first = first == null ? Math.max(0, overscanFirst) : first;
  overscanLast = overscanLast == null ? itemCount - 1 : overscanLast;
  last = last == null ? Math.min(overscanLast, first + maxToRenderPerBatch - 1) : last;
  var visible = {
    first: first,
    last: last
  };
  var newCellCount = newRangeCount(prev, visible);
  while (true) {
    if (first <= overscanFirst && last >= overscanLast) {
      break;
    }
    var maxNewCells = newCellCount >= maxToRenderPerBatch;
    var firstWillAddMore = void 0;
    var lastWillAddMore = void 0;
    if (ReactNativeFeatureFlags.fixVirtualizeListCollapseWindowSize()) {
      firstWillAddMore = first <= prev.first;
      lastWillAddMore = last >= prev.last;
    } else {
      firstWillAddMore = first <= prev.first || first > prev.last;
      lastWillAddMore = last >= prev.last || last < prev.first;
    }
    var firstShouldIncrement = first > overscanFirst && (!maxNewCells || !firstWillAddMore);
    var lastShouldIncrement = last < overscanLast && (!maxNewCells || !lastWillAddMore);
    if (maxNewCells && !firstShouldIncrement && !lastShouldIncrement) {
      break;
    }
    if (firstShouldIncrement && !(fillPreference === 'after' && lastShouldIncrement && lastWillAddMore)) {
      if (firstWillAddMore) {
        newCellCount++;
      }
      first--;
    }
    if (lastShouldIncrement && !(fillPreference === 'before' && firstShouldIncrement && firstWillAddMore)) {
      if (lastWillAddMore) {
        newCellCount++;
      }
      last++;
    }
  }
  if (!(last >= first && first >= 0 && last < itemCount && first >= overscanFirst && last <= overscanLast && first <= visible.first && last >= visible.last)) {
    throw new Error('Bad window calculation ' + JSON.stringify({
      first: first,
      last: last,
      itemCount: itemCount,
      overscanFirst: overscanFirst,
      overscanLast: overscanLast,
      visible: visible
    }));
  }
  return {
    first: first,
    last: last
  };
}
function keyExtractor(item, index) {
  if (typeof item === 'object' && (item == null ? void 0 : item.key) != null) {
    return item.key;
  }
  if (typeof item === 'object' && (item == null ? void 0 : item.id) != null) {
    return item.id;
  }
  return String(index);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiY29tcHV0ZVdpbmRvd2VkUmVuZGVyTGltaXRzIiwiZWxlbWVudHNUaGF0T3ZlcmxhcE9mZnNldHMiLCJrZXlFeHRyYWN0b3IiLCJuZXdSYW5nZUNvdW50IiwiX3NsaWNlZFRvQXJyYXkyIiwiUmVhY3ROYXRpdmVGZWF0dXJlRmxhZ3MiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsImUiLCJ0IiwiV2Vha01hcCIsInIiLCJuIiwiX19lc01vZHVsZSIsIm8iLCJpIiwiZiIsIl9fcHJvdG9fXyIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJzZXQiLCJfdCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIm9mZnNldHMiLCJwcm9wcyIsImxpc3RNZXRyaWNzIiwiem9vbVNjYWxlIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiaXRlbUNvdW50IiwiZ2V0SXRlbUNvdW50IiwiZGF0YSIsInJlc3VsdCIsIm9mZnNldEluZGV4IiwiY3VycmVudE9mZnNldCIsImxlZnQiLCJyaWdodCIsIm1pZCIsIk1hdGgiLCJmbG9vciIsImZyYW1lIiwiZ2V0Q2VsbE1ldHJpY3NBcHByb3giLCJzY2FsZWRPZmZzZXRTdGFydCIsIm9mZnNldCIsInNjYWxlZE9mZnNldEVuZCIsInByZXYiLCJuZXh0IiwibGFzdCIsImZpcnN0IiwibWF4IiwibWluIiwibWF4VG9SZW5kZXJQZXJCYXRjaCIsIndpbmRvd1NpemUiLCJzY3JvbGxNZXRyaWNzIiwidmVsb2NpdHkiLCJ2aXNpYmxlTGVuZ3RoIiwiX3Njcm9sbE1ldHJpY3Mkem9vbVNjIiwidmlzaWJsZUJlZ2luIiwidmlzaWJsZUVuZCIsIm92ZXJzY2FuTGVuZ3RoIiwibGVhZEZhY3RvciIsImZpbGxQcmVmZXJlbmNlIiwib3ZlcnNjYW5CZWdpbiIsIm92ZXJzY2FuRW5kIiwibGFzdEl0ZW1PZmZzZXQiLCJfZWxlbWVudHNUaGF0T3ZlcmxhcE8iLCJfZWxlbWVudHNUaGF0T3ZlcmxhcE8yIiwib3ZlcnNjYW5GaXJzdCIsIm92ZXJzY2FuTGFzdCIsInZpc2libGUiLCJuZXdDZWxsQ291bnQiLCJtYXhOZXdDZWxscyIsImZpcnN0V2lsbEFkZE1vcmUiLCJsYXN0V2lsbEFkZE1vcmUiLCJmaXhWaXJ0dWFsaXplTGlzdENvbGxhcHNlV2luZG93U2l6ZSIsImZpcnN0U2hvdWxkSW5jcmVtZW50IiwibGFzdFNob3VsZEluY3JlbWVudCIsIkVycm9yIiwiSlNPTiIsInN0cmluZ2lmeSIsIml0ZW0iLCJpbmRleCIsImtleSIsImlkIiwiU3RyaW5nIl0sInNvdXJjZXMiOlsiVmlydHVhbGl6ZVV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHR5cGUgTGlzdE1ldHJpY3NBZ2dyZWdhdG9yLCB7XG4gIENlbGxNZXRyaWNQcm9wcyxcbn0gZnJvbSAnLi9MaXN0TWV0cmljc0FnZ3JlZ2F0b3InO1xuXG5pbXBvcnQgKiBhcyBSZWFjdE5hdGl2ZUZlYXR1cmVGbGFncyBmcm9tICdyZWFjdC1uYXRpdmUvc3JjL3ByaXZhdGUvZmVhdHVyZWZsYWdzL1JlYWN0TmF0aXZlRmVhdHVyZUZsYWdzJztcblxuLyoqXG4gKiBVc2VkIHRvIGZpbmQgdGhlIGluZGljZXMgb2YgdGhlIGZyYW1lcyB0aGF0IG92ZXJsYXAgdGhlIGdpdmVuIG9mZnNldHMuIFVzZWZ1bCBmb3IgZmluZGluZyB0aGVcbiAqIGl0ZW1zIHRoYXQgYm91bmQgZGlmZmVyZW50IHdpbmRvd3Mgb2YgY29udGVudCwgc3VjaCBhcyB0aGUgdmlzaWJsZSBhcmVhIG9yIHRoZSBidWZmZXJlZCBvdmVyc2NhblxuICogYXJlYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnRzVGhhdE92ZXJsYXBPZmZzZXRzKFxuICBvZmZzZXRzOiBBcnJheTxudW1iZXI+LFxuICBwcm9wczogQ2VsbE1ldHJpY1Byb3BzLFxuICBsaXN0TWV0cmljczogTGlzdE1ldHJpY3NBZ2dyZWdhdG9yLFxuICB6b29tU2NhbGU6IG51bWJlciA9IDEsXG4pOiBBcnJheTxudW1iZXI+IHtcbiAgY29uc3QgaXRlbUNvdW50ID0gcHJvcHMuZ2V0SXRlbUNvdW50KHByb3BzLmRhdGEpO1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgZm9yIChsZXQgb2Zmc2V0SW5kZXggPSAwOyBvZmZzZXRJbmRleCA8IG9mZnNldHMubGVuZ3RoOyBvZmZzZXRJbmRleCsrKSB7XG4gICAgY29uc3QgY3VycmVudE9mZnNldCA9IG9mZnNldHNbb2Zmc2V0SW5kZXhdO1xuICAgIGxldCBsZWZ0ID0gMDtcbiAgICBsZXQgcmlnaHQgPSBpdGVtQ291bnQgLSAxO1xuXG4gICAgd2hpbGUgKGxlZnQgPD0gcmlnaHQpIHtcbiAgICAgIGNvbnN0IG1pZCA9IGxlZnQgKyBNYXRoLmZsb29yKChyaWdodCAtIGxlZnQpIC8gMik7XG4gICAgICBjb25zdCBmcmFtZSA9IGxpc3RNZXRyaWNzLmdldENlbGxNZXRyaWNzQXBwcm94KG1pZCwgcHJvcHMpO1xuICAgICAgY29uc3Qgc2NhbGVkT2Zmc2V0U3RhcnQgPSBmcmFtZS5vZmZzZXQgKiB6b29tU2NhbGU7XG4gICAgICBjb25zdCBzY2FsZWRPZmZzZXRFbmQgPSAoZnJhbWUub2Zmc2V0ICsgZnJhbWUubGVuZ3RoKSAqIHpvb21TY2FsZTtcblxuICAgICAgLy8gV2Ugd2FudCB0aGUgZmlyc3QgZnJhbWUgdGhhdCBjb250YWlucyB0aGUgb2Zmc2V0LCB3aXRoIGluY2x1c2l2ZSBib3VuZHMuIFRodXMsIGZvciB0aGVcbiAgICAgIC8vIGZpcnN0IGZyYW1lIHRoZSBzY2FsZWRPZmZzZXRTdGFydCBpcyBpbmNsdXNpdmUsIHdoaWxlIGZvciBvdGhlciBmcmFtZXMgaXQgaXMgZXhjbHVzaXZlLlxuICAgICAgaWYgKFxuICAgICAgICAobWlkID09PSAwICYmIGN1cnJlbnRPZmZzZXQgPCBzY2FsZWRPZmZzZXRTdGFydCkgfHxcbiAgICAgICAgKG1pZCAhPT0gMCAmJiBjdXJyZW50T2Zmc2V0IDw9IHNjYWxlZE9mZnNldFN0YXJ0KVxuICAgICAgKSB7XG4gICAgICAgIHJpZ2h0ID0gbWlkIC0gMTtcbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudE9mZnNldCA+IHNjYWxlZE9mZnNldEVuZCkge1xuICAgICAgICBsZWZ0ID0gbWlkICsgMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFtvZmZzZXRJbmRleF0gPSBtaWQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGUgYG5leHRgIHJhbmdlIHRoYXQgYXJlIG5ldyBjb21wYXJlZCB0byB0aGUgYHByZXZgIHJhbmdlLlxuICogSGFuZHkgZm9yIGNhbGN1bGF0aW5nIGhvdyBtYW55IG5ldyBpdGVtcyB3aWxsIGJlIHJlbmRlcmVkIHdoZW4gdGhlIHJlbmRlciB3aW5kb3cgY2hhbmdlcyBzbyB3ZVxuICogY2FuIHJlc3RyaWN0IHRoZSBudW1iZXIgb2YgbmV3IGl0ZW1zIHJlbmRlciBhdCBvbmNlIHNvIHRoYXQgY29udGVudCBjYW4gYXBwZWFyIG9uIHRoZSBzY3JlZW5cbiAqIGZhc3Rlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5ld1JhbmdlQ291bnQoXG4gIHByZXY6IHtcbiAgICBmaXJzdDogbnVtYmVyLFxuICAgIGxhc3Q6IG51bWJlcixcbiAgICAuLi5cbiAgfSxcbiAgbmV4dDoge1xuICAgIGZpcnN0OiBudW1iZXIsXG4gICAgbGFzdDogbnVtYmVyLFxuICAgIC4uLlxuICB9LFxuKTogbnVtYmVyIHtcbiAgcmV0dXJuIChcbiAgICBuZXh0Lmxhc3QgLVxuICAgIG5leHQuZmlyc3QgK1xuICAgIDEgLVxuICAgIE1hdGgubWF4KFxuICAgICAgMCxcbiAgICAgIDEgKyBNYXRoLm1pbihuZXh0Lmxhc3QsIHByZXYubGFzdCkgLSBNYXRoLm1heChuZXh0LmZpcnN0LCBwcmV2LmZpcnN0KSxcbiAgICApXG4gICk7XG59XG5cbi8qKlxuICogQ3VzdG9tIGxvZ2ljIGZvciBkZXRlcm1pbmluZyB3aGljaCBpdGVtcyBzaG91bGQgYmUgcmVuZGVyZWQgZ2l2ZW4gdGhlIGN1cnJlbnQgZnJhbWUgYW5kIHNjcm9sbFxuICogbWV0cmljcywgYXMgd2VsbCBhcyB0aGUgcHJldmlvdXMgcmVuZGVyIHN0YXRlLiBUaGUgYWxnb3JpdGhtIG1heSBldm9sdmUgb3ZlciB0aW1lLCBidXQgZ2VuZXJhbGx5XG4gKiBwcmlvcml0aXplcyB0aGUgdmlzaWJsZSBhcmVhIGZpcnN0LCB0aGVuIGV4cGFuZHMgdGhhdCB3aXRoIG92ZXJzY2FuIHJlZ2lvbnMgYWhlYWQgYW5kIGJlaGluZCxcbiAqIGJpYXNlZCBpbiB0aGUgZGlyZWN0aW9uIG9mIHNjcm9sbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0cyhcbiAgcHJvcHM6IENlbGxNZXRyaWNQcm9wcyxcbiAgbWF4VG9SZW5kZXJQZXJCYXRjaDogbnVtYmVyLFxuICB3aW5kb3dTaXplOiBudW1iZXIsXG4gIHByZXY6IHtcbiAgICBmaXJzdDogbnVtYmVyLFxuICAgIGxhc3Q6IG51bWJlcixcbiAgfSxcbiAgbGlzdE1ldHJpY3M6IExpc3RNZXRyaWNzQWdncmVnYXRvcixcbiAgc2Nyb2xsTWV0cmljczoge1xuICAgIGR0OiBudW1iZXIsXG4gICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgdmVsb2NpdHk6IG51bWJlcixcbiAgICB2aXNpYmxlTGVuZ3RoOiBudW1iZXIsXG4gICAgem9vbVNjYWxlOiBudW1iZXIsXG4gICAgLi4uXG4gIH0sXG4pOiB7XG4gIGZpcnN0OiBudW1iZXIsXG4gIGxhc3Q6IG51bWJlcixcbn0ge1xuICBjb25zdCBpdGVtQ291bnQgPSBwcm9wcy5nZXRJdGVtQ291bnQocHJvcHMuZGF0YSk7XG4gIGlmIChpdGVtQ291bnQgPT09IDApIHtcbiAgICByZXR1cm4ge2ZpcnN0OiAwLCBsYXN0OiAtMX07XG4gIH1cbiAgY29uc3Qge29mZnNldCwgdmVsb2NpdHksIHZpc2libGVMZW5ndGgsIHpvb21TY2FsZSA9IDF9ID0gc2Nyb2xsTWV0cmljcztcblxuICAvLyBTdGFydCB3aXRoIHZpc2libGUgYXJlYSwgdGhlbiBjb21wdXRlIG1heGltdW0gb3ZlcnNjYW4gcmVnaW9uIGJ5IGV4cGFuZGluZyBmcm9tIHRoZXJlLCBiaWFzZWRcbiAgLy8gaW4gdGhlIGRpcmVjdGlvbiBvZiBzY3JvbGwuIFRvdGFsIG92ZXJzY2FuIGFyZWEgaXMgY2FwcGVkLCB3aGljaCBzaG91bGQgY2FwIG1lbW9yeSBjb25zdW1wdGlvblxuICAvLyB0b28uXG4gIGNvbnN0IHZpc2libGVCZWdpbiA9IE1hdGgubWF4KDAsIG9mZnNldCk7XG4gIGNvbnN0IHZpc2libGVFbmQgPSB2aXNpYmxlQmVnaW4gKyB2aXNpYmxlTGVuZ3RoO1xuICBjb25zdCBvdmVyc2Nhbkxlbmd0aCA9ICh3aW5kb3dTaXplIC0gMSkgKiB2aXNpYmxlTGVuZ3RoO1xuXG4gIC8vIENvbnNpZGVyaW5nIHZlbG9jaXR5IHNlZW1zIHRvIGludHJvZHVjZSBtb3JlIGNodXJuIHRoYW4gaXQncyB3b3J0aC5cbiAgY29uc3QgbGVhZEZhY3RvciA9IDAuNTsgLy8gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgdmVsb2NpdHkgLyAyNSArIDAuNSkpO1xuXG4gIGNvbnN0IGZpbGxQcmVmZXJlbmNlID1cbiAgICB2ZWxvY2l0eSA+IDEgPyAnYWZ0ZXInIDogdmVsb2NpdHkgPCAtMSA/ICdiZWZvcmUnIDogJ25vbmUnO1xuXG4gIGNvbnN0IG92ZXJzY2FuQmVnaW4gPSBNYXRoLm1heChcbiAgICAwLFxuICAgIHZpc2libGVCZWdpbiAtICgxIC0gbGVhZEZhY3RvcikgKiBvdmVyc2Nhbkxlbmd0aCxcbiAgKTtcbiAgY29uc3Qgb3ZlcnNjYW5FbmQgPSBNYXRoLm1heCgwLCB2aXNpYmxlRW5kICsgbGVhZEZhY3RvciAqIG92ZXJzY2FuTGVuZ3RoKTtcblxuICBjb25zdCBsYXN0SXRlbU9mZnNldCA9XG4gICAgbGlzdE1ldHJpY3MuZ2V0Q2VsbE1ldHJpY3NBcHByb3goaXRlbUNvdW50IC0gMSwgcHJvcHMpLm9mZnNldCAqIHpvb21TY2FsZTtcbiAgaWYgKGxhc3RJdGVtT2Zmc2V0IDwgb3ZlcnNjYW5CZWdpbikge1xuICAgIC8vIEVudGlyZSBsaXN0IGlzIGJlZm9yZSBvdXIgb3ZlcnNjYW4gd2luZG93XG4gICAgcmV0dXJuIHtcbiAgICAgIGZpcnN0OiBNYXRoLm1heCgwLCBpdGVtQ291bnQgLSAxIC0gbWF4VG9SZW5kZXJQZXJCYXRjaCksXG4gICAgICBsYXN0OiBpdGVtQ291bnQgLSAxLFxuICAgIH07XG4gIH1cblxuICAvLyBGaW5kIHRoZSBpbmRpY2VzIHRoYXQgY29ycmVzcG9uZCB0byB0aGUgaXRlbXMgYXQgdGhlIHJlbmRlciBib3VuZGFyaWVzIHdlJ3JlIHRhcmdldGluZy5cbiAgbGV0IFtvdmVyc2NhbkZpcnN0LCBmaXJzdCwgbGFzdCwgb3ZlcnNjYW5MYXN0XSA9IGVsZW1lbnRzVGhhdE92ZXJsYXBPZmZzZXRzKFxuICAgIFtvdmVyc2NhbkJlZ2luLCB2aXNpYmxlQmVnaW4sIHZpc2libGVFbmQsIG92ZXJzY2FuRW5kXSxcbiAgICBwcm9wcyxcbiAgICBsaXN0TWV0cmljcyxcbiAgICB6b29tU2NhbGUsXG4gICk7XG4gIG92ZXJzY2FuRmlyc3QgPSBvdmVyc2NhbkZpcnN0ID09IG51bGwgPyAwIDogb3ZlcnNjYW5GaXJzdDtcbiAgZmlyc3QgPSBmaXJzdCA9PSBudWxsID8gTWF0aC5tYXgoMCwgb3ZlcnNjYW5GaXJzdCkgOiBmaXJzdDtcbiAgb3ZlcnNjYW5MYXN0ID0gb3ZlcnNjYW5MYXN0ID09IG51bGwgPyBpdGVtQ291bnQgLSAxIDogb3ZlcnNjYW5MYXN0O1xuICBsYXN0ID1cbiAgICBsYXN0ID09IG51bGxcbiAgICAgID8gTWF0aC5taW4ob3ZlcnNjYW5MYXN0LCBmaXJzdCArIG1heFRvUmVuZGVyUGVyQmF0Y2ggLSAxKVxuICAgICAgOiBsYXN0O1xuICBjb25zdCB2aXNpYmxlID0ge2ZpcnN0LCBsYXN0fTtcblxuICAvLyBXZSB3YW50IHRvIGxpbWl0IHRoZSBudW1iZXIgb2YgbmV3IGNlbGxzIHdlJ3JlIHJlbmRlcmluZyBwZXIgYmF0Y2ggc28gdGhhdCB3ZSBjYW4gZmlsbCB0aGVcbiAgLy8gY29udGVudCBvbiB0aGUgc2NyZWVuIHF1aWNrbHkuIElmIHdlIHJlbmRlcmVkIHRoZSBlbnRpcmUgb3ZlcnNjYW4gd2luZG93IGF0IG9uY2UsIHRoZSB1c2VyXG4gIC8vIGNvdWxkIGJlIHN0YXJpbmcgYXQgd2hpdGUgc3BhY2UgZm9yIGEgbG9uZyB0aW1lIHdhaXRpbmcgZm9yIGEgYnVuY2ggb2Ygb2Zmc2NyZWVuIGNvbnRlbnQgdG9cbiAgLy8gcmVuZGVyLlxuICBsZXQgbmV3Q2VsbENvdW50ID0gbmV3UmFuZ2VDb3VudChwcmV2LCB2aXNpYmxlKTtcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIGlmIChmaXJzdCA8PSBvdmVyc2NhbkZpcnN0ICYmIGxhc3QgPj0gb3ZlcnNjYW5MYXN0KSB7XG4gICAgICAvLyBJZiB3ZSBmaWxsIHRoZSBlbnRpcmUgb3ZlcnNjYW4gcmFuZ2UsIHdlJ3JlIGRvbmUuXG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY29uc3QgbWF4TmV3Q2VsbHMgPSBuZXdDZWxsQ291bnQgPj0gbWF4VG9SZW5kZXJQZXJCYXRjaDtcblxuICAgIGxldCBmaXJzdFdpbGxBZGRNb3JlO1xuICAgIGxldCBsYXN0V2lsbEFkZE1vcmU7XG5cbiAgICBpZiAoUmVhY3ROYXRpdmVGZWF0dXJlRmxhZ3MuZml4VmlydHVhbGl6ZUxpc3RDb2xsYXBzZVdpbmRvd1NpemUoKSkge1xuICAgICAgZmlyc3RXaWxsQWRkTW9yZSA9IGZpcnN0IDw9IHByZXYuZmlyc3Q7XG4gICAgICBsYXN0V2lsbEFkZE1vcmUgPSBsYXN0ID49IHByZXYubGFzdDtcbiAgICB9IGVsc2Uge1xuICAgICAgZmlyc3RXaWxsQWRkTW9yZSA9IGZpcnN0IDw9IHByZXYuZmlyc3QgfHwgZmlyc3QgPiBwcmV2Lmxhc3Q7XG4gICAgICBsYXN0V2lsbEFkZE1vcmUgPSBsYXN0ID49IHByZXYubGFzdCB8fCBsYXN0IDwgcHJldi5maXJzdDtcbiAgICB9XG5cbiAgICBjb25zdCBmaXJzdFNob3VsZEluY3JlbWVudCA9XG4gICAgICBmaXJzdCA+IG92ZXJzY2FuRmlyc3QgJiYgKCFtYXhOZXdDZWxscyB8fCAhZmlyc3RXaWxsQWRkTW9yZSk7XG4gICAgY29uc3QgbGFzdFNob3VsZEluY3JlbWVudCA9XG4gICAgICBsYXN0IDwgb3ZlcnNjYW5MYXN0ICYmICghbWF4TmV3Q2VsbHMgfHwgIWxhc3RXaWxsQWRkTW9yZSk7XG4gICAgaWYgKG1heE5ld0NlbGxzICYmICFmaXJzdFNob3VsZEluY3JlbWVudCAmJiAhbGFzdFNob3VsZEluY3JlbWVudCkge1xuICAgICAgLy8gV2Ugb25seSB3YW50IHRvIHN0b3AgaWYgd2UndmUgaGl0IG1heE5ld0NlbGxzIEFORCB3ZSBjYW5ub3QgaW5jcmVtZW50IGZpcnN0IG9yIGxhc3RcbiAgICAgIC8vIHdpdGhvdXQgcmVuZGVyaW5nIG5ldyBpdGVtcy4gVGhpcyBsZXQncyB1cyBwcmVzZXJ2ZSBhcyBtYW55IGFscmVhZHkgcmVuZGVyZWQgaXRlbXMgYXNcbiAgICAgIC8vIHBvc3NpYmxlLCByZWR1Y2luZyByZW5kZXIgY2h1cm4gYW5kIGtlZXBpbmcgdGhlIHJlbmRlcmVkIG92ZXJzY2FuIHJhbmdlIGFzIGxhcmdlIGFzXG4gICAgICAvLyBwb3NzaWJsZS5cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBmaXJzdFNob3VsZEluY3JlbWVudCAmJlxuICAgICAgIShmaWxsUHJlZmVyZW5jZSA9PT0gJ2FmdGVyJyAmJiBsYXN0U2hvdWxkSW5jcmVtZW50ICYmIGxhc3RXaWxsQWRkTW9yZSlcbiAgICApIHtcbiAgICAgIGlmIChmaXJzdFdpbGxBZGRNb3JlKSB7XG4gICAgICAgIG5ld0NlbGxDb3VudCsrO1xuICAgICAgfVxuICAgICAgZmlyc3QtLTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgbGFzdFNob3VsZEluY3JlbWVudCAmJlxuICAgICAgIShmaWxsUHJlZmVyZW5jZSA9PT0gJ2JlZm9yZScgJiYgZmlyc3RTaG91bGRJbmNyZW1lbnQgJiYgZmlyc3RXaWxsQWRkTW9yZSlcbiAgICApIHtcbiAgICAgIGlmIChsYXN0V2lsbEFkZE1vcmUpIHtcbiAgICAgICAgbmV3Q2VsbENvdW50Kys7XG4gICAgICB9XG4gICAgICBsYXN0Kys7XG4gICAgfVxuICB9XG4gIGlmIChcbiAgICAhKFxuICAgICAgbGFzdCA+PSBmaXJzdCAmJlxuICAgICAgZmlyc3QgPj0gMCAmJlxuICAgICAgbGFzdCA8IGl0ZW1Db3VudCAmJlxuICAgICAgZmlyc3QgPj0gb3ZlcnNjYW5GaXJzdCAmJlxuICAgICAgbGFzdCA8PSBvdmVyc2Nhbkxhc3QgJiZcbiAgICAgIGZpcnN0IDw9IHZpc2libGUuZmlyc3QgJiZcbiAgICAgIGxhc3QgPj0gdmlzaWJsZS5sYXN0XG4gICAgKVxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnQmFkIHdpbmRvdyBjYWxjdWxhdGlvbiAnICtcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGZpcnN0LFxuICAgICAgICAgIGxhc3QsXG4gICAgICAgICAgaXRlbUNvdW50LFxuICAgICAgICAgIG92ZXJzY2FuRmlyc3QsXG4gICAgICAgICAgb3ZlcnNjYW5MYXN0LFxuICAgICAgICAgIHZpc2libGUsXG4gICAgICAgIH0pLFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHtmaXJzdCwgbGFzdH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBrZXlFeHRyYWN0b3IoaXRlbTogYW55LCBpbmRleDogbnVtYmVyKTogc3RyaW5nIHtcbiAgaWYgKHR5cGVvZiBpdGVtID09PSAnb2JqZWN0JyAmJiBpdGVtPy5rZXkgIT0gbnVsbCkge1xuICAgIHJldHVybiBpdGVtLmtleTtcbiAgfVxuICBpZiAodHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnICYmIGl0ZW0/LmlkICE9IG51bGwpIHtcbiAgICByZXR1cm4gaXRlbS5pZDtcbiAgfVxuICByZXR1cm4gU3RyaW5nKGluZGV4KTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBVUEsWUFBWTs7QUFBQyxJQUFBQSxzQkFBQSxHQUFBQyxPQUFBO0FBQUFDLE1BQUEsQ0FBQUMsY0FBQSxDQUFBQyxPQUFBO0VBQUFDLEtBQUE7QUFBQTtBQUFBRCxPQUFBLENBQUFFLDJCQUFBLEdBQUFBLDJCQUFBO0FBQUFGLE9BQUEsQ0FBQUcsMEJBQUEsR0FBQUEsMEJBQUE7QUFBQUgsT0FBQSxDQUFBSSxZQUFBLEdBQUFBLFlBQUE7QUFBQUosT0FBQSxDQUFBSyxhQUFBLEdBQUFBLGFBQUE7QUFBQSxJQUFBQyxlQUFBLEdBQUFWLHNCQUFBLENBQUFDLE9BQUE7QUFNYixJQUFBVSx1QkFBQSxHQUFBQyx1QkFBQSxDQUFBWCxPQUFBO0FBQXlHLFNBQUFXLHdCQUFBQyxDQUFBLEVBQUFDLENBQUEsNkJBQUFDLE9BQUEsTUFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBSCx1QkFBQSxZQUFBQSx3QkFBQUMsQ0FBQSxFQUFBQyxDQUFBLFNBQUFBLENBQUEsSUFBQUQsQ0FBQSxJQUFBQSxDQUFBLENBQUFLLFVBQUEsU0FBQUwsQ0FBQSxNQUFBTSxDQUFBLEVBQUFDLENBQUEsRUFBQUMsQ0FBQSxL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