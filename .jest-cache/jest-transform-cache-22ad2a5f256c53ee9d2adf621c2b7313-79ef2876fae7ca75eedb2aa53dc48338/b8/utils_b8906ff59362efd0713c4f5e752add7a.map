{"version":3,"names":["_jestMatcherUtils","require","_redent","_interopRequireDefault","_componentTree","e","__esModule","default","HostElementTypeError","_Error","received","matcherFn","context","_this","_classCallCheck2","_callSuper","Error","captureStackTrace","withType","printWithType","printReceived","_unused","message","matcherHint","isNot","name","RECEIVED_COLOR","join","_inherits2","_createClass2","_wrapNativeSuper2","checkHostElement","element","isHostElement","formatMessage","matcher","expectedLabel","expectedValue","receivedLabel","receivedValue","EXPECTED_COLOR","formatValue","value","stringify"],"sources":["../../src/matchers/utils.ts"],"sourcesContent":["import type { ReactTestInstance } from 'react-test-renderer';\nimport {\n  EXPECTED_COLOR,\n  matcherHint,\n  printReceived,\n  printWithType,\n  RECEIVED_COLOR,\n  stringify,\n} from 'jest-matcher-utils';\nimport redent from 'redent';\n\nimport { isHostElement } from '../helpers/component-tree';\n\nclass HostElementTypeError extends Error {\n  constructor(received: unknown, matcherFn: jest.CustomMatcher, context: jest.MatcherContext) {\n    super();\n\n    /* istanbul ignore next */\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, matcherFn);\n    }\n\n    let withType = '';\n    try {\n      withType = printWithType('Received', received, printReceived);\n      /* istanbul ignore next */\n    } catch {\n      // Deliberately empty.\n    }\n\n    this.message = [\n      matcherHint(`${context.isNot ? '.not' : ''}.${matcherFn.name}`, 'received', ''),\n      '',\n      `${RECEIVED_COLOR('received')} value must be a host element.`,\n      withType,\n    ].join('\\n');\n  }\n}\n\n/**\n * Throws HostElementTypeError if passed element is not a host element.\n *\n * @param element ReactTestInstance to check.\n * @param matcherFn Matcher function calling the check used for formatting error.\n * @param context Jest matcher context used for formatting error.\n */\nexport function checkHostElement(\n  element: ReactTestInstance | null | undefined,\n  matcherFn: jest.CustomMatcher,\n  context: jest.MatcherContext,\n): asserts element is ReactTestInstance {\n  if (!isHostElement(element)) {\n    throw new HostElementTypeError(element, matcherFn, context);\n  }\n}\n\nexport function formatMessage(\n  matcher: string,\n  expectedLabel: string,\n  expectedValue: string | RegExp | null | undefined,\n  receivedLabel: string,\n  receivedValue: string | null | undefined,\n) {\n  return [\n    `${matcher}\\n`,\n    `${expectedLabel}:\\n${EXPECTED_COLOR(redent(formatValue(expectedValue), 2))}`,\n    `${receivedLabel}:\\n${RECEIVED_COLOR(redent(formatValue(receivedValue), 2))}`,\n  ].join('\\n');\n}\n\nfunction formatValue(value: unknown) {\n  return typeof value === 'string' ? value : stringify(value);\n}\n"],"mappings":";;;;;;;;;;;;;;;;AACA,IAAAA,iBAAA,GAAAC,OAAA;AAQA,IAAAC,OAAA,GAAAC,sBAAA,CAAAF,OAAA;AAEA,IAAAG,cAAA,GAAAH,OAAA;AAA0D,SAAAE,uBAAAE,CAAA;EAAA,OAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA;IAAAE,OAAA,EAAAF;EAAA;AAAA;AAAA,IAEpDG,oBAAoB,aAAAC,MAAA;EACxB,SAAAD,qBAAYE,QAAiB,EAAEC,SAA6B,EAAEC,OAA4B,EAAE;IAAA,IAAAC,KAAA;IAAA,IAAAC,gBAAA,CAAAP,OAAA,QAAAC,oBAAA;IAC1FK,KAAA,GAAAE,UAAA,OAAAP,oBAAA;IAGA,IAAIQ,KAAK,CAACC,iBAAiB,EAAE;MAC3BD,KAAK,CAACC,iBAAiB,CAAAJ,KAAA,EAAOF,SAAS,CAAC;IAC1C;IAEA,IAAIO,QAAQ,GAAG,EAAE;IACjB,IAAI;MACFA,QAAQ,GAAG,IAAAlB,iBAAA,CAAAmB,aAAa,EAAC,UAAU,EAAET,QAAQ,EAAEV,iBAAA,CAAAoB,aAAa,CAAC;IAE/D,CAAC,CAAC,OAAAC,OAAA,EAAM,CACN;IAGFR,KAAA,CAAKS,OAAO,GAAG,CACb,IAAAtB,iBAAA,CAAAuB,WAAW,EAAC,GAAGX,OAAO,CAACY,KAAK,GAAG,MAAM,GAAG,EAAE,IAAIb,SAAS,CAACc,IAAI,EAAE,EAAE,UAAU,EAAE,EAAE,CAAC,EAC/E,EAAE,EACF,GAAG,IAAAzB,iBAAA,CAAA0B,cAAc,EAAC,UAAU,CAAC,gCAAgC,EAC7DR,QAAQ,CACT,CAACS,IAAI,CAAC,IAAI,CAAC;IAAA,OAAAd,KAAA;EACd;EAAA,IAAAe,UAAA,CAAArB,OAAA,EAAAC,oBAAA,EAAAC,MAAA;EAAA,WAAAoB,aAAA,CAAAtB,OAAA,EAAAC,oBAAA;AAAA,MAAAsB,iBAAA,CAAAvB,OAAA,EAvBiCS,KAAK;AAiCjC,SAASe,gBAAgBA,CAC9BC,OAA6C,EAC7CrB,SAA6B,EAC7BC,OAA4B,EACU;EACtC,IAAI,CAAC,IAAAR,cAAA,CAAA6B,aAAa,EAACD,OAAO,CAAC,EAAE;IAC3B,MAAM,IAAIxB,oBAAoB,CAACwB,OAAO,EAAErB,SAAS,EAAEC,OAAO,CAAC;EAC7D;AACF;AAEO,SAASsB,aAAaA,CAC3BC,OAAe,EACfC,aAAqB,EACrBC,aAAiD,EACjDC,aAAqB,EACrBC,aAAwC,EACxC;EACA,OAAO,CACL,GAAGJ,OAAO,IAAI,EACd,GAAGC,aAAa,MAAM,IAAApC,iBAAA,CAAAwC,cAAc,EAAC,IAAAtC,OAAA,CAAAK,OAAM,EAACkC,WAAW,CAACJ,aAAa,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAC7E,GAAGC,aAAa,MAAM,IAAAtC,iBAAA,CAAA0B,cAAc,EAAC,IAAAxB,OAAA,CAAAK,OAAM,EAACkC,WAAW,CAACF,aAAa,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAC9E,CAACZ,IAAI,CAAC,IAAI,CAAC;AACd;AAEA,SAASc,WAAWA,CAACC,KAAc,EAAE;EACnC,OAAO,OAAOA,KAAK,KAAK,QAAQ,GAAGA,KAAK,GAAG,IAAA1C,iBAAA,CAAA2C,SAAS,EAACD,KAAK,CAAC;AAC7D","ignoreList":[]}