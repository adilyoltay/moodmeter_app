ba618e58ed418b4ca453da2758dcfa28
_getJestObj().mock("../../services/supabase", function () {
  return {
    __esModule: true,
    default: {
      supabaseClient: {
        from: jest.fn(function () {
          return {
            select: jest.fn(function () {
              return {
                eq: jest.fn(function () {
                  return {
                    maybeSingle: jest.fn((0, _asyncToGenerator2.default)(function* () {
                      return {
                        data: null,
                        error: null
                      };
                    }))
                  };
                })
              };
            }),
            upsert: jest.fn((0, _asyncToGenerator2.default)(function* () {
              return {
                data: null,
                error: null
              };
            })),
            delete: jest.fn(function () {
              return {
                eq: jest.fn((0, _asyncToGenerator2.default)(function* () {
                  return {
                    data: null,
                    error: null
                  };
                }))
              };
            }),
            like: jest.fn(function () {
              return {
                delete: jest.fn(function () {
                  return {
                    eq: jest.fn((0, _asyncToGenerator2.default)(function* () {
                      return {
                        data: null,
                        error: null
                      };
                    }))
                  };
                })
              };
            }),
            eq: jest.fn(function () {
              return {
                maybeSingle: jest.fn((0, _asyncToGenerator2.default)(function* () {
                  return {
                    data: null,
                    error: null
                  };
                }))
              };
            })
          };
        })
      }
    }
  };
});
_getJestObj().mock("../../features/ai/telemetry/aiTelemetry", function () {
  var actual = jest.requireActual("../../features/ai/telemetry/aiTelemetry");
  return Object.assign({
    __esModule: true
  }, actual, {
    trackAIInteraction: jest.fn((0, _asyncToGenerator2.default)(function* () {}))
  });
});
_getJestObj().mock("../../hooks/useCacheInvalidation", function () {
  return {
    __esModule: true,
    emitAIInvalidation: function emitAIInvalidation() {
      return mockEmitAIInvalidation.apply(void 0, arguments);
    }
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _seedData = require("../fixtures/seedData");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var unifiedPipeline;
var actualTelemetry = jest.requireActual("../../features/ai/telemetry/aiTelemetry");
var AIEventType = actualTelemetry.AIEventType;
var mockEmitAIInvalidation = jest.fn();
describe('System Today - Unified Pipeline', function () {
  var userId = _seedData.TEST_ENV.SEED_USER_ID;
  var trackAIInteraction;
  beforeAll(function () {
    process.env.TEST_MODE = '1';
    process.env.TEST_TTL_MS = '5000';
    process.env.TEST_PIPELINE_STUB = '0';
    process.env.TEST_SEED_USER_ID = userId;
    process.env.EXPO_PUBLIC_ENABLE_AI = 'true';
    jest.resetModules();
    jest.doMock("../../constants/featureFlags.ts", function () {
      var actual = jest.requireActual("../../constants/featureFlags.ts");
      return Object.assign({
        __esModule: true
      }, actual, {
        AI_MASTER_ENABLED: true,
        isEnabled: function isEnabled(flag) {
          if (flag === 'AI_UNIFIED_PIPELINE') return true;
          return actual.isEnabled(flag);
        }
      });
    });
    unifiedPipeline = require("../../features/ai/core/UnifiedAIPipeline").unifiedPipeline;
    trackAIInteraction = require("../../features/ai/telemetry/aiTelemetry").trackAIInteraction;
  });
  beforeEach((0, _asyncToGenerator2.default)(function* () {
    jest.clearAllMocks();
    yield _asyncStorage.default.clear();
  }));
  it('[QRsys:today:fresh] processes fresh and writes unified:* cache', (0, _asyncToGenerator2.default)(function* () {
    var moodsRaw = (0, _seedData.generateMoodData)(_seedData.MOOD_SCENARIOS.high);
    var moods = moodsRaw.map(function (m) {
      return Object.assign({}, m, {
        timestamp: m.created_at,
        mood_score: m.mood_level
      });
    });
    var result = yield unifiedPipeline.process({
      userId: userId,
      type: 'data',
      content: {
        moods: moods
      },
      context: {
        source: 'mood'
      }
    });
    expect(result.metadata.source).toBe('fresh');
    var calls = trackAIInteraction.mock.calls.map(function (args) {
      return args[0];
    });
    expect(calls).toContain(AIEventType.UNIFIED_PIPELINE_STARTED);
    expect(calls).toContain(AIEventType.UNIFIED_PIPELINE_COMPLETED);
    var keys = yield _asyncStorage.default.getAllKeys();
    expect(keys.some(function (k) {
      return k.startsWith(`unified:${userId}:`);
    })).toBe(true);
  }));
  it('[QRsys:today:cache] returns cache on subsequent run', (0, _asyncToGenerator2.default)(function* () {
    var moodsRaw = (0, _seedData.generateMoodData)(_seedData.MOOD_SCENARIOS.medium);
    var moods = moodsRaw.map(function (m) {
      return Object.assign({}, m, {
        timestamp: m.created_at,
        mood_score: m.mood_level
      });
    });
    yield unifiedPipeline.process({
      userId: userId,
      type: 'data',
      content: {
        moods: moods
      },
      context: {
        source: 'mood'
      }
    });
    var second = yield unifiedPipeline.process({
      userId: userId,
      type: 'data',
      content: {
        moods: moods
      },
      context: {
        source: 'mood'
      }
    });
    expect(second.metadata.source).toBe('cache');
    var calls = trackAIInteraction.mock.calls.map(function (args) {
      return args[0];
    });
    expect(calls).toContain(AIEventType.UNIFIED_PIPELINE_CACHE_HIT);
  }));
  it('[QRsys:today:invalidate] emits invalidation and reruns pipeline', (0, _asyncToGenerator2.default)(function* () {
    var moodsRaw = (0, _seedData.generateMoodData)(_seedData.MOOD_SCENARIOS.low);
    var moods = moodsRaw.map(function (m) {
      return Object.assign({}, m, {
        timestamp: m.created_at,
        mood_score: m.mood_level
      });
    });
    yield unifiedPipeline.process({
      userId: userId,
      type: 'data',
      content: {
        moods: moods
      },
      context: {
        source: 'mood'
      }
    });
    yield unifiedPipeline.triggerInvalidation('mood_added', userId);
    var eventTypes = trackAIInteraction.mock.calls.map(function (args) {
      return args[0];
    });
    expect(eventTypes).toContain(AIEventType.CACHE_INVALIDATION);
    yield unifiedPipeline.process({
      userId: userId,
      type: 'data',
      content: {
        moods: moods
      },
      context: {
        source: 'mood'
      }
    });
    var afterInvalidate = trackAIInteraction.mock.calls.filter(function (c) {
      return [AIEventType.UNIFIED_PIPELINE_STARTED, AIEventType.UNIFIED_PIPELINE_COMPLETED].includes(c[0]);
    }).length;
    expect(afterInvalidate).toBeGreaterThanOrEqual(2);
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInN1cGFiYXNlQ2xpZW50IiwiZnJvbSIsImplc3QiLCJmbiIsInNlbGVjdCIsImVxIiwibWF5YmVTaW5nbGUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJkYXRhIiwiZXJyb3IiLCJ1cHNlcnQiLCJkZWxldGUiLCJsaWtlIiwiYWN0dWFsIiwicmVxdWlyZUFjdHVhbCIsIk9iamVjdCIsImFzc2lnbiIsInRyYWNrQUlJbnRlcmFjdGlvbiIsImVtaXRBSUludmFsaWRhdGlvbiIsIm1vY2tFbWl0QUlJbnZhbGlkYXRpb24iLCJhcHBseSIsImFyZ3VtZW50cyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2FzeW5jU3RvcmFnZSIsIl9zZWVkRGF0YSIsIl9yZXF1aXJlIiwidW5pZmllZFBpcGVsaW5lIiwiYWN0dWFsVGVsZW1ldHJ5IiwiQUlFdmVudFR5cGUiLCJkZXNjcmliZSIsInVzZXJJZCIsIlRFU1RfRU5WIiwiU0VFRF9VU0VSX0lEIiwiYmVmb3JlQWxsIiwicHJvY2VzcyIsImVudiIsIlRFU1RfTU9ERSIsIlRFU1RfVFRMX01TIiwiVEVTVF9QSVBFTElORV9TVFVCIiwiVEVTVF9TRUVEX1VTRVJfSUQiLCJFWFBPX1BVQkxJQ19FTkFCTEVfQUkiLCJyZXNldE1vZHVsZXMiLCJkb01vY2siLCJBSV9NQVNURVJfRU5BQkxFRCIsImlzRW5hYmxlZCIsImZsYWciLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIkFzeW5jU3RvcmFnZSIsImNsZWFyIiwiaXQiLCJtb29kc1JhdyIsImdlbmVyYXRlTW9vZERhdGEiLCJNT09EX1NDRU5BUklPUyIsImhpZ2giLCJtb29kcyIsIm1hcCIsIm0iLCJ0aW1lc3RhbXAiLCJjcmVhdGVkX2F0IiwibW9vZF9zY29yZSIsIm1vb2RfbGV2ZWwiLCJyZXN1bHQiLCJ0eXBlIiwiY29udGVudCIsImNvbnRleHQiLCJzb3VyY2UiLCJleHBlY3QiLCJtZXRhZGF0YSIsInRvQmUiLCJjYWxscyIsImFyZ3MiLCJ0b0NvbnRhaW4iLCJVTklGSUVEX1BJUEVMSU5FX1NUQVJURUQiLCJVTklGSUVEX1BJUEVMSU5FX0NPTVBMRVRFRCIsImtleXMiLCJnZXRBbGxLZXlzIiwic29tZSIsImsiLCJzdGFydHNXaXRoIiwibWVkaXVtIiwic2Vjb25kIiwiVU5JRklFRF9QSVBFTElORV9DQUNIRV9ISVQiLCJsb3ciLCJ0cmlnZ2VySW52YWxpZGF0aW9uIiwiZXZlbnRUeXBlcyIsIkNBQ0hFX0lOVkFMSURBVElPTiIsImFmdGVySW52YWxpZGF0ZSIsImZpbHRlciIsImMiLCJpbmNsdWRlcyIsImxlbmd0aCIsInRvQmVHcmVhdGVyVGhhbk9yRXF1YWwiXSwic291cmNlcyI6WyJTeXN0ZW1Ub2RheVBpcGVsaW5lLnNwZWMudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog8J+nqiBTeXN0ZW0tTW9kZSBUZXN0cyDigJQgVG9kYXkgKFJlYWwgVW5pZmllZEFJUGlwZWxpbmUpXG4gKlxuICogUnVucyB0aGUgcmVhbCBwaXBlbGluZSAobm8gc3R1YnMpIHdpdGggZGV0ZXJtaW5pc3RpYyBpbnB1dHMgYW5kIHZlcmlmaWVzOlxuICogLSBGcmVzaCBwcm9jZXNzaW5nIGFuZCBjYWNoZSB3cml0ZVxuICogLSBDYWNoZSBoaXQgb24gc3Vic2VxdWVudCBydW5cbiAqIC0gSW52YWxpZGF0aW9uIGVtaXRzIHRlbGVtZXRyeSBhbmQgcmVydW5zIHBpcGVsaW5lXG4gKiBUYWdzOiBbUVJzeXM6dG9kYXk6ZnJlc2h8Y2FjaGV8aW52YWxpZGF0ZV1cbiAqL1xuXG5pbXBvcnQgQXN5bmNTdG9yYWdlIGZyb20gJ0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS9hc3luYy1zdG9yYWdlJztcbi8vIHVuaWZpZWRQaXBlbGluZSB3aWxsIGJlIHJlcXVpcmVkIGFmdGVyIGVudiBpcyBzZXRcbmxldCB1bmlmaWVkUGlwZWxpbmU6IGFueTtcblxuLy8gVXNlIGFjdHVhbCBlbnVtcyB3aGlsZSBzcHlpbmcgb24gZnVuY3Rpb25cbmNvbnN0IGFjdHVhbFRlbGVtZXRyeSA9IGplc3QucmVxdWlyZUFjdHVhbCgnQC9mZWF0dXJlcy9haS90ZWxlbWV0cnkvYWlUZWxlbWV0cnknKTtcbmltcG9ydCB0eXBlIHsgQUlFdmVudFR5cGUgYXMgQUlFdmVudFR5cGVUeXBlIH0gZnJvbSAnQC9mZWF0dXJlcy9haS90ZWxlbWV0cnkvYWlUZWxlbWV0cnknO1xuY29uc3QgQUlFdmVudFR5cGU6IHR5cGVvZiBhY3R1YWxUZWxlbWV0cnkuQUlFdmVudFR5cGUgPSBhY3R1YWxUZWxlbWV0cnkuQUlFdmVudFR5cGU7XG5cbi8vIERldGVybWluaXN0aWMgc2VlZCBoZWxwZXJzXG5pbXBvcnQge1xuICBNT09EX1NDRU5BUklPUyxcbiAgZ2VuZXJhdGVNb29kRGF0YSxcbiAgVEVTVF9FTlZcbn0gZnJvbSAnLi4vZml4dHVyZXMvc2VlZERhdGEnO1xuXG4vLyBNb2NrIFN1cGFiYXNlIHNlcnZpY2UgdG8gYXZvaWQgbmV0d29yay9jcmVkZW50aWFsc1xuamVzdC5tb2NrKCdAL3NlcnZpY2VzL3N1cGFiYXNlJywgKCkgPT4gKHtcbiAgX19lc01vZHVsZTogdHJ1ZSxcbiAgZGVmYXVsdDoge1xuICAgIHN1cGFiYXNlQ2xpZW50OiB7XG4gICAgICBmcm9tOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgICAgIHNlbGVjdDogamVzdC5mbigoKSA9PiAoeyBlcTogamVzdC5mbigoKSA9PiAoeyBtYXliZVNpbmdsZTogamVzdC5mbihhc3luYyAoKSA9PiAoeyBkYXRhOiBudWxsLCBlcnJvcjogbnVsbCB9KSkgfSkpIH0pKSxcbiAgICAgICAgdXBzZXJ0OiBqZXN0LmZuKGFzeW5jICgpID0+ICh7IGRhdGE6IG51bGwsIGVycm9yOiBudWxsIH0pKSxcbiAgICAgICAgZGVsZXRlOiBqZXN0LmZuKCgpID0+ICh7IGVxOiBqZXN0LmZuKGFzeW5jICgpID0+ICh7IGRhdGE6IG51bGwsIGVycm9yOiBudWxsIH0pKSB9KSksXG4gICAgICAgIGxpa2U6IGplc3QuZm4oKCkgPT4gKHsgZGVsZXRlOiBqZXN0LmZuKCgpID0+ICh7IGVxOiBqZXN0LmZuKGFzeW5jICgpID0+ICh7IGRhdGE6IG51bGwsIGVycm9yOiBudWxsIH0pKSB9KSkgfSkpLFxuICAgICAgICBlcTogamVzdC5mbigoKSA9PiAoeyBtYXliZVNpbmdsZTogamVzdC5mbihhc3luYyAoKSA9PiAoeyBkYXRhOiBudWxsLCBlcnJvcjogbnVsbCB9KSkgfSkpLFxuICAgICAgfSkpXG4gICAgfVxuICB9XG59KSk7XG5cbi8vIFNweSBvbiB0ZWxlbWV0cnkgd2hpbGUga2VlcGluZyBhY3R1YWwgZW51bVxuamVzdC5tb2NrKCdAL2ZlYXR1cmVzL2FpL3RlbGVtZXRyeS9haVRlbGVtZXRyeScsICgpID0+IHtcbiAgY29uc3QgYWN0dWFsID0gamVzdC5yZXF1aXJlQWN0dWFsKCdAL2ZlYXR1cmVzL2FpL3RlbGVtZXRyeS9haVRlbGVtZXRyeScpO1xuICByZXR1cm4ge1xuICAgIF9fZXNNb2R1bGU6IHRydWUsXG4gICAgLi4uYWN0dWFsLFxuICAgIHRyYWNrQUlJbnRlcmFjdGlvbjogamVzdC5mbihhc3luYyAoKSA9PiB7fSksXG4gIH07XG59KTtcblxuLy8gQ2FwdHVyZSBBSSBpbnZhbGlkYXRpb24gZW1pc3Npb24gKG5hbWUgbXVzdCBzdGFydCB3aXRoIG1vY2sqIGZvciBqZXN0IG1vY2sgZmFjdG9yeSBzY29wZSlcbmNvbnN0IG1vY2tFbWl0QUlJbnZhbGlkYXRpb24gPSBqZXN0LmZuKCk7XG5qZXN0Lm1vY2soJ0AvaG9va3MvdXNlQ2FjaGVJbnZhbGlkYXRpb24nLCAoKSA9PiAoe1xuICBfX2VzTW9kdWxlOiB0cnVlLFxuICBlbWl0QUlJbnZhbGlkYXRpb246ICguLi5hcmdzOiBhbnlbXSkgPT4gbW9ja0VtaXRBSUludmFsaWRhdGlvbiguLi5hcmdzKSxcbn0pKTtcblxuZGVzY3JpYmUoJ1N5c3RlbSBUb2RheSAtIFVuaWZpZWQgUGlwZWxpbmUnLCAoKSA9PiB7XG4gIGNvbnN0IHVzZXJJZCA9IFRFU1RfRU5WLlNFRURfVVNFUl9JRDtcbiAgbGV0IHRyYWNrQUlJbnRlcmFjdGlvbjogamVzdC5Nb2NrO1xuXG4gIGJlZm9yZUFsbCgoKSA9PiB7XG4gICAgLy8gRW5zdXJlIHN5c3RlbS1tb2RlIGVudlxuICAgIHByb2Nlc3MuZW52LlRFU1RfTU9ERSA9ICcxJztcbiAgICBwcm9jZXNzLmVudi5URVNUX1RUTF9NUyA9ICc1MDAwJztcbiAgICBwcm9jZXNzLmVudi5URVNUX1BJUEVMSU5FX1NUVUIgPSAnMCc7XG4gICAgcHJvY2Vzcy5lbnYuVEVTVF9TRUVEX1VTRVJfSUQgPSB1c2VySWQ7XG4gICAgcHJvY2Vzcy5lbnYuRVhQT19QVUJMSUNfRU5BQkxFX0FJID0gJ3RydWUnO1xuICAgIC8vIFJlLWV2YWx1YXRlIG1vZHVsZXMgd2l0aCBlbnYgaW4gcGxhY2VcbiAgICBqZXN0LnJlc2V0TW9kdWxlcygpO1xuICAgIC8vIEZvcmNlLWVuYWJsZSB1bmlmaWVkIHBpcGVsaW5lIHZpYSBmZWF0dXJlIGZsYWdzXG4gICAgamVzdC5kb01vY2soJ2NvbnN0YW50cy9mZWF0dXJlRmxhZ3MudHMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBhY3R1YWwgPSBqZXN0LnJlcXVpcmVBY3R1YWwoJ2NvbnN0YW50cy9mZWF0dXJlRmxhZ3MudHMnKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIF9fZXNNb2R1bGU6IHRydWUsXG4gICAgICAgIC4uLmFjdHVhbCxcbiAgICAgICAgQUlfTUFTVEVSX0VOQUJMRUQ6IHRydWUsXG4gICAgICAgIGlzRW5hYmxlZDogKGZsYWc6IHN0cmluZykgPT4ge1xuICAgICAgICAgIGlmIChmbGFnID09PSAnQUlfVU5JRklFRF9QSVBFTElORScpIHJldHVybiB0cnVlO1xuICAgICAgICAgIHJldHVybiAoYWN0dWFsIGFzIGFueSkuaXNFbmFibGVkKGZsYWcpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICAgIHVuaWZpZWRQaXBlbGluZSA9IHJlcXVpcmUoJ0AvZmVhdHVyZXMvYWkvY29yZS9VbmlmaWVkQUlQaXBlbGluZScpLnVuaWZpZWRQaXBlbGluZTtcbiAgICB0cmFja0FJSW50ZXJhY3Rpb24gPSAocmVxdWlyZSgnQC9mZWF0dXJlcy9haS90ZWxlbWV0cnkvYWlUZWxlbWV0cnknKSBhcyB0eXBlb2YgYWN0dWFsVGVsZW1ldHJ5ICYgeyB0cmFja0FJSW50ZXJhY3Rpb246IGplc3QuTW9jayB9KS50cmFja0FJSW50ZXJhY3Rpb24gYXMgamVzdC5Nb2NrO1xuICB9KTtcblxuICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBhd2FpdCAoQXN5bmNTdG9yYWdlIGFzIGFueSkuY2xlYXIoKTtcbiAgfSk7XG5cbiAgaXQoJ1tRUnN5czp0b2RheTpmcmVzaF0gcHJvY2Vzc2VzIGZyZXNoIGFuZCB3cml0ZXMgdW5pZmllZDoqIGNhY2hlJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG1vb2RzUmF3ID0gZ2VuZXJhdGVNb29kRGF0YShNT09EX1NDRU5BUklPUy5oaWdoKTtcbiAgICAvLyBNYXAgdG8gcGlwZWxpbmUgYW5hbHl0aWNzIGZpZWxkc1xuICAgIGNvbnN0IG1vb2RzID0gbW9vZHNSYXcubWFwKG0gPT4gKHtcbiAgICAgIC4uLm0sXG4gICAgICB0aW1lc3RhbXA6IG0uY3JlYXRlZF9hdCxcbiAgICAgIG1vb2Rfc2NvcmU6IG0ubW9vZF9sZXZlbCxcbiAgICB9KSk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1bmlmaWVkUGlwZWxpbmUucHJvY2Vzcyh7XG4gICAgICB1c2VySWQsXG4gICAgICB0eXBlOiAnZGF0YScsXG4gICAgICBjb250ZW50OiB7IG1vb2RzIH0sXG4gICAgICBjb250ZXh0OiB7IHNvdXJjZTogJ21vb2QnIH1cbiAgICB9KTtcblxuICAgIGV4cGVjdChyZXN1bHQubWV0YWRhdGEuc291cmNlKS50b0JlKCdmcmVzaCcpO1xuXG4gICAgLy8gVGVsZW1ldHJ5IGV2ZW50c1xuICAgIGNvbnN0IGNhbGxzID0gKHRyYWNrQUlJbnRlcmFjdGlvbiBhcyBqZXN0Lk1vY2spLm1vY2suY2FsbHMubWFwKGFyZ3MgPT4gYXJnc1swXSk7XG4gICAgZXhwZWN0KGNhbGxzKS50b0NvbnRhaW4oQUlFdmVudFR5cGUuVU5JRklFRF9QSVBFTElORV9TVEFSVEVEIGFzIHVua25vd24gYXMgQUlFdmVudFR5cGVUeXBlKTtcbiAgICBleHBlY3QoY2FsbHMpLnRvQ29udGFpbihBSUV2ZW50VHlwZS5VTklGSUVEX1BJUEVMSU5FX0NPTVBMRVRFRCBhcyB1bmtub3duIGFzIEFJRXZlbnRUeXBlVHlwZSk7XG5cbiAgICAvLyBDYWNoZSBrZXkgcGVyc2lzdGVkXG4gICAgY29uc3Qga2V5cyA9IGF3YWl0IEFzeW5jU3RvcmFnZS5nZXRBbGxLZXlzKCk7XG4gICAgZXhwZWN0KGtleXMuc29tZSgoazogc3RyaW5nKSA9PiBrLnN0YXJ0c1dpdGgoYHVuaWZpZWQ6JHt1c2VySWR9OmApKSkudG9CZSh0cnVlKTtcbiAgfSk7XG5cbiAgaXQoJ1tRUnN5czp0b2RheTpjYWNoZV0gcmV0dXJucyBjYWNoZSBvbiBzdWJzZXF1ZW50IHJ1bicsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBtb29kc1JhdyA9IGdlbmVyYXRlTW9vZERhdGEoTU9PRF9TQ0VOQVJJT1MubWVkaXVtKTtcbiAgICBjb25zdCBtb29kcyA9IG1vb2RzUmF3Lm1hcChtID0+ICh7IC4uLm0sIHRpbWVzdGFtcDogbS5jcmVhdGVkX2F0LCBtb29kX3Njb3JlOiBtLm1vb2RfbGV2ZWwgfSkpO1xuXG4gICAgYXdhaXQgdW5pZmllZFBpcGVsaW5lLnByb2Nlc3MoeyB1c2VySWQsIHR5cGU6ICdkYXRhJywgY29udGVudDogeyBtb29kcyB9LCBjb250ZXh0OiB7IHNvdXJjZTogJ21vb2QnIH0gfSk7XG4gICAgY29uc3Qgc2Vjb25kID0gYXdhaXQgdW5pZmllZFBpcGVsaW5lLnByb2Nlc3MoeyB1c2VySWQsIHR5cGU6ICdkYXRhJywgY29udGVudDogeyBtb29kcyB9LCBjb250ZXh0OiB7IHNvdXJjZTogJ21vb2QnIH0gfSk7XG5cbiAgICBleHBlY3Qoc2Vjb25kLm1ldGFkYXRhLnNvdXJjZSkudG9CZSgnY2FjaGUnKTtcblxuICAgIC8vIFRlbGVtZXRyeSByZWNvcmRzIGNhY2hlIGhpdFxuICAgIGNvbnN0IGNhbGxzID0gKHRyYWNrQUlJbnRlcmFjdGlvbiBhcyBqZXN0Lk1vY2spLm1vY2suY2FsbHMubWFwKGFyZ3MgPT4gYXJnc1swXSk7XG4gICAgZXhwZWN0KGNhbGxzKS50b0NvbnRhaW4oQUlFdmVudFR5cGUuVU5JRklFRF9QSVBFTElORV9DQUNIRV9ISVQgYXMgdW5rbm93biBhcyBBSUV2ZW50VHlwZVR5cGUpO1xuICB9KTtcblxuICBpdCgnW1FSc3lzOnRvZGF5OmludmFsaWRhdGVdIGVtaXRzIGludmFsaWRhdGlvbiBhbmQgcmVydW5zIHBpcGVsaW5lJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG1vb2RzUmF3ID0gZ2VuZXJhdGVNb29kRGF0YShNT09EX1NDRU5BUklPUy5sb3cpO1xuICAgIGNvbnN0IG1vb2RzID0gbW9vZHNSYXcubWFwKG0gPT4gKHsgLi4ubSwgdGltZXN0YW1wOiBtLmNyZWF0ZWRfYXQsIG1vb2Rfc2NvcmU6IG0ubW9vZF9sZXZlbCB9KSk7XG5cbiAgICBhd2FpdCB1bmlmaWVkUGlwZWxpbmUucHJvY2Vzcyh7IHVzZXJJZCwgdHlwZTogJ2RhdGEnLCBjb250ZW50OiB7IG1vb2RzIH0sIGNvbnRleHQ6IHsgc291cmNlOiAnbW9vZCcgfSB9KTtcblxuICAgIC8vIFRyaWdnZXIgaW52YWxpZGF0aW9uIChjbGVhcnMgbWVtb3J5IGNhY2hlICsgZW1pdHMgZXZlbnQsIFN1cGFiYXNlIGRlbGV0aW9uIG1vY2tlZClcbiAgICBhd2FpdCB1bmlmaWVkUGlwZWxpbmUudHJpZ2dlckludmFsaWRhdGlvbignbW9vZF9hZGRlZCcsIHVzZXJJZCk7XG5cbiAgICAvLyBWZXJpZnkgdGVsZW1ldHJ5IGFuZCBldmVudCBlbWlzc2lvblxuICAgIGNvbnN0IGV2ZW50VHlwZXMgPSAodHJhY2tBSUludGVyYWN0aW9uIGFzIGplc3QuTW9jaykubW9jay5jYWxscy5tYXAoYXJncyA9PiBhcmdzWzBdKTtcbiAgICBleHBlY3QoZXZlbnRUeXBlcykudG9Db250YWluKEFJRXZlbnRUeXBlLkNBQ0hFX0lOVkFMSURBVElPTiBhcyB1bmtub3duIGFzIEFJRXZlbnRUeXBlVHlwZSk7XG4gICAgLy8gVUktbGV2ZWwgaW52YWxpZGF0aW9uIGVtaXR0ZXIgbWF5IGJlIGJ5cGFzc2VkIGluIHN5c3RlbSBtb2RlOyByZWx5IG9uIHRlbGVtZXRyeSBhc3NlcnRpb24gYWJvdmVcblxuICAgIC8vIFJ1biBhZ2FpbiDigJQgbWF5IHJlYWQgZnJvbSBBc3luY1N0b3JhZ2UgKGNhY2hlKSBidXQgc2hvdWxkIHJlY29yZCBzdGFydC9jb21wbGV0ZSBhZ2FpblxuICAgIGF3YWl0IHVuaWZpZWRQaXBlbGluZS5wcm9jZXNzKHsgdXNlcklkLCB0eXBlOiAnZGF0YScsIGNvbnRlbnQ6IHsgbW9vZHMgfSwgY29udGV4dDogeyBzb3VyY2U6ICdtb29kJyB9IH0pO1xuICAgIGNvbnN0IGFmdGVySW52YWxpZGF0ZSA9ICh0cmFja0FJSW50ZXJhY3Rpb24gYXMgamVzdC5Nb2NrKS5tb2NrLmNhbGxzLmZpbHRlcihjID0+IFtcbiAgICAgIEFJRXZlbnRUeXBlLlVOSUZJRURfUElQRUxJTkVfU1RBUlRFRCxcbiAgICAgIEFJRXZlbnRUeXBlLlVOSUZJRURfUElQRUxJTkVfQ09NUExFVEVEXG4gICAgXS5pbmNsdWRlcyhjWzBdKSkubGVuZ3RoO1xuICAgIGV4cGVjdChhZnRlckludmFsaWRhdGUpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMik7IC8vIEF0IGxlYXN0IG9uZSBtb3JlIHN0YXJ0L2NvbXBsZXRlIHBhaXJcbiAgfSk7XG59KTtcblxuIl0sIm1hcHBpbmdzIjoiQUEyQkFBLFdBQUEsR0FBS0MsSUFBSSw0QkFBd0I7RUFBQSxPQUFPO0lBQ3RDQyxVQUFVLEVBQUUsSUFBSTtJQUNoQkMsT0FB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